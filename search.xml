<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>vuex</title>
      <link href="/2020/06/13/vuex/"/>
      <url>/2020/06/13/vuex/</url>
      
        <content type="html"><![CDATA[<h3 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h3><h4 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h4><ul><li>VueXæ˜¯é€‚ç”¨äºåœ¨Vueé¡¹ç›®å¼€å‘æ—¶ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé¡¹ç›®å¼€å‘ä¸­é¢‘ç¹çš„ä½¿ç”¨ç»„ä»¶ä¼ å‚çš„æ–¹å¼æ¥åŒæ­¥dataä¸­çš„å€¼ï¼Œä¸€æ—¦é¡¹ç›®å˜å¾—å¾ˆåºå¤§ï¼Œç®¡ç†å’Œç»´æŠ¤è¿™äº›å€¼å°†æ˜¯ç›¸å½“æ£˜æ‰‹çš„å·¥ä½œã€‚ä¸ºæ­¤ï¼ŒVueä¸ºè¿™äº›è¢«å¤šä¸ªç»„ä»¶é¢‘ç¹ä½¿ç”¨çš„å€¼æä¾›äº†ä¸€ä¸ªç»Ÿä¸€ç®¡ç†çš„å·¥å…·â€”â€”VueXã€‚åœ¨å…·æœ‰VueXçš„Vueé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™äº›å€¼å®šä¹‰åœ¨VueXä¸­ï¼Œå³å¯åœ¨æ•´ä¸ªVueé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</li><li>é€šä¿—çš„æ¥è¯´ï¼Œç»„ä»¶å¯ä»¥è°ƒç”¨è‡ªå·±çš„dataæ•°æ®ï¼Œä½†æ˜¯ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´æ— æ³•è·¨ç»„ä»¶è°ƒç”¨ï¼Œè¿™æ—¶vuexå°±æ˜¾ç¤ºä»–çš„ä½œç”¨äº†ï¼Œvuexå°±åƒä¸€ä¸ªå‰ç«¯æ•°æ®åº“ï¼ŒæŠŠæ•°æ®å­˜å‚¨è¿›å»ï¼Œä»è€Œä½¿æ‰€æœ‰çš„ç»„ä»¶çš„èƒ½å¤Ÿä½¿ç”¨</li></ul><h4 id="npmå®‰è£…"><a href="#npmå®‰è£…" class="headerlink" title="npmå®‰è£…"></a>npmå®‰è£…</h4><ul><li>npm i vuex -s</li></ul><h4 id="VueXä¸­çš„æ ¸å¿ƒå†…å®¹"><a href="#VueXä¸­çš„æ ¸å¿ƒå†…å®¹" class="headerlink" title="VueXä¸­çš„æ ¸å¿ƒå†…å®¹"></a>VueXä¸­çš„æ ¸å¿ƒå†…å®¹</h4><ul><li>state å­˜æ”¾çŠ¶æ€<ul><li>stateå°±ç›¸å½“ä¸æ•°æ®åº“çš„æ•°æ®</li></ul></li><li>mutations stateæˆå‘˜æ“ä½œ<ul><li>mutationså°±ç›¸å½“äºå¢åˆ æ”¹æŸ¥æ“ä½œ</li></ul></li><li>getters åŠ å·¥stateæˆå‘˜ç»™å¤–ç•Œ</li><li>actions å¼‚æ­¥æ“ä½œ<ul><li>å¼‚æ­¥æ“ä½œï¼Œæäº¤mutationsæ“ä½œ</li></ul></li><li>modules æ¨¡å—åŒ–çŠ¶æ€ç®¡ç†</li></ul><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><h5 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h5><ul><li>åˆå§‹åŒ–storeä¸‹index.jsä¸­çš„å†…å®¹</li></ul><pre><code>    import Vue from &#39;vue&#39;;    import Vuex from &#39;vuex&#39;;    import actions from &#39;./actions&#39;    import mutations from &#39;./mutations&#39;    Vue.use(Vuex);    const state = {        username:&#39;&#39;,    //ç”¨æˆ·å        cartcount: 0    //è´­ç‰©è½¦æ•°é‡    }    export default new Vuex.Store({        state,        actions,        mutations    })</code></pre><ul><li>mutations</li></ul><pre><code>    //å•†åŸVuex-mutation    export default{        saveUserName(state,username){        //æ”¹å˜æ•°æ®            state.username = username        },        saveCartCount(state,cartcount){            state.cartcount = cartcount        }    }</code></pre><ul><li>actions</li></ul><pre><code>    //å•†åŸVuex-action    export default{        saveUserName(context,username){        //æäº¤            context.commit(&#39;saveUserName&#39;,username)        },        saveCartCount(context,cartcount){            context.commit(&#39;saveCartCount&#39;,cartcount)        }    }</code></pre><h5 id="å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»"><a href="#å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»" class="headerlink" title="å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»"></a>å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»</h5><ul><li>main.js,è¿™æ ·å°±å¯ä»¥å…¨å±€è°ƒç”¨äº†</li></ul><pre><code>    import store from &#39;./store/index&#39;    new Vue({      store,      router: router,      render: h =&gt; h(App),    }).$mount(&#39;#app&#39;)</code></pre><h5 id="dispatchåˆ†é…actionsä»»åŠ¡"><a href="#dispatchåˆ†é…actionsä»»åŠ¡" class="headerlink" title="dispatchåˆ†é…actionsä»»åŠ¡"></a>dispatchåˆ†é…actionsä»»åŠ¡</h5><ul><li>å¯ä»¥åœ¨App.vueé‡Œä½¿ç”¨ï¼Œè¿™æ ·å…¨å±€éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªå€¼äº†</li></ul><pre><code>      this.$store.dispatch(&#39;saveUserName&#39;,res.username)</code></pre><h5 id="æ¸²æŸ“å»¶è¿Ÿ"><a href="#æ¸²æŸ“å»¶è¿Ÿ" class="headerlink" title="æ¸²æŸ“å»¶è¿Ÿ"></a>æ¸²æŸ“å»¶è¿Ÿ</h5><ul><li>å½“æˆ‘ä»¬æ‹‰å–æ•°æ®æ¥æ¸²æŸ“é¡µé¢æ—¶ä¼šæœ‰å»¶è¿Ÿæ•ˆæœï¼Œå¯èƒ½æ¸²æŸ“ä¸å‡ºæ¥è·å–çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨computedæ¥è§£å†³</li></ul><pre><code>    computed: {        username() {          return this.$store.state.username;        },        cartcount() {          return this.$store.state.cartcount;        }      },</code></pre><h5 id="mapStateè¾…åŠ©å‡½æ•°"><a href="#mapStateè¾…åŠ©å‡½æ•°" class="headerlink" title="mapStateè¾…åŠ©å‡½æ•°"></a>mapStateè¾…åŠ©å‡½æ•°</h5><ul><li>mapStateè¾…åŠ©å‡½æ•°å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¼•ç”¨stateï¼Œä¸ä¸Šé¢çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</li></ul><pre><code> import { mapState } from &#39;vuex&#39;; computed: {      ...mapState([&#39;username&#39;, &#39;cartcount&#39;])    },</code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios</title>
      <link href="/2020/06/13/axios/"/>
      <url>/2020/06/13/axios/</url>
      
        <content type="html"><![CDATA[<h2 id="axios-ç®€ä»‹"><a href="#axios-ç®€ä»‹" class="headerlink" title="axios ç®€ä»‹"></a>axios ç®€ä»‹</h2><ul><li><p>axiosæ˜¯ç½‘ç»œè¯·æ±‚å°è£…çš„æ¡†æ¶ï¼Œaxios æ˜¯ä¸€ä¸ªåŸºäºPromise ç”¨äºæµè§ˆå™¨å’Œ nodejs çš„ HTTP å®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest</li><li>ä» node.js å‘å‡º http è¯·æ±‚</li><li>æ”¯æŒ Promise APIï¼ˆæœ¬èº«å°±æ˜¯ä¸€ä¸ªpromiseç»“æ„ï¼‰</li><li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li><li>å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢JSONæ•°æ®</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ CSRF/XSRF</li></ul></li><li><p>å¼•å…¥æ–¹å¼</p></li></ul><pre><code>    npm install axios</code></pre><ul><li>å¯¼å…¥ä½¿ç”¨</li></ul><pre><code>    import axios from &#39;axios&#39;    import VueAxios from &#39;vue-axios&#39;    //VueAxiosçš„ä½œç”¨æ˜¯å°†axiosæ¡†æ¶æŒ‚è½½åˆ°vueå®ä¾‹ä¸Šï¼Œè¿™æ ·æˆ‘ä»¬åœ¨å…¶ä»–vueæ–‡ä»¶ä¸­ä½¿ç”¨axioså°±ä¸ç”¨importeräº†ï¼Œç›´æ¥ç”¨this.axios    Vue.use(VueAxios,axios)</code></pre><h3 id="è®¾ç½®å…¨å±€é»˜è®¤å€¼"><a href="#è®¾ç½®å…¨å±€é»˜è®¤å€¼" class="headerlink" title="è®¾ç½®å…¨å±€é»˜è®¤å€¼"></a>è®¾ç½®å…¨å±€é»˜è®¤å€¼</h3><pre><code>    //æ ¹æ®å‰ç«¯è·¨åŸŸè¿›è¡Œè°ƒæ•´ï¼Œ`baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢    axios.defaults.baseURL = &#39;/api&#39;    // axios.defaults.baseURL = env.baseURL    //è®¾ç½®è¶…æ—¶æ—¶é—´    axios.defaults.timeout = 8000</code></pre><h3 id="axios-API"><a href="#axios-API" class="headerlink" title="axios API"></a>axios API</h3><ul><li>å¯ä»¥é€šè¿‡å‘ axios ä¼ é€’ç›¸å…³é…ç½®æ¥åˆ›å»ºè¯·æ±‚</li><li>axios(config)æœ€å¸¸ç”¨çš„å°±æ˜¯è¿™ä¸ªå¯ä»¥å‘é€å„ç§è¯·æ±‚postï¼Œgetéƒ½è¡Œ</li></ul><pre><code>    // å‘é€ POST è¯·æ±‚    axios({      method: &#39;post&#39;,      url: &#39;/user/12345&#39;,      data: {        firstName: &#39;Fred&#39;,        lastName: &#39;Flintstone&#39;      }    });    // å‘é€ GET è¯·æ±‚ï¼ˆé»˜è®¤çš„æ–¹æ³•ï¼‰    axios(&#39;/user/12345&#39;);</code></pre><ul><li>ä¸ºæ–¹ä¾¿èµ·è§ï¼Œä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«å</li></ul><pre><code>    axios.request(config)    axios.get(url[, config])    axios.delete(url[, config])    axios.head(url[, config])    axios.post(url[, data[, config]])    axios.put(url[, data[, config]])    axios.patch(url[, data[, config]])</code></pre><ul><li>å¤„ç†å¹¶å‘è¯·æ±‚çš„åŠ©æ‰‹å‡½æ•°</li></ul><pre><code>    axios.all(iterable)    axios.spread(callback)</code></pre><h4 id="getè¯·æ±‚"><a href="#getè¯·æ±‚" class="headerlink" title="getè¯·æ±‚"></a>getè¯·æ±‚</h4><ul><li>ä¸å¸¦å‚</li></ul><pre><code>    this.axios.get(&quot;/carts&quot;).then(res =&gt; {    this.renderData(res);  });</code></pre><ul><li>å¸¦å‚ï¼Œå‚æ•°æ˜¯åŠ åœ¨å°¾éƒ¨çš„å¦‚ï¼šproducts?pageNum=2&amp;pageSize=1&amp;categoryId=100002</li></ul><pre><code>    this.axios    .get(&quot;/products&quot;, {      params: {        categoryId: &quot;100012&quot;,        pageSize: 14      }    })    .then(res =&gt; {      res.list = res.list.slice(6, 14);      this.phoneList = [res.list.slice(0, 4), res.list.slice(4, 8)];    });</code></pre><h4 id="postè¯·æ±‚"><a href="#postè¯·æ±‚" class="headerlink" title="postè¯·æ±‚"></a>postè¯·æ±‚</h4><ul><li>å¸¦å‚æ•°</li></ul><pre><code>    let { username, password, email } = this;  this.axios.post(&quot;/user/register&quot;, {    username,    password,    email  }).then(()=&gt;{    this.$message.success(&#39;æ³¨å†ŒæˆåŠŸ&#39;)  });</code></pre><ul><li>ä¸å¸¦å‚    </li></ul><pre><code>    //é€€å‡ºç™»é™†æ—¶æŠŠåå­—å’Œè´­ç‰©è½¦æ•°é‡è®¾ä¸ºç©ºï¼Œå¼¹å‡ºé€€å‡ºä¿¡æ¯ï¼Œuseridå¤±æ•ˆ    this.axios.post(&quot;/user/logout&quot;).then(() =&gt; {      this.$message.success(&#39;é€€å‡ºæˆåŠŸ&#39;);      this.$cookie.set(&#39;userId&#39;, &#39;&#39;, { expires: &#39;-1&#39; });  //å…³é—­çš„çª—å£çš„æ—¶å€™useridå¤±æ•ˆ      this.$store.dispatch(&#39;saveUserName&#39;, &#39;&#39;);      this.$store.dispatch(&#39;saveCartCount&#39;, &#39;0&#39;);    })</code></pre><h4 id="putè¯·æ±‚"><a href="#putè¯·æ±‚" class="headerlink" title="putè¯·æ±‚"></a>putè¯·æ±‚</h4><ul><li>ä¸å¸¦å‚</li></ul><pre><code>    let url = this.allChecked ? &quot;/carts/unSelectAll&quot; : &quot;/carts/selectAll&quot;;  this.axios.put(url).then(res =&gt; {    this.renderData(res);  });</code></pre><ul><li>å¸¦å‚</li></ul><pre><code>    this.axios    .put(`/carts/${item.productId}`, {      quantity,      selected    })    .then(res =&gt; {      this.renderData(res);    });</code></pre><h4 id="deleteè¯·æ±‚"><a href="#deleteè¯·æ±‚" class="headerlink" title="deleteè¯·æ±‚"></a>deleteè¯·æ±‚</h4><pre><code>this.axios.delete(`/carts/${item.productId}`).then(res =&gt; {        this.renderData(res);      })</code></pre><h3 id="è‡ªå®šä¹‰åˆ›å»ºå®ä¾‹"><a href="#è‡ªå®šä¹‰åˆ›å»ºå®ä¾‹" class="headerlink" title="è‡ªå®šä¹‰åˆ›å»ºå®ä¾‹"></a>è‡ªå®šä¹‰åˆ›å»ºå®ä¾‹</h3><pre><code>    // ä½¿ç”¨ç”±åº“æä¾›çš„é…ç½®çš„é»˜è®¤å€¼æ¥åˆ›å»ºå®ä¾‹    // æ­¤æ—¶è¶…æ—¶é…ç½®çš„é»˜è®¤å€¼æ˜¯ `0`    var instance = axios.create();    // è¦†å†™åº“çš„è¶…æ—¶é»˜è®¤å€¼    // ç°åœ¨ï¼Œåœ¨è¶…æ—¶å‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šç­‰å¾… 2.5 ç§’    instance.defaults.timeout = 2500;    // ä¸ºå·²çŸ¥éœ€è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´çš„è¯·æ±‚è¦†å†™è¶…æ—¶è®¾ç½®    instance.get(&#39;/longRequest&#39;, {      timeout: 5000    });</code></pre><h3 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h3><ul><li>åœ¨è¯·æ±‚æˆ–å“åº”è¢« then æˆ– catch å¤„ç†å‰æ‹¦æˆªå®ƒä»¬ã€‚</li></ul><pre><code>    // æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨    axios.interceptors.request.use(function (config) {        // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ        return config;      }, function (error) {        // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ        return Promise.reject(error);      });    // æ·»åŠ å“åº”æ‹¦æˆªå™¨    axios.interceptors.response.use(function (response) {        // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ        return response;      }, function (error) {        // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ        return Promise.reject(error);      });</code></pre><ul><li>å“åº”ç»“æ„</li></ul><pre><code>    {      // `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”      data: {},      // `status` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ç       status: 200,      // `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯      statusText: &#39;OK&#39;,      // `headers` æœåŠ¡å™¨å“åº”çš„å¤´      headers: {},      // `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯      config: {}    }    ä½¿ç”¨ then æ—¶ï¼Œä½ å°†æ¥æ”¶ä¸‹é¢è¿™æ ·çš„å“åº”ï¼š    axios.get(&#39;/user/12345&#39;)      .then(function(response) {        console.log(response.data);        console.log(response.status);        console.log(response.statusText);        console.log(response.headers);        console.log(response.config);      });</code></pre><h4 id="æ¥å£å“åº”æ‹¦æˆª"><a href="#æ¥å£å“åº”æ‹¦æˆª" class="headerlink" title="æ¥å£å“åº”æ‹¦æˆª"></a>æ¥å£å“åº”æ‹¦æˆª</h4><pre><code>    //æ¥å£é”™è¯¯æ‹¦æˆª    axios.interceptors.response.use(function(response){   //æ‹¦æˆªé¡µé¢è¿”å›æ•°æ®çŠ¶æ€ç       let res = response.data   //è¿”å›çš„æ•°æ®ä¸ºresponse.dataï¼ŒåŒ…æ‹¬statuså’Œdata      if(res.status == 0){      //çŠ¶æ€ç ä¸º0ä»£è¡¨ç™»é™†æˆåŠŸ        return res.data      }else if(res.status == 10){    //çŠ¶æ€ç ä¸º10ä»£è¡¨æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢        if(location.hash!=&quot;#/index&quot;){     //å¦‚æœæ²¡æœ‰ç™»å½•åˆ™åªèƒ½è®¿é—®é¦–é¡µ          window.location.href = &quot;/#/login&quot;   //è·³è½¬åˆ°ç™»é™†é¡µé¢        }        return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼      }else{        Message.error(res.msg)        return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼      }    },(error)=&gt;{    //æ‹¦æˆªhttpè¯·æ±‚çŠ¶æ€ç ï¼ˆè¯·æ±‚å‘é€å¤±è´¥ï¼‰      let res = error.response      Message.error(res.data.message)      return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼    })</code></pre><h4 id="é”™è¯¯æ‹¦æˆª"><a href="#é”™è¯¯æ‹¦æˆª" class="headerlink" title="é”™è¯¯æ‹¦æˆª"></a>é”™è¯¯æ‹¦æˆª</h4><ul><li>è®°ä½ä»¥åçš„äº¤äº’è¯·æ±‚åŠŸèƒ½ï¼Œresæœ€å¥½åŠ ä¸Šä¸€ä¸ªé»˜è®¤å€¼ï¼Œé˜²æ­¢è¯·æ±‚ä¸åˆ°æ•°æ®æ—¶æŠ¥é”™ï¼Œè¿˜æœ‰è®°å¾—åœ¨main.jsçš„é”™è¯¯æ‹¦æˆªå¤„ï¼Œå‘ç”Ÿé”™è¯¯æ—¶</li></ul><pre><code>    return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼</code></pre><h3 id="è¯·æ±‚é…ç½®"><a href="#è¯·æ±‚é…ç½®" class="headerlink" title="è¯·æ±‚é…ç½®"></a>è¯·æ±‚é…ç½®</h3><ul><li>è¿™äº›æ˜¯åˆ›å»ºè¯·æ±‚æ—¶å¯ä»¥ç”¨çš„é…ç½®é€‰é¡¹ã€‚åªæœ‰ url æ˜¯å¿…éœ€çš„ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š methodï¼Œè¯·æ±‚å°†é»˜è®¤ä½¿ç”¨ get æ–¹æ³•ã€‚</li></ul><pre><code>    {      // `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL      url: &#39;/user&#39;,      // `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•      method: &#39;get&#39;, // é»˜è®¤æ˜¯ get      // `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚      // å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL      baseURL: &#39;https://some-domain.com/api/&#39;,      // `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ®      // åªèƒ½ç”¨åœ¨ &#39;PUT&#39;, &#39;POST&#39; å’Œ &#39;PATCH&#39; è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³•      // åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream      transformRequest: [function (data) {        // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†        return data;      }],      // `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ®      transformResponse: [function (data) {        // å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†        return data;      }],      // `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´      headers: {&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;},      // `params` æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°      // å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡      params: {        ID: 12345      },      // `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•°      // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)      paramsSerializer: function(params) {        return Qs.stringify(params, {arrayFormat: &#39;brackets&#39;})      },      // `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ®      // åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• &#39;PUT&#39;, &#39;POST&#39;, å’Œ &#39;PATCH&#39;      // åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š      // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams      // - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob      // - Node ä¸“å±ï¼š Stream      data: {        firstName: &#39;Fred&#39;      },      // `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´)      // å¦‚æœè¯·æ±‚è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­      timeout: 1000,      // `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯      withCredentials: false, // é»˜è®¤çš„      // `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾      // è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” (æŸ¥é˜… [response docs](#response-api)).      adapter: function (config) {        /* ... */      },      // `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ®      // è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´      auth: {        username: &#39;janedoe&#39;,        password: &#39;s00pers3cret&#39;      },      // `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ &#39;arraybuffer&#39;, &#39;blob&#39;, &#39;document&#39;, &#39;json&#39;, &#39;text&#39;, &#39;stream&#39;      responseType: &#39;json&#39;, // é»˜è®¤çš„      // `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§°      xsrfCookieName: &#39;XSRF-TOKEN&#39;, // default      // `xsrfHeaderName` æ˜¯æ‰¿è½½ xsrf token çš„å€¼çš„ HTTP å¤´çš„åç§°      xsrfHeaderName: &#39;X-XSRF-TOKEN&#39;, // é»˜è®¤çš„      // `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶      onUploadProgress: function (progressEvent) {        // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†      },      // `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶      onDownloadProgress: function (progressEvent) {        // å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†      },      // `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸      maxContentLength: 2000,      // `validateStatus` å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject  promise ã€‚å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte      validateStatus: function (status) {        return status &gt;= 200 &amp;&amp; status &lt; 300; // é»˜è®¤çš„      },      // `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›®      // å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘      maxRedirects: 5, // é»˜è®¤çš„      // `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š      // `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨      httpAgent: new http.Agent({ keepAlive: true }),      httpsAgent: new https.Agent({ keepAlive: true }),      // &#39;proxy&#39; å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£      // `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ®      // è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚      proxy: {        host: &#39;127.0.0.1&#39;,        port: 9000,        auth: : {          username: &#39;mikeymike&#39;,          password: &#39;rapunz3l&#39;        }      },      // `cancelToken` æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token      // ï¼ˆæŸ¥çœ‹åé¢çš„ Cancellation è¿™èŠ‚äº†è§£æ›´å¤šï¼‰      cancelToken: new CancelToken(function (cancel) {      })    }</code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redisçš„å¼•å…¥å’Œå…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œè¿˜æœ‰æœåŠ¡å™¨éƒ¨ç½²</title>
      <link href="/2020/06/12/redis/"/>
      <url>/2020/06/12/redis/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>è¿™äº›éƒ½æ˜¯redisçš„å…·ä½“ä½¿ç”¨æ–¹æ³•</li></ul><h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><ul><li>æˆ‘ä»¬ä½¿ç”¨è´­ç‰©è½¦çš„æ—¶å€™éœ€è¦ç”¨åˆ°redis</li><li>è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯redis5</li></ul><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><pre><code>    &lt;!--        redis--&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;    &lt;/dependency&gt;</code></pre><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><pre><code>    spring:        redis:            host: localhost            port: 6379</code></pre><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ul><li>åœ¨æ–¹æ³•é‡Œæ³¨å…¥StringRedisTemplate</li></ul><pre><code>    @Autowired    private StringRedisTemplate stringRedisTemplate;</code></pre><ul><li>æ“ä½œ</li></ul><pre><code>    redisTemplate.opsForValue();ã€€ã€€//æ“ä½œå­—ç¬¦ä¸²    redisTemplate.opsForHash();ã€€ã€€ //æ“ä½œhash    redisTemplate.opsForList();ã€€ã€€ //æ“ä½œlist    redisTemplate.opsForSet();ã€€ã€€  //æ“ä½œset    redisTemplate.opsForZSet();ã€€ ã€€//æ“ä½œæœ‰åºset</code></pre><h3 id="StringRedisTemplateä¸RedisTemplateçš„åŒºåˆ«"><a href="#StringRedisTemplateä¸RedisTemplateçš„åŒºåˆ«" class="headerlink" title="StringRedisTemplateä¸RedisTemplateçš„åŒºåˆ«"></a>StringRedisTemplateä¸RedisTemplateçš„åŒºåˆ«</h3><ul><li>ä¸¤è€…çš„å…³ç³»æ˜¯StringRedisTemplateç»§æ‰¿RedisTemplateã€‚</li><li>ä¸¤è€…çš„æ•°æ®æ˜¯ä¸å…±é€šçš„ï¼›ä¹Ÿå°±æ˜¯è¯´StringRedisTemplateåªèƒ½ç®¡ç†StringRedisTemplateé‡Œé¢çš„æ•°æ®</li><li>RedisTemplateåªèƒ½ç®¡RedisTemplateä¸­çš„æ•°æ®ã€‚</li><li>SDRé»˜è®¤é‡‡ç”¨çš„åºåˆ—åŒ–ç­–ç•¥æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯Stringçš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¸€ç§æ˜¯JDKçš„åºåˆ—åŒ–ç­–ç•¥ã€‚</li><li>StringRedisTemplateé»˜è®¤é‡‡ç”¨çš„æ˜¯Stringçš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¿å­˜çš„keyå’Œvalueéƒ½æ˜¯é‡‡ç”¨æ­¤ç­–ç•¥åºåˆ—åŒ–ä¿å­˜çš„ã€‚</li><li>RedisTemplateé»˜è®¤é‡‡ç”¨çš„æ˜¯JDKçš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¿å­˜çš„keyå’Œvalueéƒ½æ˜¯é‡‡ç”¨æ­¤ç­–ç•¥åºåˆ—åŒ–ä¿å­˜çš„ã€‚</li></ul><h4 id="å…·ä½“ä½¿ç”¨"><a href="#å…·ä½“ä½¿ç”¨" class="headerlink" title="å…·ä½“ä½¿ç”¨"></a>å…·ä½“ä½¿ç”¨</h4><ul><li>è¿™é‡Œæš‚æ—¶åªç”¨åˆ°äº†opsForHash(æ“ä½œhashmap)ï¼Œæ›´å¤šæ“ä½œæ–¹æ³•åœ¨ä¸‹é¢</li></ul><pre><code>    //è·å–å¯¹è±¡ï¼Œæ³¨æ„è¿™é‡Œè®¾ç½®å…¨æ˜¯Stringç±»å‹çš„    HashOperations&lt;String, String, String&gt; opsForHash = stringRedisTemplate.opsForHash();    //éå†redis    private List&lt;Cart&gt; listForCart(Integer uid) {            HashOperations&lt;String, String, String&gt; opsForHash = stringRedisTemplate.opsForHash();            //redisKey            String redisKey = String.format(CART_REDIS_KEY_TEMPLATE, uid);            //è·å–æ‰€æœ‰é”®å€¼å¯¹            Map&lt;String, String&gt; entries = opsForHash.entries(redisKey);            List&lt;Cart&gt; cartList = new ArrayList&lt;&gt;();            //éå†            for (Map.Entry&lt;String, String&gt; entry : entries.entrySet()) {                //è·å–å€¼                String value = entry.getValue();                //è¿”å›çš„valueæ˜¯jsonæ ¼å¼çš„Stringç±»å‹ï¼Œéœ€è¦ç”¨Gsonè½¬æ¢æˆCartå¯¹è±¡ç±»å‹                cartList.add(gson.fromJson(value, Cart.class));            }            return cartList;        }    //putè®¾ç½®æˆ–è€…ä¿®æ”¹å€¼ï¼Œæ³¨æ„è¦æ•°æ®ç±»å‹å…¨éƒ¨è½¬æ¢ä¸ºStringç±»å‹    opsForHash.put(redisKey, String.valueOf(cart.getProductId()), gson.toJson(cart));    //deleteåˆ é™¤å€¼    opsForHash.delete(redisKey, hashKey);    //è·å–å€¼        //è·å–ä¸€æ¡å€¼        String value = opsForHash.get(redisKey, hashKey);        //è·å–æ‰€æœ‰é”®å€¼å¯¹        Map&lt;String, String&gt; entries = opsForHash.entries(redisKey);</code></pre><h4 id="opsForValue-æ“ä½œå­—ç¬¦ä¸²"><a href="#opsForValue-æ“ä½œå­—ç¬¦ä¸²" class="headerlink" title="opsForValue(æ“ä½œå­—ç¬¦ä¸²)"></a>opsForValue(æ“ä½œå­—ç¬¦ä¸²)</h4><pre><code>/** * @author lhz **/public class RedisString {    @Resource    private StringRedisTemplate stringRedisTemplate;/** * æ–°å¢ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å€¼,keyæ˜¯é”®ï¼Œvalueæ˜¯å€¼ã€‚ * * set(K key, V value) */public void set() {    // å­˜å…¥æ°¸ä¹…æ•°æ®    stringRedisTemplate.opsForValue().set(&quot;test2&quot;, &quot;1&quot;);    // ä¹Ÿå¯ä»¥å‘redisé‡Œå­˜å…¥æ•°æ®å’Œè®¾ç½®ç¼“å­˜æ—¶é—´    stringRedisTemplate.opsForValue().set(&quot;test1&quot;, &quot;hello redis&quot;, 1000, TimeUnit.SECONDS);}/** * æ‰¹é‡æ’å…¥ï¼Œkeyå€¼å­˜åœ¨ä¼šè¦†ç›–åŸå€¼ * * multiSet(Map&lt;? extends K,? extends V&gt; map) */public void multiSet() {    Map&lt;String,String&gt; map = new HashMap&lt;&gt;(16);    map.put(&quot;testMultiSet1&quot;, &quot;value0&quot;);    map.put(&quot;testMultiSet2&quot;, &quot;value2&quot;);    stringRedisTemplate.opsForValue().multiSet(map);}/** *  æ‰¹é‡æ’å…¥ï¼Œå¦‚æœé‡Œé¢çš„æ‰€æœ‰keyéƒ½ä¸å­˜åœ¨ï¼Œåˆ™å…¨éƒ¨æ’å…¥ï¼Œè¿”å›trueï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªåœ¨redisä¸­å·²å­˜åœ¨ï¼Œå…¨ä¸æ’å…¥ï¼Œè¿”å›false * *  multiSetIfAbsent(Map&lt;? extends K,? extends V&gt; map) */public void multiSetIfAbsent() {    Map&lt;String,String&gt; map = new HashMap&lt;&gt;(16);    map.put(&quot;testMultiSet4&quot;, &quot;value1&quot;);    map.put(&quot;testMultiSet3&quot;, &quot;value3&quot;);    Boolean absent = stringRedisTemplate.opsForValue().multiSetIfAbsent(map);    System.out.println(absent);}/** * å¦‚æœä¸å­˜åœ¨åˆ™æ’å…¥ï¼Œè¿”å›trueä¸ºæ’å…¥æˆåŠŸ,falseå¤±è´¥ * * setIfAbsent(K key, V value) */public void setIfAbsent() {    Boolean absent = stringRedisTemplate.opsForValue().setIfAbsent(&quot;test&quot;, &quot;hello redis&quot;);    System.out.println(absent);}/** * è·å–å€¼,keyä¸å­˜åœ¨è¿”å›null * * get(Object key) */public void get() {    System.out.println(stringRedisTemplate.opsForValue().get(&quot;testMultiSet1&quot;));}/** * æ‰¹é‡è·å–ï¼Œkeyä¸å­˜åœ¨è¿”å›null * * multiGet(Collection&lt;K&gt; keys) */public void multiGet() {    List&lt;String&gt; list = stringRedisTemplate.opsForValue().multiGet(Arrays.asList(&quot;test&quot;, &quot;test2&quot;));    assert list != null;    System.out.println(list.toString());}/** * è·å–æŒ‡å®šå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ * * size(K key) */public void getLength() {    Long size = stringRedisTemplate.opsForValue().size(&quot;test&quot;);    System.out.println(size);}/** * åœ¨åŸæœ‰çš„å€¼åŸºç¡€ä¸Šæ–°å¢å­—ç¬¦ä¸²åˆ°æœ«å°¾ã€‚ * * append(K key, String value) */public void append() {    Integer append = stringRedisTemplate.opsForValue().append(&quot;test3&quot;, &quot;database&quot;);    System.out.println(append);}/** * è·å–åŸæ¥keyé”®å¯¹åº”çš„å€¼å¹¶é‡æ–°èµ‹æ–°å€¼ * * getAndSet(K key, V value) */public void getAndSet() {    String set = stringRedisTemplate.opsForValue().getAndSet(&quot;test&quot;, &quot;set test&quot;);    System.out.println(set);}/** * è·å–æŒ‡å®škeyçš„å€¼è¿›è¡Œå‡1ï¼Œå¦‚æœvalueä¸æ˜¯integerç±»å‹ï¼Œä¼šæŠ›å¼‚å¸¸ï¼Œå¦‚æœkeyä¸å­˜åœ¨ä¼šåˆ›å»ºä¸€ä¸ªï¼Œé»˜è®¤valueä¸º0 * * decrement(k key) */public void decrement() {    stringRedisTemplate.opsForValue().decrement(&quot;test2&quot;);    stringRedisTemplate.opsForValue().decrement(&quot;test1&quot;);}/** * è·å–æŒ‡å®škeyçš„å€¼è¿›è¡ŒåŠ 1ï¼Œå¦‚æœvalueä¸æ˜¯integerç±»å‹ï¼Œä¼šæŠ›å¼‚å¸¸ï¼Œå¦‚æœkeyä¸å­˜åœ¨ä¼šåˆ›å»ºä¸€ä¸ªï¼Œé»˜è®¤valueä¸º0 *  * increment(k key) */public void increment() {    stringRedisTemplate.opsForValue().increment(&quot;test2&quot;);    stringRedisTemplate.opsForValue().increment(&quot;test1&quot;);}/** * åˆ é™¤æŒ‡å®škey,æˆåŠŸè¿”å›trueï¼Œå¦åˆ™false *  * delete(k key) */public void delete() {    Boolean delete = stringRedisTemplate.opsForValue().getOperations().delete(&quot;test1&quot;);    System.out.println(delete);}/** * åˆ é™¤å¤šä¸ªkeyï¼Œè¿”å›åˆ é™¤keyçš„ä¸ªæ•° *  * delete(k ...keys) */public void deleteMulti() {    Long delete = stringRedisTemplate.opsForValue().getOperations().delete(Arrays.asList(&quot;test1&quot;, &quot;test2&quot;));    System.out.println(delete);}}</code></pre><h4 id="opsForList-æ“ä½œé›†åˆ"><a href="#opsForList-æ“ä½œé›†åˆ" class="headerlink" title="opsForList(æ“ä½œé›†åˆ)"></a>opsForList(æ“ä½œé›†åˆ)</h4><pre><code>public class RedisList {    @Resource    private StringRedisTemplate stringRedisTemplate;/** * åœ¨å˜é‡å·¦è¾¹æ·»åŠ å…ƒç´ å€¼ã€‚å¦‚æœkeyä¸å­˜åœ¨ä¼šæ–°å»ºï¼Œæ·»åŠ æˆåŠŸè¿”å›æ·»åŠ åçš„æ€»ä¸ªæ•° *  * leftPush(K key, V value) */public void leftPush() {    Long aLong = stringRedisTemplate.opsForList().leftPush(&quot;list&quot;, &quot;a&quot;);    System.out.println(aLong);}/** * å‘å·¦è¾¹æ‰¹é‡æ·»åŠ å‚æ•°å…ƒç´ ï¼Œå¦‚æœkeyä¸å­˜åœ¨ä¼šæ–°å»ºï¼Œæ·»åŠ æˆåŠŸè¿”å›æ·»åŠ åçš„æ€»ä¸ªæ•° *  * leftPushAll(K key, V... values) */public void leftPushAll() {    Long pushAll = stringRedisTemplate.opsForList().leftPushAll(&quot;list&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);    System.out.println(pushAll);}/** * å‘é›†åˆæœ€å³è¾¹æ·»åŠ å…ƒç´ ã€‚å¦‚æœkeyä¸å­˜åœ¨ä¼šæ–°å»ºï¼Œæ·»åŠ æˆåŠŸè¿”å›æ·»åŠ åçš„æ€»ä¸ªæ•° *  * rightPush(K key, V value) */public void rightPush() {    Long aLong = stringRedisTemplate.opsForList().rightPush(&quot;list2&quot;, &quot;a&quot;);    System.out.println(aLong);}/** * å¦‚æœå­˜åœ¨é›†åˆåˆ™æ·»åŠ å…ƒç´ ã€‚ *  * leftPushIfPresent(K key, V value) */public void leftPushIfPresent() {    Long aLong = stringRedisTemplate.opsForList().leftPushIfPresent(&quot;list&quot;, &quot;h&quot;);    System.out.println(aLong);}/** * å‘å³è¾¹æ‰¹é‡æ·»åŠ å…ƒç´ ã€‚è¿”å›å½“å‰é›†åˆå…ƒç´ æ€»ä¸ªæ•° *  * rightPushAll(K key, V... values) */public void rightPushAll() {    Long aLong = stringRedisTemplate.opsForList().rightPushAll(&quot;list2&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);    System.out.println(aLong);}/** * å‘å·²å­˜åœ¨çš„é›†åˆä¸­æ·»åŠ å…ƒç´ ã€‚è¿”å›é›†åˆæ€»å…ƒç´ ä¸ªæ•° *  * rightPushIfPresent(K key, V value) */public void rightPushIfPresent() {    Long aLong = stringRedisTemplate.opsForList().rightPushIfPresent(&quot;list&quot;, &quot;e&quot;);    System.out.println(aLong);}/** * è·å–é›†åˆé•¿åº¦ *  * size(K key) */public void size() {    Long size = stringRedisTemplate.opsForList().size(&quot;list2&quot;);    System.out.println(size);}/** * ç§»é™¤é›†åˆä¸­çš„å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è¿”å›åˆ é™¤çš„å…ƒç´ ï¼Œå¦‚æœå…ƒç´ ä¸ºç©ºï¼Œè¯¥é›†åˆä¼šè‡ªåŠ¨åˆ é™¤ *  * leftPop(K key) */public void leftPop() {    String pop = stringRedisTemplate.opsForList().leftPop(&quot;list2&quot;);    System.out.println(pop);}/** * ç§»é™¤é›†åˆä¸­å·¦è¾¹çš„å…ƒç´ åœ¨ç­‰å¾…çš„æ—¶é—´é‡Œï¼Œå¦‚æœè¶…è¿‡ç­‰å¾…çš„æ—¶é—´ä»æ²¡æœ‰å…ƒç´ åˆ™é€€å‡ºã€‚ *  * leftPop(K key, long timeout, TimeUnit unit) */public void leftPopWait() {    String pop = stringRedisTemplate.opsForList().leftPop(&quot;list2&quot;, 10, TimeUnit.SECONDS);    System.out.println(pop);}/** * ç§»é™¤é›†åˆä¸­å³è¾¹çš„å…ƒç´ ã€‚è¿”å›åˆ é™¤çš„å…ƒç´ ï¼Œå¦‚æœå…ƒç´ ä¸ºç©ºï¼Œè¯¥é›†åˆä¼šè‡ªåŠ¨åˆ é™¤ *  * rightPop(K key) */public void rightPop() {    String pop = stringRedisTemplate.opsForList().rightPop(&quot;list2&quot;);    System.out.println(pop);}/** * ç§»é™¤é›†åˆä¸­å³è¾¹çš„å…ƒç´ åœ¨ç­‰å¾…çš„æ—¶é—´é‡Œï¼Œå¦‚æœè¶…è¿‡ç­‰å¾…çš„æ—¶é—´ä»æ²¡æœ‰å…ƒç´ åˆ™é€€å‡ºã€‚ *  * rightPop(K key, long timeout, TimeUnit unit) */public void rightPopWait() {    String pop = stringRedisTemplate.opsForList().rightPop(&quot;list2&quot;, 10, TimeUnit.SECONDS);    System.out.println(pop);}/** * ç§»é™¤ç¬¬ä¸€ä¸ªé›†åˆå³è¾¹çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥ç¬¬äºŒä¸ªé›†åˆå·¦è¾¹æ’å…¥è¿™ä¸ªå…ƒç´  *  * rightPopAndLeftPush(K sourceKey, K destinationKey) */public void rightPopAndLeftPush() {    String s = stringRedisTemplate.opsForList().rightPopAndLeftPush(&quot;list2&quot;, &quot;list3&quot;);    System.out.println(s);}/** * åœ¨é›†åˆçš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ,å¦‚æœæŒ‡å®šä½ç½®å·²æœ‰å…ƒç´ ï¼Œåˆ™è¦†ç›–ï¼Œæ²¡æœ‰åˆ™æ–°å¢ï¼Œè¶…è¿‡é›†åˆä¸‹æ ‡+nåˆ™ä¼šæŠ¥é”™ã€‚ *  * set(K key, long index, V value) */public void set() {    stringRedisTemplate.opsForList().set(&quot;list2&quot;, 2, &quot;w&quot;);}/** * ä»å­˜å‚¨åœ¨é”®ä¸­çš„åˆ—è¡¨ä¸­åˆ é™¤ç­‰äºå€¼çš„å…ƒç´ çš„ç¬¬ä¸€ä¸ªè®¡æ•°äº‹ä»¶ã€‚count&gt; 0ï¼šåˆ é™¤ç­‰äºä»å·¦åˆ°å³ç§»åŠ¨çš„å€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼› * count&lt; 0ï¼šåˆ é™¤ç­‰äºä»å³åˆ°å·¦ç§»åŠ¨çš„å€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›count = 0ï¼šåˆ é™¤ç­‰äºvalueçš„æ‰€æœ‰å…ƒç´  *  * remove(K key, long count, Object value) */public void remove() {    Long remove = stringRedisTemplate.opsForList().remove(&quot;list2&quot;, 2, &quot;w&quot;);    System.out.println(remove);}/** * æˆªå–é›†åˆå…ƒç´ é•¿åº¦ï¼Œä¿ç•™é•¿åº¦å†…çš„æ•°æ®ã€‚ *  * trim(K key, long start, long end) */public void trim() {    stringRedisTemplate.opsForList().trim(&quot;list2&quot;, 0, 3);}/** * è·å–é›†åˆæŒ‡å®šä½ç½®çš„å€¼ã€‚ *  * index(K key, long index) */public void index() {    Object listValue = stringRedisTemplate.opsForList().index(&quot;list2&quot;, 3);    System.out.println(listValue);}/** * è·å–æŒ‡å®šåŒºé—´çš„å€¼ã€‚ *  * range(K key, long start, long end) */public void range() {    List&lt;String&gt; list = stringRedisTemplate.opsForList().range(&quot;list&quot;, 0, -1);    System.out.println(list);}/** * åˆ é™¤æŒ‡å®šé›†åˆ,è¿”å›trueåˆ é™¤æˆåŠŸ *  * delete(K key) */public void delete() {    Boolean delete = stringRedisTemplate.opsForList().getOperations().delete(&quot;list2&quot;);    System.out.println(delete);}}</code></pre><h4 id="opsForHash-æ“ä½œhashMap"><a href="#opsForHash-æ“ä½œhashMap" class="headerlink" title="opsForHash(æ“ä½œhashMap)"></a>opsForHash(æ“ä½œhashMap)</h4><pre><code>public class RedisHash {    @Resource    private StringRedisTemplate stringRedisTemplate;/** * æ–°å¢hashMapå€¼ *  * put(H key, HK hashKey, HV value) */public void put() {    stringRedisTemplate.opsForHash().put(&quot;hash&quot;,&quot;hash-key&quot;,&quot;hash-value&quot;);    stringRedisTemplate.opsForHash().put(&quot;hash&quot;,&quot;hash-key2&quot;,&quot;hash-value2&quot;);}/** * ä»¥mapé›†åˆçš„å½¢å¼æ·»åŠ é”®å€¼å¯¹ *  * putAll(H key, Map&lt;? extends HK,? extends HV&gt; m) */public void putAll() {    Map&lt;String, String&gt; map = new HashMap&lt;&gt;(16);    map.put(&quot;hash-key3&quot;, &quot;value3&quot;);    map.put(&quot;hash-key4&quot;, &quot;value4&quot;);    stringRedisTemplate.opsForHash().putAll(&quot;hash&quot;, map);}/** * å¦‚æœå˜é‡å€¼å­˜åœ¨ï¼Œåœ¨å˜é‡ä¸­å¯ä»¥æ·»åŠ ä¸å­˜åœ¨çš„çš„é”®å€¼å¯¹ï¼Œå¦‚æœå˜é‡ä¸å­˜åœ¨ï¼Œåˆ™æ–°å¢ä¸€ä¸ªå˜é‡ï¼ŒåŒæ—¶å°†é”®å€¼å¯¹æ·»åŠ åˆ°è¯¥å˜é‡ã€‚æ·»åŠ æˆåŠŸè¿”å›trueå¦åˆ™è¿”å›false *  * putIfAbsent(H key, HK hashKey, HV value) */public void putIfAbsent() {    Boolean absent = stringRedisTemplate.opsForHash().putIfAbsent(&quot;hash&quot;, &quot;hash-key&quot;, &quot;value1&quot;);    Boolean absent2 = stringRedisTemplate.opsForHash().putIfAbsent(&quot;hash&quot;, &quot;hash-key5&quot;, &quot;value5&quot;);    System.out.println(absent);    System.out.println(absent2);}/** * è·å–æŒ‡å®šå˜é‡ä¸­çš„hashMapå€¼ã€‚ *  * values(H Key) */public void values() {    List&lt;Object&gt; values = stringRedisTemplate.opsForHash().values(&quot;hash2&quot;);    System.out.println(values.toString());}/** * è·å–å˜é‡ä¸­çš„é”®å€¼å¯¹ã€‚ *  * entries(H key) */public void entries() {    Map&lt;Object, Object&gt; entries = stringRedisTemplate.opsForHash().entries(&quot;hash&quot;);    System.out.println(entries.toString());}/** * è·å–å˜é‡ä¸­çš„æŒ‡å®šmapé”®æ˜¯å¦æœ‰å€¼,å¦‚æœå­˜åœ¨è¯¥mapé”®åˆ™è·å–å€¼ï¼Œæ²¡æœ‰åˆ™è¿”å›nullã€‚ *  * get(H key, Object hashKey) */public void get() {    Object value = stringRedisTemplate.opsForHash().get(&quot;hash&quot;, &quot;hash-key&quot;);    System.out.println(value);}/** * è·å–å˜é‡ä¸­çš„é”®ã€‚ *  * keys(H key) */public void keys() {    Set&lt;Object&gt; keys = stringRedisTemplate.opsForHash().keys(&quot;hash&quot;);    System.out.println(keys.toString());}/** *  è·å–å˜é‡çš„é•¿åº¦ *   *  size(H key) */public void size() {    Long size = stringRedisTemplate.opsForHash().size(&quot;hash&quot;);    System.out.println(size);}/** * ä½¿å˜é‡ä¸­çš„é”®ä»¥longå€¼çš„å¤§å°è¿›è¡Œè‡ªå¢é•¿ã€‚å€¼å¿…é¡»ä¸ºIntegerç±»å‹,å¦åˆ™å¼‚å¸¸ *  * increment(H key, HK hashKey, long data) */public void increment() {    Long increment = stringRedisTemplate.opsForHash().increment(&quot;hash&quot;, &quot;hash-key2&quot;, 1);    System.out.println(increment);}/** * ä»¥é›†åˆçš„æ–¹å¼è·å–å˜é‡ä¸­çš„å€¼ã€‚ *  * multiGet(H key, Collection&lt;HK&gt; hashKeys) */public void multiGet() {    List&lt;Object&gt; values = stringRedisTemplate.opsForHash().multiGet(&quot;hash&quot;, Arrays.asList(&quot;hash-key&quot;, &quot;hash-key2&quot;));    System.out.println(values.toString());}/** * åŒ¹é…è·å–é”®å€¼å¯¹ï¼ŒScanOptions.NONEä¸ºè·å–å…¨éƒ¨é”®å¯¹ï¼ŒScanOptions.scanOptions().match(&quot;hash-key2&quot;).build()åŒ¹é…è·å–é”®ä½map1çš„é”®å€¼å¯¹,ä¸èƒ½æ¨¡ç³ŠåŒ¹é…ã€‚ *  * scan(H key, ScanOptions options) */public void scan() {    Cursor&lt;Map.Entry&lt;Object, Object&gt;&gt; scan = stringRedisTemplate.opsForHash().scan(&quot;hash&quot;, ScanOptions.NONE);    while (scan.hasNext()) {        Map.Entry&lt;Object, Object&gt; next = scan.next();        System.out.println(next.getKey() + &quot;----&gt;&quot; + next.getValue());    }}/** * åˆ é™¤å˜é‡ä¸­çš„é”®å€¼å¯¹ï¼Œå¯ä»¥ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œåˆ é™¤å¤šä¸ªé”®å€¼å¯¹ã€‚è¿”å›åˆ é™¤æˆåŠŸæ•°é‡ *  * delete(H key, Object... hashKeys) */public void delete() {    Long delete = stringRedisTemplate.opsForHash().delete(&quot;hash&quot;, &quot;hash-key&quot;, &quot;hash-key1&quot;);    System.out.println(delete);}}</code></pre><h4 id="opsForSet-æ“ä½œæœ‰åºseté›†åˆ"><a href="#opsForSet-æ“ä½œæœ‰åºseté›†åˆ" class="headerlink" title="opsForSet(æ“ä½œæœ‰åºseté›†åˆ)"></a>opsForSet(æ“ä½œæœ‰åºseté›†åˆ)</h4><pre><code>public class RedisSet {    @Resource    private StringRedisTemplate stringRedisTemplate;/** * å‘å˜é‡ä¸­æ‰¹é‡æ·»åŠ å€¼ã€‚è¿”å›æ·»åŠ çš„æ•°é‡ * * add(K key, V... values) */public void add() {    Long add = stringRedisTemplate.opsForSet().add(&quot;set&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;);    System.out.println(add);}/** * è·å–å˜é‡çš„å€¼ * * members(K key) */public void members() {    Set&lt;String&gt; set = stringRedisTemplate.opsForSet().members(&quot;set&quot;);    System.out.println(set);}/** * è·å–å˜é‡ä¸­å€¼å¾—é•¿åº¦ * * size(k key) */public void size() {    Long size = stringRedisTemplate.opsForSet().size(&quot;set&quot;);    System.out.println(size);}/** * éšæœºè·å–å˜é‡ä¸­çš„æŸä¸ªå…ƒç´  * * randomMember(k key) */public void randomMember() {    String member = stringRedisTemplate.opsForSet().randomMember(&quot;set&quot;);    System.out.println(member);}/** * éšæœºè·å–å˜é‡ä¸­æŒ‡å®šä¸ªæ•°çš„å…ƒç´  * * randomMembers(k key, long count) */public void randomMembers() {    List&lt;String&gt; members = stringRedisTemplate.opsForSet().randomMembers(&quot;set&quot;, 2);    System.out.println(members);}/** * æ£€æŸ¥ç»™å®šçš„å…ƒç´ æ˜¯å¦åœ¨å˜é‡ä¸­,trueä¸ºå­˜åœ¨ * * isMember(k key, object value) */public void isMember() {    Boolean member = stringRedisTemplate.opsForSet().isMember(&quot;set&quot;, &quot;b&quot;);    System.out.println(member);}/** * è½¬ä¹‰å˜é‡çš„å…ƒç´ å€¼åˆ°å¦ä¸€ä¸ªå˜é‡ä¸­ * * move(k key, v value, k targetKey) */public void move() {    Boolean move = stringRedisTemplate.opsForSet().move(&quot;set&quot;, &quot;b&quot;, &quot;set2&quot;);    System.out.println(move);}/** * å¼¹å‡ºå˜é‡ä¸­çš„å…ƒç´ ã€‚å½“å…ƒç´ å…¨éƒ¨å¼¹å®Œ,å˜é‡ä¹Ÿä¼šåˆ é™¤ * * pop(k key) */public void pop() {    String pop = stringRedisTemplate.opsForSet().pop(&quot;set&quot;);    System.out.println(pop);}/** * æ‰¹é‡åˆ é™¤å˜é‡ä¸­çš„å…ƒç´ ,è¿”å›åˆ é™¤çš„æ•°é‡ * * remove(k key, v ...values) */public void remove() {    Long remove = stringRedisTemplate.opsForSet().remove(&quot;set2&quot;, &quot;b&quot;);    System.out.println(remove);}/** * åŒ¹é…è·å–é”®å€¼å¯¹ï¼ŒScanOptions.NONEä¸ºè·å–å…¨éƒ¨é”®å€¼å¯¹ï¼›ScanOptions.scanOptions().match(&quot;C&quot;).build()åŒ¹é…è·å–é”®ä½map1çš„é”®å€¼å¯¹,ä¸èƒ½æ¨¡ç³ŠåŒ¹é…ã€‚ * * scan(K key, ScanOptions options) */public void scan() {    Cursor&lt;String&gt; set = stringRedisTemplate.opsForSet().scan(&quot;set&quot;, ScanOptions.NONE);    while (set.hasNext()) {        String next = set.next();        System.out.println(next);    }}/** * é€šè¿‡é›†åˆæ±‚å·®å€¼ã€‚ * * difference(k key, k otherKey) */public void difference() {    Set&lt;String&gt; difference = stringRedisTemplate.opsForSet().difference(&quot;set&quot;, &quot;set2&quot;);    System.out.println(difference);}/** * å°†æ±‚å‡ºæ¥çš„å·®å€¼å…ƒç´ ä¿å­˜ * * differenceAndStore(K key, K otherKey, K targetKey) */public void differenceAndStore() {    Long aLong = stringRedisTemplate.opsForSet().differenceAndStore(&quot;set&quot;, &quot;set2&quot;, &quot;set3&quot;);    System.out.println(aLong);}/** * è·å–å»é‡çš„éšæœºå…ƒç´  * * distinctRandomMembers(K key, long count) */public void distinctRandomMembers() {    Set&lt;String&gt; set = stringRedisTemplate.opsForSet().distinctRandomMembers(&quot;set&quot;, 2);    System.out.println(set);}/** * è·å–ä¸¤ä¸ªå˜é‡ä¸­çš„äº¤é›† * * intersect(K key, K otherKey) */public void intersect() {    Set&lt;String&gt; intersect = stringRedisTemplate.opsForSet().intersect(&quot;set&quot;, &quot;set2&quot;);    System.out.println(intersect);}/** * è·å–2ä¸ªå˜é‡äº¤é›†åä¿å­˜åˆ°æœ€åä¸€ä¸ªå˜é‡ä¸Šã€‚ * * intersectAndStore(K key, K otherKey, K targetKey) */public void intersectAndStore() {    Long aLong = stringRedisTemplate.opsForSet().intersectAndStore(&quot;set&quot;, &quot;set2&quot;, &quot;set3&quot;);    System.out.println(aLong);}/** * è·å–ä¸¤ä¸ªå˜é‡çš„åˆé›† * * union(K key, K otherKey) */public void union() {    Set&lt;String&gt; union = stringRedisTemplate.opsForSet().union(&quot;set&quot;, &quot;set2&quot;);    System.out.println(union);}/** * è·å–ä¸¤ä¸ªå˜é‡åˆé›†åä¿å­˜åˆ°å¦ä¸€ä¸ªå˜é‡ä¸­ * * unionAndStore(K key, K otherKey, K targetKey) */public void unionAndStore() {    Long aLong = stringRedisTemplate.opsForSet().unionAndStore(&quot;set&quot;, &quot;set2&quot;, &quot;set3&quot;);    System.out.println(aLong);}}</code></pre><h4 id="opsForZsetï¼ˆæ“ä½œæœ‰åºseté›†åˆï¼‰"><a href="#opsForZsetï¼ˆæ“ä½œæœ‰åºseté›†åˆï¼‰" class="headerlink" title="opsForZsetï¼ˆæ“ä½œæœ‰åºseté›†åˆï¼‰"></a>opsForZsetï¼ˆæ“ä½œæœ‰åºseté›†åˆï¼‰</h4><pre><code>public class RedisZSet {    @Resource    private StringRedisTemplate stringRedisTemplate;/** * æ·»åŠ å…ƒç´ åˆ°å˜é‡ä¸­åŒæ—¶æŒ‡å®šå…ƒç´ çš„åˆ†å€¼ã€‚ * * add(K key, V value, double score) */public void add() {    Boolean add = stringRedisTemplate.opsForZSet().add(&quot;zset&quot;, &quot;a&quot;, 1);    System.out.println(add);}/** * é€šè¿‡TypedTupleæ–¹å¼æ–°å¢æ•°æ®ã€‚ * * add(K key, Set&lt;ZSetOperations.TypedTuple&lt;V&gt;&gt; tuples) */public void addByTypedTuple() {    ZSetOperations.TypedTuple&lt;String&gt; typedTuple1 = new DefaultTypedTuple&lt;&gt;(&quot;E&quot;, 2.0);    ZSetOperations.TypedTuple&lt;String&gt; typedTuple2 = new DefaultTypedTuple&lt;&gt;(&quot;F&quot;, 3.0);    ZSetOperations.TypedTuple&lt;String&gt; typedTuple3 = new DefaultTypedTuple&lt;&gt;(&quot;G&quot;, 5.0);    Set&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt; typedTupleSet = new HashSet&lt;&gt;();    typedTupleSet.add(typedTuple1);    typedTupleSet.add(typedTuple2);    typedTupleSet.add(typedTuple3);    Long zset = stringRedisTemplate.opsForZSet().add(&quot;zset&quot;, typedTupleSet);    System.out.println(zset);}/** * è·å–æŒ‡å®šåŒºé—´çš„å…ƒç´  * * range(k key, long start, long end) */public void range() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().range(&quot;zset&quot;, 0, -1);    System.out.println(zset);}/** * ç”¨äºè·å–æ»¡è¶³éscoreçš„æ’åºå–å€¼ã€‚è¿™ä¸ªæ’åºåªæœ‰åœ¨æœ‰ç›¸åŒåˆ†æ•°çš„æƒ…å†µä¸‹æ‰èƒ½ä½¿ç”¨ï¼Œå¦‚æœæœ‰ä¸åŒçš„åˆ†æ•°åˆ™è¿”å›å€¼ä¸ç¡®å®šã€‚ * * rangeByLex(K key, RedisZSetCommands.Range range) */public void rangeByLex() {    Set&lt;String&gt; rangeByLex = stringRedisTemplate.opsForZSet().rangeByLex(&quot;zset&quot;, RedisZSetCommands.Range.range().lt(&quot;E&quot;));    System.out.println(rangeByLex);}/** * ç”¨äºè·å–æ»¡è¶³éscoreçš„è®¾ç½®ä¸‹æ ‡å¼€å§‹çš„é•¿åº¦æ’åºå–å€¼ã€‚ * * rangeByLex(k key, range range, limit limit) */public void rangeByLexAndLimit() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().rangeByLex(&quot;zset&quot;, RedisZSetCommands.Range.range().lt(&quot;E&quot;),            RedisZSetCommands.Limit.limit().offset(1).count(2));    System.out.println(zset);}/** * æ ¹æ®è®¾ç½®çš„scoreè·å–åŒºé—´å€¼ã€‚ * * rangeByScore(K key, double min, double max) */public void rangeByScore() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().rangeByScore(&quot;zset&quot;, 1, 3);    System.out.println(zset);}/** * è·å–RedisZSetCommands.Tuplesçš„åŒºé—´å€¼ã€‚ * * rangeWithScores(K key, long start, long end) */public void rangeWithScores() {    Set&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt; zset = stringRedisTemplate.opsForZSet().rangeWithScores(&quot;zset&quot;, 1, 3);    assert zset != null;    for (ZSetOperations.TypedTuple&lt;String&gt; next : zset) {        String value = next.getValue();        Double score = next.getScore();        System.out.println(value + &quot;--&gt;&quot; + score);    }}/** * è·å–åŒºé—´å€¼çš„ä¸ªæ•°ã€‚ * * count(k key, double min, double max) */public void count() {    Long zset = stringRedisTemplate.opsForZSet().count(&quot;zset&quot;, 1, 3);    System.out.println(zset);}/** * è·å–å˜é‡ä¸­æŒ‡å®šå…ƒç´ çš„ç´¢å¼•,ä¸‹æ ‡å¼€å§‹ä¸º0 * * rank(k key, object o) */public void rank() {    Long rank = stringRedisTemplate.opsForZSet().rank(&quot;zset&quot;, &quot;a&quot;);    System.out.println(rank);}/** * åŒ¹é…è·å–é”®å€¼å¯¹ï¼ŒScanOptions.NONEä¸ºè·å–å…¨éƒ¨é”®å€¼å¯¹ï¼›ScanOptions.scanOptions().match(&quot;C&quot;).build()åŒ¹é…è·å–é”®ä½map1çš„é”®å€¼å¯¹,ä¸èƒ½æ¨¡ç³ŠåŒ¹é…ã€‚ * * scan(K key, ScanOptions options) */public void scan() {    Cursor&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt; zset = stringRedisTemplate.opsForZSet().scan(&quot;zset&quot;, ScanOptions.NONE);    while (zset.hasNext()) {        ZSetOperations.TypedTuple&lt;String&gt; next = zset.next();        System.out.println(next.getValue() + &quot;--&gt;&quot; + next.getScore());    }}/** * è·å–æŒ‡å®šå…ƒç´ çš„åˆ†å€¼ * * score(k key, object o) */public void score() {    Double score = stringRedisTemplate.opsForZSet().score(&quot;zset&quot;, &quot;a&quot;);    System.out.println(score);}/** * è·å–å˜é‡ä¸­å…ƒç´ çš„ä¸ªæ•° * * zCard(k key) */public void zCard() {    Long zset = stringRedisTemplate.opsForZSet().zCard(&quot;zset&quot;);    System.out.println(zset);}/** * ä¿®æ”¹å˜é‡ä¸­å…ƒç´ çš„åˆ†å€¼ * * incrementScore(K key, V value, double delta) */public void incrementScore() {    Double score = stringRedisTemplate.opsForZSet().incrementScore(&quot;zset&quot;, &quot;a&quot;, 2);    System.out.println(score);}/** * ç´¢å¼•å€’åºæ’åˆ—æŒ‡å®šåŒºé—´çš„å…ƒç´  * * reverseRange(K key, long start, long end) */public void reverseRange() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().reverseRange(&quot;zset&quot;, 1, 3);    System.out.println(zset);}/** * å€’åºæ’åˆ—æŒ‡å®šåˆ†å€¼åŒºé—´çš„å…ƒç´  * * reverseRangeByScore(K key, double min, double max) */public void reverseRangeByScore() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().reverseRangeByScore(&quot;zset&quot;, 1, 3);    System.out.println(zset);}/** * å€’åºæ’åºè·å–RedisZSetCommands.Tuplesçš„åˆ†å€¼åŒºé—´å€¼ * * reverseRangeByScore(K key, double min, double max, long offset, long count) */public void reverseRangeByScoreLength() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().reverseRangeByScore(&quot;zset&quot;, 1, 3, 1, 2);    System.out.println(zset);}/** * å€’åºæ’åºè·å–RedisZSetCommands.Tuplesçš„åˆ†å€¼åŒºé—´å€¼ã€‚ * * reverseRangeByScoreWithScores(K key, double min, double max) */public void reverseRangeByScoreWithScores() {    Set&lt;ZSetOperations.TypedTuple&lt;String&gt;&gt; zset = stringRedisTemplate.opsForZSet().reverseRangeByScoreWithScores(&quot;zset&quot;, 1, 5);    assert zset != null;    zset.iterator().forEachRemaining(e-&gt; System.out.println(e.getValue() + &quot;---&gt;&quot; + e.getScore()));}/** * è·å–å€’åºæ’åˆ—çš„ç´¢å¼•å€¼ * * reverseRank(k key, object o) */public void reverseRank() {    Long aLong = stringRedisTemplate.opsForZSet().reverseRank(&quot;zset&quot;, &quot;a&quot;);    System.out.println(aLong);}/** * è·å–2ä¸ªå˜é‡çš„äº¤é›†å­˜æ”¾åˆ°ç¬¬3ä¸ªå˜é‡é‡Œé¢ã€‚ * * intersectAndStore(K key, K otherKey, K destKey) */public void intersectAndStore() {    Long aLong = stringRedisTemplate.opsForZSet().intersectAndStore(&quot;zset&quot;, &quot;zset2&quot;, &quot;zset3&quot;);    System.out.println(aLong);}/** * è·å–2ä¸ªå˜é‡çš„åˆé›†å­˜æ”¾åˆ°ç¬¬3ä¸ªå˜é‡é‡Œé¢ã€‚ è¿”å›æ“ä½œçš„æ•°é‡ * * unionAndStore(K key, K otherKey, K destKey) */public void unionAndStore() {    Long aLong = stringRedisTemplate.opsForZSet().unionAndStore(&quot;zset&quot;, &quot;zset2&quot;, &quot;zset3&quot;);    System.out.println(aLong);}/** * æ‰¹é‡ç§»é™¤å…ƒç´ æ ¹æ®å…ƒç´ å€¼ã€‚è¿”å›åˆ é™¤çš„å…ƒç´ æ•°é‡ * * remove(K key, Object... values) */public void remove() {    Long remove = stringRedisTemplate.opsForZSet().remove(&quot;zset&quot;, &quot;a&quot;, &quot;b&quot;);    System.out.println(remove);}/** * æ ¹æ®åˆ†å€¼ç§»é™¤åŒºé—´å…ƒç´ ã€‚è¿”å›åˆ é™¤çš„æ•°é‡ * * removeRangeByScore(k key, double min, double max) */public void removeRangeByScore() {    Long zset = stringRedisTemplate.opsForZSet().removeRangeByScore(&quot;zset&quot;, 1, 3);    System.out.println(zset);}/** * æ ¹æ®ç´¢å¼•å€¼ç§»é™¤åŒºé—´å…ƒç´ ã€‚è¿”å›ç§»é™¤çš„å…ƒç´ é›†åˆ * * removeRange(K key, long start, long end) */public void removeRange() {    Set&lt;String&gt; zset = stringRedisTemplate.opsForZSet().reverseRange(&quot;zset&quot;, 0, 4);    System.out.println(zset);}}</code></pre><h3 id="é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²redis-centos7-7"><a href="#é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²redis-centos7-7" class="headerlink" title="é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²redis(centos7.7)"></a>é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²redis(centos7.7)</h3><ul><li>ä¸‹è½½åŒ…</li></ul><pre><code>    wget wget http://download.redis.io/releases/redis-5.0.8.tar.gz</code></pre><ul><li>è§£å‹åˆ°æŒ‡å®šè·¯å¾„</li></ul><pre><code>    tar -zxvf redis-5.0.8.tar.gz -C /usr/local</code></pre><ul><li>ç¼–è¯‘</li></ul><pre><code>    cd /usr/local/redis-5.0.8    make</code></pre><ul><li>ç¼–è¯‘æˆåŠŸå°†ä¼šå‡ºç°</li></ul><pre><code>    Hint: It&#39;s a good idea to run &#39;make test&#39; ğŸ˜‰    make[1]: Leaving directory `/usr/local/redis-5.0.8/src&#39;</code></pre><ul><li>ç„¶åæ‰§è¡Œä¸‹é¢å‘½ä»¤</li></ul><pre><code>    cd /usr/local/redis-5.0.8/src    make install</code></pre><ul><li>æˆåŠŸ</li></ul><pre><code>    Hint: It&#39;s a good idea to run &#39;make test&#39; ğŸ˜‰    INSTALL install    INSTALL install    INSTALL install    INSTALL install    INSTALL install</code></pre><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li></ul><pre><code>    vim /usr/local/redis-5.0.8/redis.conf    protected-mode no # å…³é—­ä¿æŠ¤æ¨¡å¼    daemonize yes     # å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼å¼€å¯    bind 127.0.0.1  æ³¨é‡Šæ‰ï¼Œä¸ç„¶è¿œç¨‹è¿æ¥ä¸ä¸Š</code></pre><ul><li>åƒä¸‡è®°ä½ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åè¦é‡å¯ï¼Œä¸ç„¶ä¸ä¼šç”Ÿæ•ˆï¼ï¼ï¼è¸©äº†å¥½å¤§çš„å‘</li></ul><pre><code>    //ä»¥ä¸‹å‘½ä»¤ä¸€èµ·è¾“å…¥    /usr/local/redis-5.0.8/src/redis-server &amp;    /usr/local/redis-5.0.8/redis.conf</code></pre><ul><li>å¯åŠ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯</li></ul><pre><code>    /usr/local/redis-5.0.8/src/redis-server    /usr/local/redis-5.0.8/src/redis-cli</code></pre><ul><li>åå°å¯åŠ¨æœåŠ¡ç«¯</li></ul><pre><code>    /usr/local/redis-5.0.8/src/redis-server &amp;</code></pre><ul><li>æŸ¥çœ‹redisè¿›ç¨‹</li></ul><pre><code>    ps -ef | grep redis</code></pre><ul><li>å¯†ç ç™»å½•å®¢æˆ·ç«¯</li></ul><pre><code>    cd /usr/local/redis-5.0.8/src    ./redis-cli -h 127.0.0.1 -p 6379 -a 980508</code></pre><ul><li>ç„¶åå°±ç”¨rediså¯è§†åŒ–å·¥å…·æµ‹è¯•è¿œç¨‹è¿æ¥ï¼Œè®°ä½è¦ç”¨å¯†ç è¿æ¥</li></ul>]]></content>
      
      
      <categories>
          
          <category> nosql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-routerè·¯ç”±</title>
      <link href="/2020/06/05/vue-router/"/>
      <url>/2020/06/05/vue-router/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒï¼Œå¯¹äºä¸€ä¸ªvueå¼€å‘çš„spaå•é¡µé¢è€Œè¨€ï¼Œè·¯ç”±çš„é‡è¦æ€§ä¸è¨€è€Œå–»</p><h2 id="vue-routeræ˜¯ä»€ä¹ˆ"><a href="#vue-routeræ˜¯ä»€ä¹ˆ" class="headerlink" title="vue-routeræ˜¯ä»€ä¹ˆ"></a>vue-routeræ˜¯ä»€ä¹ˆ</h2><ul><li>è¿™é‡Œçš„è·¯ç”±å¹¶ä¸æ˜¯æŒ‡æˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„ç¡¬ä»¶è·¯ç”±å™¨ï¼Œè¿™é‡Œçš„è·¯ç”±å°±æ˜¯SPAï¼ˆå•é¡µåº”ç”¨ï¼‰çš„è·¯å¾„ç®¡ç†å™¨ã€‚å†é€šä¿—çš„è¯´ï¼Œvue-routerå°±æ˜¯WebAppçš„é“¾æ¥è·¯å¾„ç®¡ç†ç³»ç»Ÿã€‚<br>vue-routeræ˜¯Vue.jså®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œå®ƒå’Œvue.jsæ˜¯æ·±åº¦é›†æˆçš„ï¼Œé€‚åˆç”¨äºæ„å»ºå•é¡µé¢åº”ç”¨ã€‚vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ã€‚ä¼ ç»Ÿçš„é¡µé¢åº”ç”¨ï¼Œæ˜¯ç”¨ä¸€äº›è¶…é“¾æ¥æ¥å®ç°é¡µé¢åˆ‡æ¢å’Œè·³è½¬çš„ã€‚åœ¨vue-routerå•é¡µé¢åº”ç”¨ä¸­ï¼Œåˆ™æ˜¯è·¯å¾„ä¹‹é—´çš„åˆ‡æ¢ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶çš„åˆ‡æ¢ã€‚è·¯ç”±æ¨¡å—çš„æœ¬è´¨ å°±æ˜¯å»ºç«‹èµ·urlå’Œé¡µé¢ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</li><li>è‡³äºæˆ‘ä»¬ä¸ºå•¥ä¸èƒ½ç”¨aæ ‡ç­¾ï¼Œè¿™æ˜¯å› ä¸ºç”¨Vueåšçš„éƒ½æ˜¯å•é¡µåº”ç”¨ï¼ˆå½“ä½ çš„é¡¹ç›®å‡†å¤‡æ‰“åŒ…æ—¶ï¼Œè¿è¡Œnpm run buildæ—¶ï¼Œå°±ä¼šç”Ÿæˆdistæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œé¢åªæœ‰é™æ€èµ„æºå’Œä¸€ä¸ªindex.htmlé¡µé¢ï¼‰ï¼Œæ‰€ä»¥ä½ å†™çš„<a></a>æ ‡ç­¾æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œä½ å¿…é¡»ä½¿ç”¨vue-routeræ¥è¿›è¡Œç®¡ç†ã€‚</li></ul><h2 id="vue-routerä½¿ç”¨æ–¹å¼"><a href="#vue-routerä½¿ç”¨æ–¹å¼" class="headerlink" title="vue-routerä½¿ç”¨æ–¹å¼"></a>vue-routerä½¿ç”¨æ–¹å¼</h2><ul><li>ä¸‹è½½ </li></ul><pre><code>    npm i vue-router --save</code></pre><ul><li>åˆ›å»ºrouter.jsæ–‡ä»¶</li></ul><pre><code>import Router from &#39;vue-router&#39; //å¯¼å…¥æ’ä»¶Vue.use(Router);    //å®‰è£…æ’ä»¶</code></pre><ul><li>åˆ›å»ºè·¯ç”±å¯¹è±¡å¹¶é…ç½®è·¯ç”±è§„åˆ™ let router = new VueRouter({routes:[{path:â€™/homeâ€™,component:Home}]});</li></ul><pre><code>    export default new Router({        routes: [    //é…ç½®è·¯ç”±ï¼Œè¿™é‡Œæ˜¯ä¸ªæ•°ç»„            {       //æ¯ä¸€ä¸ªé“¾æ¥éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡                path: &#39;/&#39;,  //é“¾æ¥è·¯å¾„                name: &#39;home&#39;,   //è·¯ç”±åç§°                redirect: &#39;/index&#39;,     //é‡å®šå‘                component: Home,    //å¯¹åº”çš„ç»„ä»¶æ¨¡æ¿                children: [        //å­è·¯ç”±                {                    path: &#39;product/:id&#39;,    // /:idè¡¨ç¤ºåŠ¨æ€è·¯ç”± åŠ¨æ€ä¼ id                    name: &#39;product&#39;,                    component: Product,                },                ]            },        ]    })</code></pre><ul><li>åŠ¨æ€è·¯ç”±çš„å–å€¼ï¼šthis.$route.params.id</li><li>åœ¨main.jsä¸­å¼•å…¥ router.js</li><li>å°†å…¶è·¯ç”±å¯¹è±¡ä¼ é€’ç»™main.jsä¸­Vueçš„å®ä¾‹ï¼Œoptionsä¸­åŠ å…¥ router:router</li><li>åœ¨app.vueä¸­ç•™å‘ <router-view></router-view></li></ul><pre><code>    //app.vueä¸­    &lt;template&gt;        &lt;div&gt;            &lt;!-- ç•™å‘ï¼Œéå¸¸é‡è¦ --&gt;            &lt;router-view&gt;&lt;/router-view&gt;        &lt;/div&gt;    &lt;/template&gt;    &lt;script&gt;        export default {            data(){                return {}            }        }    &lt;/script&gt;</code></pre><h2 id="ä½¿ç”¨è·¯ç”±æ¨¡å—æ¥å®ç°é¡µé¢è·³è½¬çš„æ–¹å¼"><a href="#ä½¿ç”¨è·¯ç”±æ¨¡å—æ¥å®ç°é¡µé¢è·³è½¬çš„æ–¹å¼" class="headerlink" title="ä½¿ç”¨è·¯ç”±æ¨¡å—æ¥å®ç°é¡µé¢è·³è½¬çš„æ–¹å¼"></a>ä½¿ç”¨è·¯ç”±æ¨¡å—æ¥å®ç°é¡µé¢è·³è½¬çš„æ–¹å¼</h2><ul><li>1ï¼šç›´æ¥ä¿®æ”¹åœ°å€æ </li><li>2ï¼šthis.$router.push(â€˜è·¯ç”±åœ°å€â€™)</li><li>3ï¼š<router-link to="è·¯ç”±åœ°å€"></router-link></li></ul><h3 id="è·¯ç”±æºå¸¦å‚æ•°è·³è½¬é¡µé¢"><a href="#è·¯ç”±æºå¸¦å‚æ•°è·³è½¬é¡µé¢" class="headerlink" title="è·¯ç”±æºå¸¦å‚æ•°è·³è½¬é¡µé¢"></a>è·¯ç”±æºå¸¦å‚æ•°è·³è½¬é¡µé¢</h3><h4 id="ä½¿ç”¨Queryå®ç°è·¯ç”±ä¼ å‚ï¼ˆurlä¸­æ˜¾ç¤ºå‚æ•°ï¼‰"><a href="#ä½¿ç”¨Queryå®ç°è·¯ç”±ä¼ å‚ï¼ˆurlä¸­æ˜¾ç¤ºå‚æ•°ï¼‰" class="headerlink" title="ä½¿ç”¨Queryå®ç°è·¯ç”±ä¼ å‚ï¼ˆurlä¸­æ˜¾ç¤ºå‚æ•°ï¼‰"></a>ä½¿ç”¨Queryå®ç°è·¯ç”±ä¼ å‚ï¼ˆurlä¸­æ˜¾ç¤ºå‚æ•°ï¼‰</h4><pre><code>    //æºå¸¦å‚æ•°è·³è½¬åˆ°è®¢å•æ”¯ä»˜é¡µé¢    this.$router.push({      path:&#39;/order/pay&#39;,    //è·¯ç”±è·¯å¾„      query:{        orderNo : res.orderNo   //æºå¸¦å‚æ•°      }    })</code></pre><ul><li>è·³è½¬è¿‡å»urlæ˜¯æºå¸¦å‚æ•°çš„</li></ul><pre><code>    http://localhost:8080/#/order/pay?orderNo=1589864016971</code></pre><ul><li>è·å–å‚æ•°</li></ul><pre><code>    this.$route.query.orderNo</code></pre><h3 id="paramsä¼ å‚ï¼ˆurlä¸­ä¸æ˜¾ç¤ºå‚æ•°ï¼‰"><a href="#paramsä¼ å‚ï¼ˆurlä¸­ä¸æ˜¾ç¤ºå‚æ•°ï¼‰" class="headerlink" title="paramsä¼ å‚ï¼ˆurlä¸­ä¸æ˜¾ç¤ºå‚æ•°ï¼‰"></a>paramsä¼ å‚ï¼ˆurlä¸­ä¸æ˜¾ç¤ºå‚æ•°ï¼‰</h3><ul><li>æ³¨æ„ï¼šä¸Šè¿°è¿™ç§åˆ©ç”¨paramsä¸æ˜¾ç¤ºurlä¼ å‚çš„æ–¹å¼ä¼šå¯¼è‡´åœ¨åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œä¼ é€’çš„å€¼ä¼šä¸¢å¤±,è¿™ä¸ªå¯ä»¥ç”¨æ¥åˆ¤æ–­æ˜¯ä»å“ªä¸ªé¡µé¢è·³è½¬è¿‡æ¥</li></ul><pre><code>    this.$router.push({        name: &#39;index&#39;,        params:{          from: &#39;login&#39;        }      });</code></pre><ul><li>è·å–å‚æ•°</li></ul><pre><code>    this.$route.params.from</code></pre><ul><li>åˆ¤æ–­</li></ul><pre><code>    //åªæœ‰ä»ç™»é™†é¡µé¢è·³è½¬è¿‡æ¥çš„æ—¶å€™æ‰ä¼šè·å–è´­ç‰©è½¦æ•°é‡    if (this.$route.params.from &amp;&amp; this.$route.params.from == &#39;login&#39;) {        this.getCartCount();    }</code></pre><h2 id="è·¯ç”±æ‡’åŠ è½½vue-router"><a href="#è·¯ç”±æ‡’åŠ è½½vue-router" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½vue-router"></a>è·¯ç”±æ‡’åŠ è½½vue-router</h2><h3 id="ä»€ä¹ˆæ˜¯æ‡’åŠ è½½ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ‡’åŠ è½½ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ‡’åŠ è½½ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ‡’åŠ è½½ï¼Ÿ</h3><ul><li>æ‡’åŠ è½½ä¹Ÿå°±æ˜¯å»¶è¿ŸåŠ è½½æˆ–è€…æŒ‰éœ€åŠ è½½ï¼Œå³åœ¨éœ€è¦çš„æ—¶å€™è¿›è¡ŒåŠ è½½ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆåœ¨Vueè·¯ç”±ä¸­ä½¿ç”¨æ‡’åŠ è½½ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆåœ¨Vueè·¯ç”±ä¸­ä½¿ç”¨æ‡’åŠ è½½ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆåœ¨Vueè·¯ç”±ä¸­ä½¿ç”¨æ‡’åŠ è½½ï¼Ÿ"></a>ä¸ºä»€ä¹ˆåœ¨Vueè·¯ç”±ä¸­ä½¿ç”¨æ‡’åŠ è½½ï¼Ÿ</h3><ul><li>åƒvueè¿™ç§å•é¡µé¢åº”ç”¨ï¼Œå¦‚æœæ²¡æœ‰åº”ç”¨æ‡’åŠ è½½ï¼Œè¿ç”¨webpackæ‰“åŒ…åçš„æ–‡ä»¶å°†ä¼šå¼‚å¸¸çš„å¤§ï¼Œé€ æˆè¿›å…¥é¦–é¡µæ—¶ï¼Œéœ€è¦åŠ è½½çš„å†…å®¹è¿‡å¤šï¼Œæ—¶é—´è¿‡é•¿ï¼Œä¼šå‡ºå•Šå…ˆé•¿æ—¶é—´çš„ç™½å±ï¼Œå³ä½¿åšäº†loadingä¹Ÿæ˜¯ä¸åˆ©äºç”¨æˆ·ä½“éªŒï¼Œè€Œè¿ç”¨æ‡’åŠ è½½åˆ™å¯ä»¥å°†é¡µé¢è¿›è¡Œåˆ’åˆ†ï¼Œéœ€è¦çš„æ—¶å€™åŠ è½½é¡µé¢ï¼Œå¯ä»¥æœ‰æ•ˆçš„åˆ†æ‹…é¦–é¡µæ‰€æ‰¿æ‹…çš„åŠ è½½å‹åŠ›ï¼Œå‡å°‘é¦–é¡µåŠ è½½ç”¨æ—¶ï¼›</li><li>ç®€å•çš„è¯´å°±æ˜¯ï¼šè¿›å…¥é¦–é¡µä¸ç”¨ä¸€æ¬¡åŠ è½½è¿‡å¤šèµ„æºé€ æˆç”¨æ—¶è¿‡é•¿ï¼›</li></ul><h3 id="å¦‚ä½•å®ç°æ‡’åŠ è½½"><a href="#å¦‚ä½•å®ç°æ‡’åŠ è½½" class="headerlink" title="å¦‚ä½•å®ç°æ‡’åŠ è½½"></a>å¦‚ä½•å®ç°æ‡’åŠ è½½</h3><ul><li>æ–¹æ¡ˆä¸€ï¼š åœ¨è·¯ç”±æ–‡ä»¶ä¸­ä½¿ç”¨ reslove=&gt;require([â€œ./pages/HelloWorld.vueâ€],reslove) æ¥å¼•å…¥é¡µé¢æ¨¡æ¿ï¼›</li></ul><pre><code>    export default new Router({        routes: [    //é…ç½®è·¯ç”±ï¼Œè¿™é‡Œæ˜¯ä¸ªæ•°ç»„            {       //æ¯ä¸€ä¸ªé“¾æ¥éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡                path: &#39;/&#39;,  //é“¾æ¥è·¯å¾„                name: &#39;home&#39;,   //è·¯ç”±åç§°                redirect: &#39;/index&#39;,     //é‡å®šå‘                component: Home,    //å¯¹åº”çš„ç»„ä»¶æ¨¡æ¿                children: [        //å­è·¯ç”±                    {                        path: &#39;product/:id&#39;,        //åŠ¨æ€è·¯ç”± /:è¡¨ç¤ºåŠ¨æ€ä¼ id                        name: &#39;product&#39;,                        component: resolve =&gt; require([&#39;./pages/product.vue&#39;], resolve),                    },                    {                        path: &#39;detail/:id&#39;,                        name: &#39;detail&#39;,                        component: resolve =&gt; require([&#39;./pages/detail.vue&#39;], resolve),                    }                ]            ]        })</code></pre><ul><li>æ–¹æ¡ˆäºŒï¼šåœ¨è·¯ç”±æ–‡ä»¶ä¸­ä½¿ç”¨  ()=&gt;import(â€œ../components/HelloWorld.vueâ€) æ¥å¼•å…¥ç»„ä»¶æ¨¡ç‰ˆï¼›</li><li>ä½†æ˜¯è¿™ä¸ªæ–¹æ¡ˆç”¨çš„æ˜¯es7çš„è¯­æ³•ï¼Œå¯èƒ½éœ€è¦ä¸‹è½½ä¸€ä¸ªæ’ä»¶</li></ul><pre><code>    npm install @babel/plugin-syntax-dynamic-import    export default new Router({        routes: [    //é…ç½®è·¯ç”±ï¼Œè¿™é‡Œæ˜¯ä¸ªæ•°ç»„            {       //æ¯ä¸€ä¸ªé“¾æ¥éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡                path: &#39;/&#39;,  //é“¾æ¥è·¯å¾„                name: &#39;home&#39;,   //è·¯ç”±åç§°                redirect: &#39;/index&#39;,     //é‡å®šå‘                component: Home,    //å¯¹åº”çš„ç»„ä»¶æ¨¡æ¿                children: [        //å­è·¯ç”±                    {                        path: &#39;product/:id&#39;,        //åŠ¨æ€è·¯ç”± /:è¡¨ç¤ºåŠ¨æ€ä¼ id                        name: &#39;product&#39;,                        component: () =&gt; import(&#39;./pages/product.vue&#39;)                    },                    {                        path: &#39;detail/:id&#39;,                        name: &#39;detail&#39;,                        component: () =&gt; import(&#39;./pages/detail.vue&#39;)                    }                ]            ]        })</code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatisä¸‰å‰‘å®¢</title>
      <link href="/2020/05/23/mybatis-san-jian-ke/"/>
      <url>/2020/05/23/mybatis-san-jian-ke/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>mybatisç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è¦å†™å®ä½“ç±»ï¼Œæ¥å£ï¼Œmappingæ˜ å°„æ–‡ä»¶åˆæ˜¾å¾—æœ‰äº›éº»çƒ¦ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰å¸®æˆ‘ä»¬ç”Ÿæˆè¿™äº›ç”Ÿæˆè¿™äº›æ–‡ä»¶çš„ä¸œè¥¿å‘¢ï¼Œå½“ç„¶æœ‰ï¼Œé‚£å°±æ˜¯mybatisä¸‰å‰‘å®¢çš„å…¶ä¸­ä¹‹ä¸€mybatis-generatorï¼Œå½“ç„¶è¿˜æœ‰ä¸¤ä¸ªå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ˜¯ä½¿ç”¨mybatisçš„æ’ä»¶å°±åœ¨åé¢æ…¢æ…¢ä»‹ç»</li></ul><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><ul><li>Mabatisä¸‰å‰‘å®¢åˆ†åˆ«æ˜¯ï¼šmybatis-generatorã€mybatis-pluginã€mybatis-pagehelper</li></ul><h2 id="ä¸€-mybatis-generator"><a href="#ä¸€-mybatis-generator" class="headerlink" title="ä¸€. mybatis-generator"></a>ä¸€. mybatis-generator</h2><ul><li>æ ¹æ®æˆ‘ä»¬çš„æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆpojoã€daoå’Œxmlæ–‡ä»¶<br>pojoé‡Œé¢æ”¾çš„æ˜¯è·Ÿæ•°æ®åº“å­—æ®µä¸€ä¸€å¯¹åº”çš„å¯¹è±¡ã€daoå±‚æ˜¯æ¥å£ï¼Œä¾›serviceä½¿ç”¨ï¼Œxmlæ˜¯è¿™ä¸ªdaoå±‚æ¥å£çš„å®ç°ï¼Œsqlè¯­å¥éƒ½å†™åœ¨xmlé‡Œ</li><li>åŸç†å°±æ˜¯è¿æ¥æ•°æ®åº“ï¼Œè·å–è¡¨æœºæ„ï¼Œç”Ÿæˆæ–‡ä»¶</li><li>å¦‚å›¾ç”Ÿæˆè¿™ä¸‰ä¸ªæ–‡ä»¶<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/39.png" alt=""></li></ul><ul><li>é¦–å…ˆå¼•å…¥é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œç”¨çš„æ˜¯1.3.7ç‰ˆæœ¬</li></ul><pre><code>    &lt;plugin&gt;            &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;            &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;            &lt;version&gt;1.3.7&lt;/version&gt;            &lt;!--                å¦‚æœå­˜åœ¨æ–‡ä»¶å°±ä¸ä¼šåœ¨ç”Ÿæˆï¼Œåªä¼šè¦†ç›–--&gt;            &lt;configuration&gt;                &lt;overwrite&gt;true&lt;/overwrite&gt;            &lt;/configuration&gt;        &lt;/plugin&gt;</code></pre><ul><li>ç„¶ååœ¨mainåŒ…çš„resourceæ–‡ä»¶å¤¹ä¸‹æ·»åŠ æ–‡ä»¶generatorConfig.xml,å¦‚å›¾</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/38.png" alt=""></p><h3 id="generatorConfig-xmlè¯¦è§£"><a href="#generatorConfig-xmlè¯¦è§£" class="headerlink" title="generatorConfig.xmlè¯¦è§£"></a>generatorConfig.xmlè¯¦è§£</h3><pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    &lt;!DOCTYPE generatorConfiguration      PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;    &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;    &lt;!-- é…ç½®ç”Ÿæˆå™¨ --&gt;    &lt;generatorConfiguration&gt;    &lt;!-- å¯ä»¥ç”¨äºåŠ è½½é…ç½®é¡¹æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œåœ¨æ•´ä¸ªé…ç½®æ–‡ä»¶ä¸­å°±å¯ä»¥ä½¿ç”¨${propertyKey}çš„æ–¹å¼æ¥å¼•ç”¨é…ç½®é¡¹        resourceï¼šé…ç½®èµ„æºåŠ è½½åœ°å€ï¼Œä½¿ç”¨resourceï¼ŒMBGä»classpathå¼€å§‹æ‰¾ï¼Œæ¯”å¦‚com/myproject/generatorConfig.properties                urlï¼šé…ç½®èµ„æºåŠ è½½åœ°è´¨ï¼Œä½¿ç”¨URLçš„æ–¹å¼ï¼Œæ¯”å¦‚file:///C:/myfolder/generatorConfig.properties.        æ³¨æ„ï¼Œä¸¤ä¸ªå±æ€§åªèƒ½é€‰å€ä¸€ä¸ª;        å¦å¤–ï¼Œå¦‚æœä½¿ç”¨äº†mybatis-generator-maven-pluginï¼Œé‚£ä¹ˆåœ¨pom.xmlä¸­å®šä¹‰çš„propertieséƒ½å¯ä»¥ç›´æ¥åœ¨generatorConfig.xmlä¸­ä½¿ç”¨    &lt;properties resource=&quot;&quot; url=&quot;&quot; /&gt;     --&gt;     &lt;!-- åœ¨MBGå·¥ä½œçš„æ—¶å€™ï¼Œéœ€è¦é¢å¤–åŠ è½½çš„ä¾èµ–åŒ…         locationå±æ€§æŒ‡æ˜åŠ è½½jar/zipåŒ…çš„å…¨è·¯å¾„    &lt;classPathEntry location=&quot;/Program Files/IBM/SQLLIB/java/db2java.zip&quot; /&gt;      --&gt;    &lt;!--         context:ç”Ÿæˆä¸€ç»„å¯¹è±¡çš„ç¯å¢ƒ         id:å¿…é€‰ï¼Œä¸Šä¸‹æ–‡idï¼Œç”¨äºåœ¨ç”Ÿæˆé”™è¯¯æ—¶æç¤º        defaultModelType:æŒ‡å®šç”Ÿæˆå¯¹è±¡çš„æ ·å¼            1ï¼Œconditionalï¼šç±»ä¼¼hierarchicalï¼›            2ï¼Œflatï¼šæ‰€æœ‰å†…å®¹ï¼ˆä¸»é”®ï¼Œblobï¼‰ç­‰å…¨éƒ¨ç”Ÿæˆåœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼›            3ï¼Œhierarchicalï¼šä¸»é”®ç”Ÿæˆä¸€ä¸ªXXKeyå¯¹è±¡(key class)ï¼ŒBlobç­‰å•ç‹¬ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä»–ç®€å•å±æ€§åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­(record class)        targetRuntime:            1ï¼ŒMyBatis3ï¼šé»˜è®¤çš„å€¼ï¼Œç”ŸæˆåŸºäºMyBatis3.xä»¥ä¸Šç‰ˆæœ¬çš„å†…å®¹ï¼ŒåŒ…æ‹¬XXXBySampleï¼›            2ï¼ŒMyBatis3Simpleï¼šç±»ä¼¼MyBatis3ï¼Œåªæ˜¯ä¸ç”ŸæˆXXXBySampleï¼›        introspectedColumnImplï¼šç±»å…¨é™å®šåï¼Œç”¨äºæ‰©å±•MBG    --&gt;    &lt;context id=&quot;mysql&quot; defaultModelType=&quot;hierarchical&quot; targetRuntime=&quot;MyBatis3Simple&quot; &gt;        &lt;!-- è‡ªåŠ¨è¯†åˆ«æ•°æ®åº“å…³é”®å­—ï¼Œé»˜è®¤falseï¼Œå¦‚æœè®¾ç½®ä¸ºtrueï¼Œæ ¹æ®SqlReservedWordsä¸­å®šä¹‰çš„å…³é”®å­—åˆ—è¡¨ï¼›            ä¸€èˆ¬ä¿ç•™é»˜è®¤å€¼ï¼Œé‡åˆ°æ•°æ®åº“å…³é”®å­—ï¼ˆJavaå…³é”®å­—ï¼‰ï¼Œä½¿ç”¨columnOverrideè¦†ç›–         --&gt;        &lt;property name=&quot;autoDelimitKeywords&quot; value=&quot;false&quot;/&gt;        &lt;!-- ç”Ÿæˆçš„Javaæ–‡ä»¶çš„ç¼–ç  --&gt;        &lt;property name=&quot;javaFileEncoding&quot; value=&quot;UTF-8&quot;/&gt;        &lt;!-- æ ¼å¼åŒ–javaä»£ç  --&gt;        &lt;property name=&quot;javaFormatter&quot; value=&quot;org.mybatis.generator.api.dom.DefaultJavaFormatter&quot;/&gt;        &lt;!-- æ ¼å¼åŒ–XMLä»£ç  --&gt;        &lt;property name=&quot;xmlFormatter&quot; value=&quot;org.mybatis.generator.api.dom.DefaultXmlFormatter&quot;/&gt;        &lt;!-- beginningDelimiterå’ŒendingDelimiterï¼šæŒ‡æ˜æ•°æ®åº“çš„ç”¨äºæ ‡è®°æ•°æ®åº“å¯¹è±¡åçš„ç¬¦å·ï¼Œæ¯”å¦‚ORACLEå°±æ˜¯åŒå¼•å·ï¼ŒMYSQLé»˜è®¤æ˜¯`åå¼•å·ï¼› --&gt;        &lt;property name=&quot;beginningDelimiter&quot; value=&quot;`&quot;/&gt;        &lt;property name=&quot;endingDelimiter&quot; value=&quot;`&quot;/&gt;        &lt;!-- å¿…é¡»è¦æœ‰çš„ï¼Œä½¿ç”¨è¿™ä¸ªé…ç½®é“¾æ¥æ•°æ®åº“            @TODO:æ˜¯å¦å¯ä»¥æ‰©å±•         --&gt;        &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql:///pss&quot; userId=&quot;root&quot; password=&quot;admin&quot;&gt;            &lt;!-- è¿™é‡Œé¢å¯ä»¥è®¾ç½®propertyå±æ€§ï¼Œæ¯ä¸€ä¸ªpropertyå±æ€§éƒ½è®¾ç½®åˆ°é…ç½®çš„Driverä¸Š --&gt;        &lt;/jdbcConnection&gt;        &lt;!-- javaç±»å‹å¤„ç†å™¨             ç”¨äºå¤„ç†DBä¸­çš„ç±»å‹åˆ°Javaä¸­çš„ç±»å‹ï¼Œé»˜è®¤ä½¿ç”¨JavaTypeResolverDefaultImplï¼›            æ³¨æ„ä¸€ç‚¹ï¼Œé»˜è®¤ä¼šå…ˆå°è¯•ä½¿ç”¨Integerï¼ŒLongï¼ŒShortç­‰æ¥å¯¹åº”DECIMALå’Œ NUMERICæ•°æ®ç±»å‹ï¼›         --&gt;        &lt;javaTypeResolver type=&quot;org.mybatis.generator.internal.types.JavaTypeResolverDefaultImpl&quot;&gt;            &lt;!--                 trueï¼šä½¿ç”¨BigDecimalå¯¹åº”DECIMALå’Œ NUMERICæ•°æ®ç±»å‹                falseï¼šé»˜è®¤,                    scale&gt;0;length&gt;18ï¼šä½¿ç”¨BigDecimal;                    scale=0;length[10,18]ï¼šä½¿ç”¨Longï¼›                    scale=0;length[5,9]ï¼šä½¿ç”¨Integerï¼›                    scale=0;length&lt;5ï¼šä½¿ç”¨Shortï¼›             --&gt;            &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt;        &lt;/javaTypeResolver&gt;        &lt;!-- javaæ¨¡å‹åˆ›å»ºå™¨ï¼Œæ˜¯å¿…é¡»è¦çš„å…ƒç´             è´Ÿè´£ï¼š1ï¼Œkeyç±»ï¼ˆè§contextçš„defaultModelTypeï¼‰ï¼›2ï¼Œjavaç±»ï¼›3ï¼ŒæŸ¥è¯¢ç±»            targetPackageï¼šç”Ÿæˆçš„ç±»è¦æ”¾çš„åŒ…ï¼ŒçœŸå®çš„åŒ…å—enableSubPackageså±æ€§æ§åˆ¶ï¼›            targetProjectï¼šç›®æ ‡é¡¹ç›®ï¼ŒæŒ‡å®šä¸€ä¸ªå­˜åœ¨çš„ç›®å½•ä¸‹ï¼Œç”Ÿæˆçš„å†…å®¹ä¼šæ”¾åˆ°æŒ‡å®šç›®å½•ä¸­ï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼ŒMBGä¸ä¼šè‡ªåŠ¨å»ºç›®å½•         --&gt;        &lt;javaModelGenerator targetPackage=&quot;com._520it.mybatis.domain&quot; targetProject=&quot;src/main/java&quot;&gt;            &lt;!--  for MyBatis3/MyBatis3Simple                è‡ªåŠ¨ä¸ºæ¯ä¸€ä¸ªç”Ÿæˆçš„ç±»åˆ›å»ºä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œæ„é€ æ–¹æ³•åŒ…å«äº†æ‰€æœ‰çš„fieldï¼›è€Œä¸æ˜¯ä½¿ç”¨setterï¼›             --&gt;            &lt;property name=&quot;constructorBased&quot; value=&quot;false&quot;/&gt;            &lt;!-- åœ¨targetPackageçš„åŸºç¡€ä¸Šï¼Œæ ¹æ®æ•°æ®åº“çš„schemaå†ç”Ÿæˆä¸€å±‚packageï¼Œæœ€ç»ˆç”Ÿæˆçš„ç±»æ”¾åœ¨è¿™ä¸ªpackageä¸‹ï¼Œé»˜è®¤ä¸ºfalse --&gt;            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;            &lt;!-- for MyBatis3 / MyBatis3Simple                æ˜¯å¦åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„ç±»ï¼Œå¦‚æœä¸ºtrueï¼Œ                é‚£ä¹ˆMBGä¼šåˆ›å»ºä¸€ä¸ªæ²¡æœ‰setteræ–¹æ³•çš„ç±»ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ç±»ä¼¼constructorBasedçš„ç±»             --&gt;            &lt;property name=&quot;immutable&quot; value=&quot;false&quot;/&gt;            &lt;!-- è®¾ç½®ä¸€ä¸ªæ ¹å¯¹è±¡ï¼Œ                å¦‚æœè®¾ç½®äº†è¿™ä¸ªæ ¹å¯¹è±¡ï¼Œé‚£ä¹ˆç”Ÿæˆçš„keyClassæˆ–è€…recordClassä¼šç»§æ‰¿è¿™ä¸ªç±»ï¼›åœ¨Tableçš„rootClasså±æ€§ä¸­å¯ä»¥è¦†ç›–è¯¥é€‰é¡¹                æ³¨æ„ï¼šå¦‚æœåœ¨key classæˆ–è€…record classä¸­æœ‰root classç›¸åŒçš„å±æ€§ï¼ŒMBGå°±ä¸ä¼šé‡æ–°ç”Ÿæˆè¿™äº›å±æ€§äº†ï¼ŒåŒ…æ‹¬ï¼š                    1ï¼Œå±æ€§åç›¸åŒï¼Œç±»å‹ç›¸åŒï¼Œæœ‰ç›¸åŒçš„getter/setteræ–¹æ³•ï¼›             --&gt;            &lt;property name=&quot;rootClass&quot; value=&quot;com._520it.mybatis.domain.BaseDomain&quot;/&gt;            &lt;!-- è®¾ç½®æ˜¯å¦åœ¨getteræ–¹æ³•ä¸­ï¼Œå¯¹Stringç±»å‹å­—æ®µè°ƒç”¨trim()æ–¹æ³• --&gt;            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt;        &lt;/javaModelGenerator&gt;        &lt;!-- ç”ŸæˆSQL mapçš„XMLæ–‡ä»¶ç”Ÿæˆå™¨ï¼Œ            æ³¨æ„ï¼Œåœ¨Mybatis3ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨mapper.xmlæ–‡ä»¶+Mapperæ¥å£ï¼ˆæˆ–è€…ä¸ç”¨mapperæ¥å£ï¼‰ï¼Œ                æˆ–è€…åªä½¿ç”¨Mapperæ¥å£+Annotationï¼Œæ‰€ä»¥ï¼Œå¦‚æœ javaClientGeneratoré…ç½®ä¸­é…ç½®äº†éœ€è¦ç”ŸæˆXMLçš„è¯ï¼Œè¿™ä¸ªå…ƒç´ å°±å¿…é¡»é…ç½®            targetPackage/targetProject:åŒjavaModelGenerator         --&gt;        &lt;sqlMapGenerator targetPackage=&quot;com._520it.mybatis.mapper&quot; targetProject=&quot;src/main/resources&quot;&gt;            &lt;!-- åœ¨targetPackageçš„åŸºç¡€ä¸Šï¼Œæ ¹æ®æ•°æ®åº“çš„schemaå†ç”Ÿæˆä¸€å±‚packageï¼Œæœ€ç»ˆç”Ÿæˆçš„ç±»æ”¾åœ¨è¿™ä¸ªpackageä¸‹ï¼Œé»˜è®¤ä¸ºfalse --&gt;            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;        &lt;/sqlMapGenerator&gt;        &lt;!-- å¯¹äºmybatisæ¥è¯´ï¼Œå³ç”ŸæˆMapperæ¥å£ï¼Œæ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰é…ç½®è¯¥å…ƒç´ ï¼Œé‚£ä¹ˆé»˜è®¤ä¸ä¼šç”ŸæˆMapperæ¥å£             targetPackage/targetProject:åŒjavaModelGenerator            typeï¼šé€‰æ‹©æ€ä¹ˆç”Ÿæˆmapperæ¥å£ï¼ˆåœ¨MyBatis3/MyBatis3Simpleä¸‹ï¼‰ï¼š                1ï¼ŒANNOTATEDMAPPERï¼šä¼šç”Ÿæˆä½¿ç”¨Mapperæ¥å£+Annotationçš„æ–¹å¼åˆ›å»ºï¼ˆSQLç”Ÿæˆåœ¨annotationä¸­ï¼‰ï¼Œä¸ä¼šç”Ÿæˆå¯¹åº”çš„XMLï¼›                2ï¼ŒMIXEDMAPPERï¼šä½¿ç”¨æ··åˆé…ç½®ï¼Œä¼šç”ŸæˆMapperæ¥å£ï¼Œå¹¶é€‚å½“æ·»åŠ åˆé€‚çš„Annotationï¼Œä½†æ˜¯XMLä¼šç”Ÿæˆåœ¨XMLä¸­ï¼›                3ï¼ŒXMLMAPPERï¼šä¼šç”ŸæˆMapperæ¥å£ï¼Œæ¥å£å®Œå…¨ä¾èµ–XMLï¼›            æ³¨æ„ï¼Œå¦‚æœcontextæ˜¯MyBatis3Simpleï¼šåªæ”¯æŒANNOTATEDMAPPERå’ŒXMLMAPPER        --&gt;        &lt;javaClientGenerator targetPackage=&quot;com._520it.mybatis.mapper&quot; type=&quot;ANNOTATEDMAPPER&quot; targetProject=&quot;src/main/java&quot;&gt;            &lt;!-- åœ¨targetPackageçš„åŸºç¡€ä¸Šï¼Œæ ¹æ®æ•°æ®åº“çš„schemaå†ç”Ÿæˆä¸€å±‚packageï¼Œæœ€ç»ˆç”Ÿæˆçš„ç±»æ”¾åœ¨è¿™ä¸ªpackageä¸‹ï¼Œé»˜è®¤ä¸ºfalse --&gt;            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt;            &lt;!-- å¯ä»¥ä¸ºæ‰€æœ‰ç”Ÿæˆçš„æ¥å£æ·»åŠ ä¸€ä¸ªçˆ¶æ¥å£ï¼Œä½†æ˜¯MBGåªè´Ÿè´£ç”Ÿæˆï¼Œä¸è´Ÿè´£æ£€æŸ¥            &lt;property name=&quot;rootInterface&quot; value=&quot;&quot;/&gt;             --&gt;        &lt;/javaClientGenerator&gt;        &lt;!-- é€‰æ‹©ä¸€ä¸ªtableæ¥ç”Ÿæˆç›¸å…³æ–‡ä»¶ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªtableï¼Œå¿…é¡»è¦æœ‰tableå…ƒç´             é€‰æ‹©çš„tableä¼šç”Ÿæˆä¸€ä¸‹æ–‡ä»¶ï¼š            1ï¼ŒSQL mapæ–‡ä»¶            2ï¼Œç”Ÿæˆä¸€ä¸ªä¸»é”®ç±»ï¼›            3ï¼Œé™¤äº†BLOBå’Œä¸»é”®çš„å…¶ä»–å­—æ®µçš„ç±»ï¼›            4ï¼ŒåŒ…å«BLOBçš„ç±»ï¼›            5ï¼Œä¸€ä¸ªç”¨æˆ·ç”ŸæˆåŠ¨æ€æŸ¥è¯¢çš„æ¡ä»¶ç±»ï¼ˆselectByExample, deleteByExampleï¼‰ï¼Œå¯é€‰ï¼›            6ï¼ŒMapperæ¥å£ï¼ˆå¯é€‰ï¼‰            tableNameï¼ˆå¿…è¦ï¼‰ï¼šè¦ç”Ÿæˆå¯¹è±¡çš„è¡¨åï¼›            æ³¨æ„ï¼šå¤§å°å†™æ•æ„Ÿé—®é¢˜ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒMBGä¼šè‡ªåŠ¨çš„å»è¯†åˆ«æ•°æ®åº“æ ‡è¯†ç¬¦çš„å¤§å°å†™æ•æ„Ÿåº¦ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒMBGä¼š                æ ¹æ®è®¾ç½®çš„schemaï¼Œcatalogæˆ–tablenameå»æŸ¥è¯¢æ•°æ®è¡¨ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æµç¨‹ï¼š                1ï¼Œå¦‚æœschemaï¼Œcatalogæˆ–tablenameä¸­æœ‰ç©ºæ ¼ï¼Œé‚£ä¹ˆè®¾ç½®çš„æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Œå°±ç²¾ç¡®çš„ä½¿ç”¨æŒ‡å®šçš„å¤§å°å†™æ ¼å¼å»æŸ¥è¯¢ï¼›                2ï¼Œå¦åˆ™ï¼Œå¦‚æœæ•°æ®åº“çš„æ ‡è¯†ç¬¦ä½¿ç”¨å¤§å†™çš„ï¼Œé‚£ä¹ˆMBGè‡ªåŠ¨æŠŠè¡¨åå˜æˆå¤§å†™å†æŸ¥æ‰¾ï¼›                3ï¼Œå¦åˆ™ï¼Œå¦‚æœæ•°æ®åº“çš„æ ‡è¯†ç¬¦ä½¿ç”¨å°å†™çš„ï¼Œé‚£ä¹ˆMBGè‡ªåŠ¨æŠŠè¡¨åå˜æˆå°å†™å†æŸ¥æ‰¾ï¼›                4ï¼Œå¦åˆ™ï¼Œä½¿ç”¨æŒ‡å®šçš„å¤§å°å†™æ ¼å¼æŸ¥è¯¢ï¼›            å¦å¤–çš„ï¼Œå¦‚æœåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œä½¿ç”¨çš„&quot;&quot;æŠŠæ•°æ®åº“å¯¹è±¡è§„å®šå¤§å°å†™ï¼Œå°±ç®—æ•°æ®åº“æ ‡è¯†ç¬¦æ˜¯ä½¿ç”¨çš„å¤§å†™ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¹Ÿä¼šä½¿ç”¨ç»™å®šçš„å¤§å°å†™æ¥åˆ›å»ºè¡¨åï¼›            è¿™ä¸ªæ—¶å€™ï¼Œè¯·è®¾ç½®delimitIdentifiers=&quot;true&quot;å³å¯ä¿ç•™å¤§å°å†™æ ¼å¼ï¼›            å¯é€‰ï¼š            1ï¼Œschemaï¼šæ•°æ®åº“çš„schemaï¼›            2ï¼Œcatalogï¼šæ•°æ®åº“çš„catalogï¼›            3ï¼Œaliasï¼šä¸ºæ•°æ®è¡¨è®¾ç½®çš„åˆ«åï¼Œå¦‚æœè®¾ç½®äº†aliasï¼Œé‚£ä¹ˆç”Ÿæˆçš„æ‰€æœ‰çš„SELECT SQLè¯­å¥ä¸­ï¼Œåˆ—åä¼šå˜æˆï¼šalias_actualColumnName            4ï¼ŒdomainObjectNameï¼šç”Ÿæˆçš„domainç±»çš„åå­—ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œç›´æ¥ä½¿ç”¨è¡¨åä½œä¸ºdomainç±»çš„åå­—ï¼›å¯ä»¥è®¾ç½®ä¸ºsomepck.domainNameï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨æŠŠdomainNameç±»å†æ”¾åˆ°somepckåŒ…é‡Œé¢ï¼›            5ï¼ŒenableInsertï¼ˆé»˜è®¤trueï¼‰ï¼šæŒ‡å®šæ˜¯å¦ç”Ÿæˆinsertè¯­å¥ï¼›            6ï¼ŒenableSelectByPrimaryKeyï¼ˆé»˜è®¤trueï¼‰ï¼šæŒ‡å®šæ˜¯å¦ç”ŸæˆæŒ‰ç…§ä¸»é”®æŸ¥è¯¢å¯¹è±¡çš„è¯­å¥ï¼ˆå°±æ˜¯getByIdæˆ–getï¼‰ï¼›            7ï¼ŒenableSelectByExampleï¼ˆé»˜è®¤trueï¼‰ï¼šMyBatis3Simpleä¸ºfalseï¼ŒæŒ‡å®šæ˜¯å¦ç”ŸæˆåŠ¨æ€æŸ¥è¯¢è¯­å¥ï¼›            8ï¼ŒenableUpdateByPrimaryKeyï¼ˆé»˜è®¤trueï¼‰ï¼šæŒ‡å®šæ˜¯å¦ç”ŸæˆæŒ‰ç…§ä¸»é”®ä¿®æ”¹å¯¹è±¡çš„è¯­å¥ï¼ˆå³update)ï¼›            9ï¼ŒenableDeleteByPrimaryKeyï¼ˆé»˜è®¤trueï¼‰ï¼šæŒ‡å®šæ˜¯å¦ç”ŸæˆæŒ‰ç…§ä¸»é”®åˆ é™¤å¯¹è±¡çš„è¯­å¥ï¼ˆå³deleteï¼‰ï¼›            10ï¼ŒenableDeleteByExampleï¼ˆé»˜è®¤trueï¼‰ï¼šMyBatis3Simpleä¸ºfalseï¼ŒæŒ‡å®šæ˜¯å¦ç”ŸæˆåŠ¨æ€åˆ é™¤è¯­å¥ï¼›            11ï¼ŒenableCountByExampleï¼ˆé»˜è®¤trueï¼‰ï¼šMyBatis3Simpleä¸ºfalseï¼ŒæŒ‡å®šæ˜¯å¦ç”ŸæˆåŠ¨æ€æŸ¥è¯¢æ€»æ¡æ•°è¯­å¥ï¼ˆç”¨äºåˆ†é¡µçš„æ€»æ¡æ•°æŸ¥è¯¢ï¼‰ï¼›            12ï¼ŒenableUpdateByExampleï¼ˆé»˜è®¤trueï¼‰ï¼šMyBatis3Simpleä¸ºfalseï¼ŒæŒ‡å®šæ˜¯å¦ç”ŸæˆåŠ¨æ€ä¿®æ”¹è¯­å¥ï¼ˆåªä¿®æ”¹å¯¹è±¡ä¸­ä¸ä¸ºç©ºçš„å±æ€§ï¼‰ï¼›            13ï¼ŒmodelTypeï¼šå‚è€ƒcontextå…ƒç´ çš„defaultModelTypeï¼Œç›¸å½“äºè¦†ç›–ï¼›            14ï¼ŒdelimitIdentifiersï¼šå‚è€ƒtableNameçš„è§£é‡Šï¼Œæ³¨æ„ï¼Œé»˜è®¤çš„delimitIdentifiersæ˜¯åŒå¼•å·ï¼Œå¦‚æœç±»ä¼¼MYSQLè¿™æ ·çš„æ•°æ®åº“ï¼Œä½¿ç”¨çš„æ˜¯`ï¼ˆåå¼•å·ï¼Œé‚£ä¹ˆè¿˜éœ€è¦è®¾ç½®contextçš„beginningDelimiterå’ŒendingDelimiterå±æ€§ï¼‰            15ï¼ŒdelimitAllColumnsï¼šè®¾ç½®æ˜¯å¦æ‰€æœ‰ç”Ÿæˆçš„SQLä¸­çš„åˆ—åéƒ½ä½¿ç”¨æ ‡è¯†ç¬¦å¼•èµ·æ¥ã€‚é»˜è®¤ä¸ºfalseï¼ŒdelimitIdentifierså‚è€ƒcontextçš„å±æ€§            æ³¨æ„ï¼Œtableé‡Œé¢å¾ˆå¤šå‚æ•°éƒ½æ˜¯å¯¹javaModelGeneratorï¼Œcontextç­‰å…ƒç´ çš„é»˜è®¤å±æ€§çš„ä¸€ä¸ªå¤å†™ï¼›         --&gt;        &lt;table tableName=&quot;userinfo&quot; &gt;            &lt;!-- å‚è€ƒ javaModelGenerator çš„ constructorBasedå±æ€§--&gt;            &lt;property name=&quot;constructorBased&quot; value=&quot;false&quot;/&gt;            &lt;!-- é»˜è®¤ä¸ºfalseï¼Œå¦‚æœè®¾ç½®ä¸ºtrueï¼Œåœ¨ç”Ÿæˆçš„SQLä¸­ï¼Œtableåå­—ä¸ä¼šåŠ ä¸Šcatalogæˆ–schemaï¼› --&gt;            &lt;property name=&quot;ignoreQualifiersAtRuntime&quot; value=&quot;false&quot;/&gt;            &lt;!-- å‚è€ƒ javaModelGenerator çš„ immutable å±æ€§ --&gt;            &lt;property name=&quot;immutable&quot; value=&quot;false&quot;/&gt;            &lt;!-- æŒ‡å®šæ˜¯å¦åªç”Ÿæˆdomainç±»ï¼Œå¦‚æœè®¾ç½®ä¸ºtrueï¼Œåªç”Ÿæˆdomainç±»ï¼Œå¦‚æœè¿˜é…ç½®äº†sqlMapGeneratorï¼Œé‚£ä¹ˆåœ¨mapper XMLæ–‡ä»¶ä¸­ï¼Œåªç”ŸæˆresultMapå…ƒç´  --&gt;            &lt;property name=&quot;modelOnly&quot; value=&quot;false&quot;/&gt;            &lt;!-- å‚è€ƒ javaModelGenerator çš„ rootClass å±æ€§             &lt;property name=&quot;rootClass&quot; value=&quot;&quot;/&gt;             --&gt;            &lt;!-- å‚è€ƒjavaClientGenerator çš„  rootInterface å±æ€§            &lt;property name=&quot;rootInterface&quot; value=&quot;&quot;/&gt;            --&gt;            &lt;!-- å¦‚æœè®¾ç½®äº†runtimeCatalogï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆçš„SQLä¸­ï¼Œä½¿ç”¨è¯¥æŒ‡å®šçš„catalogï¼Œè€Œä¸æ˜¯tableå…ƒç´ ä¸Šçš„catalog             &lt;property name=&quot;runtimeCatalog&quot; value=&quot;&quot;/&gt;            --&gt;            &lt;!-- å¦‚æœè®¾ç½®äº†runtimeSchemaï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆçš„SQLä¸­ï¼Œä½¿ç”¨è¯¥æŒ‡å®šçš„schemaï¼Œè€Œä¸æ˜¯tableå…ƒç´ ä¸Šçš„schema             &lt;property name=&quot;runtimeSchema&quot; value=&quot;&quot;/&gt;            --&gt;            &lt;!-- å¦‚æœè®¾ç½®äº†runtimeTableNameï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆçš„SQLä¸­ï¼Œä½¿ç”¨è¯¥æŒ‡å®šçš„tablenameï¼Œè€Œä¸æ˜¯tableå…ƒç´ ä¸Šçš„tablename             &lt;property name=&quot;runtimeTableName&quot; value=&quot;&quot;/&gt;            --&gt;            &lt;!-- æ³¨æ„ï¼Œè¯¥å±æ€§åªé’ˆå¯¹MyBatis3Simpleæœ‰ç”¨ï¼›                å¦‚æœé€‰æ‹©çš„runtimeæ˜¯MyBatis3Simpleï¼Œé‚£ä¹ˆä¼šç”Ÿæˆä¸€ä¸ªSelectAllæ–¹æ³•ï¼Œå¦‚æœæŒ‡å®šäº†selectAllOrderByClauseï¼Œé‚£ä¹ˆä¼šåœ¨è¯¥SQLä¸­æ·»åŠ æŒ‡å®šçš„è¿™ä¸ªorderæ¡ä»¶ï¼›             --&gt;            &lt;property name=&quot;selectAllOrderByClause&quot; value=&quot;age desc,username asc&quot;/&gt;            &lt;!-- å¦‚æœè®¾ç½®ä¸ºtrueï¼Œç”Ÿæˆçš„modelç±»ä¼šç›´æ¥ä½¿ç”¨columnæœ¬èº«çš„åå­—ï¼Œè€Œä¸ä¼šå†ä½¿ç”¨é©¼å³°å‘½åæ–¹æ³•ï¼Œæ¯”å¦‚BORN_DATEï¼Œç”Ÿæˆçš„å±æ€§åå­—å°±æ˜¯BORN_DATE,è€Œä¸ä¼šæ˜¯bornDate --&gt;            &lt;property name=&quot;useActualColumnNames&quot; value=&quot;false&quot;/&gt;            &lt;!-- generatedKeyç”¨äºç”Ÿæˆç”Ÿæˆä¸»é”®çš„æ–¹æ³•ï¼Œ                å¦‚æœè®¾ç½®äº†è¯¥å…ƒç´ ï¼ŒMBGä¼šåœ¨ç”Ÿæˆçš„&lt;insert&gt;å…ƒç´ ä¸­ç”Ÿæˆä¸€æ¡æ­£ç¡®çš„&lt;selectKey&gt;å…ƒç´ ï¼Œè¯¥å…ƒç´ å¯é€‰                column:ä¸»é”®çš„åˆ—åï¼›                sqlStatementï¼šè¦ç”Ÿæˆçš„selectKeyè¯­å¥ï¼Œæœ‰ä»¥ä¸‹å¯é€‰é¡¹ï¼š                    Cloudscape:ç›¸å½“äºselectKeyçš„SQLä¸ºï¼š VALUES IDENTITY_VAL_LOCAL()                    DB2       :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼š VALUES IDENTITY_VAL_LOCAL()                    DB2_MF    :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šSELECT IDENTITY_VAL_LOCAL() FROM SYSIBM.SYSDUMMY1                    Derby      :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šVALUES IDENTITY_VAL_LOCAL()                    HSQLDB      :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šCALL IDENTITY()                    Informix  :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šselect dbinfo(&#39;sqlca.sqlerrd1&#39;) from systables where tabid=1                    MySql      :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šSELECT LAST_INSERT_ID()                    SqlServer :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šSELECT SCOPE_IDENTITY()                    SYBASE      :ç›¸å½“äºselectKeyçš„SQLä¸ºï¼šSELECT @@IDENTITY                    JDBC      :ç›¸å½“äºåœ¨ç”Ÿæˆçš„insertå…ƒç´ ä¸Šæ·»åŠ useGeneratedKeys=&quot;true&quot;å’ŒkeyPropertyå±æ€§            &lt;generatedKey column=&quot;&quot; sqlStatement=&quot;&quot;/&gt;             --&gt;            &lt;!--                 è¯¥å…ƒç´ ä¼šåœ¨æ ¹æ®è¡¨ä¸­åˆ—åè®¡ç®—å¯¹è±¡å±æ€§åä¹‹å‰å…ˆé‡å‘½ååˆ—åï¼Œéå¸¸é€‚åˆç”¨äºè¡¨ä¸­çš„åˆ—éƒ½æœ‰å…¬ç”¨çš„å‰ç¼€å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œ                æ¯”å¦‚åˆ—åä¸ºï¼šCUST_ID,CUST_NAME,CUST_EMAIL,CUST_ADDRESSç­‰ï¼›                é‚£ä¹ˆå°±å¯ä»¥è®¾ç½®searchStringä¸º&quot;^CUST_&quot;ï¼Œå¹¶ä½¿ç”¨ç©ºç™½æ›¿æ¢ï¼Œé‚£ä¹ˆç”Ÿæˆçš„Customerå¯¹è±¡ä¸­çš„å±æ€§åç§°å°±ä¸æ˜¯                custId,custNameç­‰ï¼Œè€Œæ˜¯å…ˆè¢«æ›¿æ¢ä¸ºID,NAME,EMAIL,ç„¶åå˜æˆå±æ€§ï¼šidï¼Œnameï¼Œemailï¼›                æ³¨æ„ï¼ŒMBGæ˜¯ä½¿ç”¨java.util.regex.Matcher.replaceAllæ¥æ›¿æ¢searchStringå’ŒreplaceStringçš„ï¼Œ                å¦‚æœä½¿ç”¨äº†columnOverrideå…ƒç´ ï¼Œè¯¥å±æ€§æ— æ•ˆï¼›            &lt;columnRenamingRule searchString=&quot;&quot; replaceString=&quot;&quot;/&gt;             --&gt;             &lt;!-- ç”¨æ¥ä¿®æ”¹è¡¨ä¸­æŸä¸ªåˆ—çš„å±æ€§ï¼ŒMBGä¼šä½¿ç”¨ä¿®æ”¹åçš„åˆ—æ¥ç”Ÿæˆdomainçš„å±æ€§ï¼›                 column:è¦é‡æ–°è®¾ç½®çš„åˆ—åï¼›                 æ³¨æ„ï¼Œä¸€ä¸ªtableå…ƒç´ ä¸­å¯ä»¥æœ‰å¤šä¸ªcolumnOverrideå…ƒç´ å“ˆ~              --&gt;             &lt;columnOverride column=&quot;username&quot;&gt;                 &lt;!-- ä½¿ç”¨propertyå±æ€§æ¥æŒ‡å®šåˆ—è¦ç”Ÿæˆçš„å±æ€§åç§° --&gt;                 &lt;property name=&quot;property&quot; value=&quot;userName&quot;/&gt;                 &lt;!-- javaTypeç”¨äºæŒ‡å®šç”Ÿæˆçš„domainçš„å±æ€§ç±»å‹ï¼Œä½¿ç”¨ç±»å‹çš„å…¨é™å®šå                 &lt;property name=&quot;javaType&quot; value=&quot;&quot;/&gt;                  --&gt;                 &lt;!-- jdbcTypeç”¨äºæŒ‡å®šè¯¥åˆ—çš„JDBCç±»å‹                  &lt;property name=&quot;jdbcType&quot; value=&quot;&quot;/&gt;                  --&gt;                 &lt;!-- typeHandler ç”¨äºæŒ‡å®šè¯¥åˆ—ä½¿ç”¨åˆ°çš„TypeHandlerï¼Œå¦‚æœè¦æŒ‡å®šï¼Œé…ç½®ç±»å‹å¤„ç†å™¨çš„å…¨é™å®šå                     æ³¨æ„ï¼Œmybatisä¸­ï¼Œä¸ä¼šç”Ÿæˆåˆ°mybatis-config.xmlä¸­çš„typeHandler                     åªä¼šç”Ÿæˆç±»ä¼¼ï¼šwhere id = #{id,jdbcType=BIGINT,typeHandler=com._520it.mybatis.MyTypeHandler}çš„å‚æ•°æè¿°                 &lt;property name=&quot;jdbcType&quot; value=&quot;&quot;/&gt;                 --&gt;                 &lt;!-- å‚è€ƒtableå…ƒç´ çš„delimitAllColumnsé…ç½®ï¼Œé»˜è®¤ä¸ºfalse                 &lt;property name=&quot;delimitedColumnName&quot; value=&quot;&quot;/&gt;                  --&gt;             &lt;/columnOverride&gt;             &lt;!-- ignoreColumnè®¾ç½®ä¸€ä¸ªMGBå¿½ç•¥çš„åˆ—ï¼Œå¦‚æœè®¾ç½®äº†æ”¹åˆ—ï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆçš„domainä¸­ï¼Œç”Ÿæˆçš„SQLä¸­ï¼Œéƒ½ä¸ä¼šæœ‰è¯¥åˆ—å‡ºç°                  column:æŒ‡å®šè¦å¿½ç•¥çš„åˆ—çš„åå­—ï¼›                 delimitedColumnNameï¼šå‚è€ƒtableå…ƒç´ çš„delimitAllColumnsé…ç½®ï¼Œé»˜è®¤ä¸ºfalse                 æ³¨æ„ï¼Œä¸€ä¸ªtableå…ƒç´ ä¸­å¯ä»¥æœ‰å¤šä¸ªignoreColumnå…ƒç´              &lt;ignoreColumn column=&quot;deptId&quot; delimitedColumnName=&quot;&quot;/&gt;             --&gt;        &lt;/table&gt;    &lt;/context&gt;    &lt;/generatorConfiguration&gt;</code></pre><h3 id="æˆ‘çš„é…ç½®"><a href="#æˆ‘çš„é…ç½®" class="headerlink" title="æˆ‘çš„é…ç½®"></a>æˆ‘çš„é…ç½®</h3><pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    &lt;!DOCTYPE generatorConfiguration            PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;            &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;    &lt;generatorConfiguration&gt;        &lt;!--    windowsä¸‹è·¯å¾„, å¦‚D:/downloads/xxx.jar--&gt;        &lt;classPathEntry location=&quot;D:/downloads/mybatis/mysql-connector-java-5.1.6.jar&quot; /&gt;        &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3&quot;&gt;            &lt;!--        ä¸å†è¿½åŠ xmlå†…å®¹--&gt;            &lt;plugin type=&quot;org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin&quot; /&gt;            &lt;commentGenerator&gt;                &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;            &lt;/commentGenerator&gt;            &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;                            connectionURL=&quot;jdbc:mysql://192.168.206.131:3307/mimall?characterEncoding=utf-8&quot;                            userId=&quot;root&quot;                            password=&quot;123456&quot;&gt;            &lt;/jdbcConnection&gt;            &lt;javaTypeResolver &gt;                &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot; /&gt;            &lt;/javaTypeResolver&gt;            &lt;javaModelGenerator targetPackage=&quot;com.imooc.mimall.pojo&quot; targetProject=&quot;src/main/java&quot;&gt;                &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;                &lt;!--            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;--&gt;            &lt;/javaModelGenerator&gt;            &lt;sqlMapGenerator targetPackage=&quot;mappers&quot;  targetProject=&quot;src/main/resources&quot;&gt;                &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;            &lt;/sqlMapGenerator&gt;            &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.imooc.mimall.dao&quot;  targetProject=&quot;src/main/java&quot;&gt;                &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;            &lt;/javaClientGenerator&gt;            &lt;table tableName=&quot;mall_order&quot; domainObjectName=&quot;Order&quot; enableCountByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;/&gt;            &lt;table tableName=&quot;mall_order_item&quot; domainObjectName=&quot;OrderItem&quot; enableCountByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;/&gt;            &lt;table tableName=&quot;mall_user&quot; domainObjectName=&quot;User&quot; enableCountByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot;/&gt;        &lt;/context&gt;    &lt;/generatorConfiguration&gt;</code></pre><h3 id="è¿è¡Œä»£ç ç”Ÿæˆæ–‡ä»¶"><a href="#è¿è¡Œä»£ç ç”Ÿæˆæ–‡ä»¶" class="headerlink" title="è¿è¡Œä»£ç ç”Ÿæˆæ–‡ä»¶"></a>è¿è¡Œä»£ç ç”Ÿæˆæ–‡ä»¶</h3><ul><li>é…ç½®å®Œæˆååªéœ€æ‰“å¼€ç»ˆç«¯è¿è¡Œæ­¤å‘½ä»¤å°±èƒ½ç”Ÿæˆæ–‡ä»¶</li></ul><pre><code>    mvn mybatis-generator:generate</code></pre><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><ul><li>generatorConfig.xmlé»˜è®¤é…ç½®ä¸­æ˜¯ç”ŸæˆExampleç±»çš„ç›¸å…³å†…å®¹ï¼Œå¦‚æœä¸éœ€è¦Exampleç±»ï¼Œåªéœ€è¦å°†enableCountByExampleã€enableCountByExampleã€enableDeleteByExampleã€enableSelectByExampleè®¾ç½®ä¸ºtrueæˆ–è€…å»æ‰è¿™äº›é…ç½®ã€‚</li></ul><h2 id="äºŒã€Mybatis-pluginæ’ä»¶"><a href="#äºŒã€Mybatis-pluginæ’ä»¶" class="headerlink" title="äºŒã€Mybatis-pluginæ’ä»¶"></a>äºŒã€Mybatis-pluginæ’ä»¶</h2><ul><li>æä¾›Mapperæ¥å£ä¸é…ç½®æ–‡ä»¶ä¸­å¯¹åº”SQLçš„å¯¼èˆª</li><li>ç¼–è¾‘XMLæ–‡ä»¶æ—¶è‡ªåŠ¨è¡¥å…¨</li><li>è‡ªåŠ¨æ£€æŸ¥Mapper XMLæ–‡ä»¶ä¸­IDå†²çª</li><li>è‡ªåŠ¨æ£€æŸ¥Mapper XMLæ–‡ä»¶ä¸­é”™è¯¯çš„å±æ€§å€¼</li><li>ç­‰ç­‰</li></ul><h3 id="Free-Mybatis-pluginæ’ä»¶"><a href="#Free-Mybatis-pluginæ’ä»¶" class="headerlink" title="Free-Mybatis-pluginæ’ä»¶"></a>Free-Mybatis-pluginæ’ä»¶</h3><ul><li>å› ä¸ºMybatis-pluginæ’ä»¶ç°åœ¨æ”¶è´¹äº†ï¼Œæˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå…è´¹çš„æ›¿ä»£ç‰ˆæœ¬</li><li>åªéœ€ä¸‹è½½æ’ä»¶å°±è¡Œ</li><li>æˆ‘ä»¬æš‚æ—¶ç”¨åˆ°çš„åŠŸèƒ½æ˜¯è¿½è¸ªdaoæ¥å£å’Œmapperæ–‡ä»¶é‡Œxmlçš„ä¸€ä¸ªæ’ä»¶</li><li>æ•ˆæœï¼šç‚¹å‡»daoå¯ä»¥è¿½è¸ªåˆ°xmlï¼Œï¼ŒåŒç†ç‚¹å‡»xmlçš„sqlå³è¾¹å°ç®­å¤´ï¼Œå¯ä»¥è¿½è¸ªåˆ°daoæ–¹æ³•</li></ul><h2 id="ä¸‰ã€Mybatis-pageHelper"><a href="#ä¸‰ã€Mybatis-pageHelper" class="headerlink" title="ä¸‰ã€Mybatis-pageHelper"></a>ä¸‰ã€Mybatis-pageHelper</h2><ul><li>Mybatis-pageHelperæ˜¯ä½¿æ•°æ®å®ç°åˆ†é¡µæ•ˆæœçš„æ’ä»¶</li></ul><h3 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><pre><code>    &lt;!--        mybatisåˆ†é¡µå™¨--&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;        &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;        &lt;version&gt;1.2.13&lt;/version&gt;    &lt;/dependency&gt;</code></pre><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ul><li>åœ¨æ–¹æ³•ä¸­ä½¿ç”¨</li></ul><pre><code>    //ä½¿ç”¨mybatisåˆ†é¡µå™¨ï¼ŒpageNumè¡¨ç¤ºç¬¬å‡ é¡µï¼ŒpageSizeè¡¨ç¤ºæ¯é¡µçš„æ¡æ•°    PageHelper.startPage(pageNum,pageSize);    //è¿”å›å€¼èµ‹å€¼æˆproductVoç±»å‹    List&lt;Product&gt; productList = productMapper.selectByCategoryIdSet(categoryIdSet);    List&lt;ProductVo&gt; productVoList = productList.stream()            .map(e -&gt; {                ProductVo productVo = new ProductVo();                BeanUtils.copyProperties(e, productVo);                return productVo;            })            .collect(Collectors.toList());    PageInfo pageInfo = new PageInfo&lt;&gt;(productList);    //æ‰€æœ‰æŸ¥åˆ°çš„æ•°æ®    pageInfo.setList(productVoList);</code></pre>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> springboot </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatisçš„ä½¿ç”¨</title>
      <link href="/2020/05/22/mybatis/"/>
      <url>/2020/05/22/mybatis/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>è¿™æ˜¯æˆ‘å­¦ä¹ Mybatisåšçš„ä¸€äº›ç¬”è®°ï¼ŒåŒ…æ‹¬XMLå’Œæ³¨è§£ä¸¤ç§æ–¹æ³•,æ³¨è§£æ–¹æ³•åªéœ€äº†è§£ä¼šç”¨å°±è¡Œï¼ŒXMLè¦ç†Ÿæ‚‰ä½¿ç”¨</li></ul><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><ul><li>Mybatisæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒå®šåˆ¶åŒ–SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs(Plain Ordinary Java Object,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</li></ul><h2 id="å¯¼å…¥ä¾èµ–å’Œé…ç½®"><a href="#å¯¼å…¥ä¾èµ–å’Œé…ç½®" class="headerlink" title="å¯¼å…¥ä¾èµ–å’Œé…ç½®"></a>å¯¼å…¥ä¾èµ–å’Œé…ç½®</h2><ul><li>ä¾èµ–ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯2.1.0ç‰ˆæœ¬</li></ul><pre><code>    &lt;!--        Mybatis--&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;                &lt;version&gt;2.1.0&lt;/version&gt;            &lt;/dependency&gt;    &lt;!--        æ•°æ®åº“--&gt;            &lt;dependency&gt;                &lt;groupId&gt;mysql&lt;/groupId&gt;                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                &lt;scope&gt;runtime&lt;/scope&gt;            &lt;/dependency&gt;</code></pre><ul><li>é…ç½®</li></ul><pre><code>    spring:      datasource:        password: 123456        username: root        url: jdbc:mysql://192.168.206.131:3307/mimall?serverTimezone=UTC&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8        driver-class-name: com.mysql.cj.jdbc.Driver    mybatis:      configuration:        map-underscore-to-camel-case: true    #é©¼å³°å‘½åæ³•</code></pre><h2 id="ä½¿ç”¨Mybatis"><a href="#ä½¿ç”¨Mybatis" class="headerlink" title="ä½¿ç”¨Mybatis"></a>ä½¿ç”¨Mybatis</h2><h3 id="æ³¨è§£æ–¹å¼"><a href="#æ³¨è§£æ–¹å¼" class="headerlink" title="æ³¨è§£æ–¹å¼"></a>æ³¨è§£æ–¹å¼</h3><ul><li>æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¦‚å›¾</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/36.png" alt=""></p><ul><li>Categoryæ˜¯å¯¹åº”æ•°æ®åº“è¡¨è®¾ç½®çš„å®ä½“ç±»</li><li>è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ’ä»¶å…äºç”Ÿæˆget set toStringæ–¹æ³•</li><li>å¯¼å…¥ä¾èµ–å’Œä¸‹è½½æ’ä»¶lombokï¼ˆè®°ä½è¦å»ä¸‹è½½æ’ä»¶ï¼‰</li></ul><pre><code>    &lt;!--        lombokæ’ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆget setæ–¹æ³•å’ŒtoStringFangfa--&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;                &lt;artifactId&gt;lombok&lt;/artifactId&gt;            &lt;/dependency&gt;</code></pre><ul><li>Category</li></ul><pre><code>    @Data       //è‡ªåŠ¨ç”Ÿæˆget set toStringæ–¹æ³•    public class Category {        private Integer id;        private Integer parentId;        private String name;        private Integer status;        private Integer sortOrder;        private Date createTime;        private Date updateTime;    }</code></pre><ul><li>CategoryMapperæ˜¯å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ¥å£</li><li>éœ€è¦åœ¨æ¥å£å‰å†™ä¸Š@Mapperæ³¨è§£</li></ul><pre><code>    @Mapper    public interface CategoryMapper {        @Select(&quot;select * from mall_category where id = #{id}&quot;)        Category findById(@Param(&quot;id&quot;) Integer id);    }</code></pre><ul><li>ä½†æ˜¯æ¯ä¸ªæ³¨è§£å‰éƒ½å†™@Mapperæ³¨è§£å°±å¤ªéº»çƒ¦äº†ï¼Œå¯ä»¥åœ¨ä¸»ç±»å‰å†™ä¸Š@MapperScan(basePackages = â€œcom.imooc.mimall.daoâ€)</li></ul><pre><code>    @MapperScan(basePackages = &quot;com.imooc.mimall.dao&quot;)    @SpringBootApplication    public class MimallApplication {        public static void main(String[] args) {            SpringApplication.run(MimallApplication.class, args);        }    }</code></pre><ul><li>æµ‹è¯•</li></ul><pre><code>    @Autowired    private CategoryMapper categoryMapper;    @Test    public void findById() {        Category category = categoryMapper.findById(100001);        System.out.println(category.toString());    }</code></pre><h3 id="XMLæ–¹å¼"><a href="#XMLæ–¹å¼" class="headerlink" title="XMLæ–¹å¼"></a>XMLæ–¹å¼</h3><ul><li>ç”Ÿæˆxmlæ–‡ä»¶å¦‚å›¾</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/37.png" alt=""></p><ul><li>namespaceï¼šå¢åˆ æ”¹æŸ¥æ¥å£æ‰€åœ¨åŒ…</li><li>sqlä¸­idæ˜¯å¯¹æ•°æ®åº“æ“ä½œæ—¶å…¬å…±çš„å­—æ®µï¼Œå¯ä»¥æå–å‡ºæ¥</li><li>selectä¸­idæ˜¯æ¥å£çš„åå­—ï¼ŒresultTypeæ˜¯å¯¹åº”æ•°æ®åº“çš„ç±»çš„æ‰€åœ¨åŒ…</li></ul><pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;    &lt;!DOCTYPE mapper            PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;            &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;    &lt;mapper namespace=&quot;com.imooc.mimall.dao.CategoryMapper&quot;&gt;    &lt;!--    å…¬å…±çš„å­—æ®µ--&gt;        &lt;sql id=&quot;Base_Column_List&quot;&gt;            id, parent_id, name, status, sort_order, create_time, update_time        &lt;/sql&gt;        &lt;select id=&quot;queryById&quot; resultType=&quot;com.imooc.mimall.pojo.Category&quot;&gt;            select &lt;include refid=&quot;Base_Column_List&quot; /&gt; from mall_category where id = #{id}        &lt;/select&gt;    &lt;/mapper&gt;</code></pre><ul><li>CategoryMapperä¸­åŠ å…¥æ¥å£ï¼Œæ³¨æ„ä¸è¦å†™sqlè¯­å¥äº†ï¼Œxmlä¸­å†™äº†ï¼Œå¯¹æ¯”æ³¨è§£</li></ul><pre><code>    //@Mapper    public interface CategoryMapper {        @Select(&quot;select * from mall_category where id = #{id}&quot;)        Category findById(@Param(&quot;id&quot;) Integer id);        Category queryById(Integer id);    }</code></pre><ul><li>è¿™æ ·å°±å¯ä»¥ç”¨äº†å—ï¼Œè¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬ymlä¸­æ²¡é…ç½®mappersä¸­xmlæ‰€åœ¨åŒ…ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨</li></ul><pre><code>    mybatis:      configuration:        map-underscore-to-camel-case: true    #é©¼å³°å‘½åæ³•      mapper-locations: classpath:mappers/*.xml  #ä½¿ç”¨xmlæ—¶å¯¼å…¥mappersåŒ…</code></pre><ul><li>æµ‹è¯•å’Œæ³¨è§£æ–¹å¼ä¸€æ‘¸ä¸€æ ·</li></ul><h4 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h4><ul><li>foreachå…ƒç´ çš„å±æ€§ä¸»è¦æœ‰itemï¼Œindexï¼Œcollectionï¼Œopenï¼Œseparatorï¼Œcloseã€‚<ul><li>itemï¼šé›†åˆä¸­å…ƒç´ è¿­ä»£æ—¶çš„åˆ«åï¼Œè¯¥å‚æ•°ä¸ºå¿…é€‰ã€‚</li><li>indexï¼šåœ¨listå’Œæ•°ç»„ä¸­,indexæ˜¯å…ƒç´ çš„åºå·ï¼Œåœ¨mapä¸­ï¼Œindexæ˜¯å…ƒç´ çš„keyï¼Œè¯¥å‚æ•°å¯é€‰</li><li>openï¼šforeachä»£ç çš„å¼€å§‹ç¬¦å·ï¼Œä¸€èˆ¬æ˜¯(å’Œclose=â€)â€åˆç”¨ã€‚å¸¸ç”¨åœ¨in(),values()æ—¶ã€‚è¯¥å‚æ•°å¯é€‰</li><li>separatorï¼šå…ƒç´ ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œä¾‹å¦‚åœ¨in()çš„æ—¶å€™ï¼Œseparator=â€,â€ä¼šè‡ªåŠ¨åœ¨å…ƒç´ ä¸­é—´ç”¨â€œ,â€œéš”å¼€ï¼Œé¿å…æ‰‹åŠ¨è¾“å…¥é€—å·å¯¼è‡´sqlé”™è¯¯ï¼Œå¦‚in(1,2,)è¿™æ ·ã€‚è¯¥å‚æ•°å¯é€‰ã€‚</li><li>close: foreachä»£ç çš„å…³é—­ç¬¦å·ï¼Œä¸€èˆ¬æ˜¯)å’Œopen=â€(â€œåˆç”¨ã€‚å¸¸ç”¨åœ¨in(),values()æ—¶ã€‚è¯¥å‚æ•°å¯é€‰ã€‚</li><li>collection: è¦åšforeachçš„å¯¹è±¡ï¼Œä½œä¸ºå…¥å‚æ—¶ï¼ŒListå¯¹è±¡é»˜è®¤ç”¨â€listâ€ä»£æ›¿ä½œä¸ºé”®ï¼Œæ•°ç»„å¯¹è±¡æœ‰â€arrayâ€ä»£æ›¿ä½œä¸ºé”®ï¼ŒMapå¯¹è±¡æ²¡æœ‰é»˜è®¤çš„é”®ã€‚å½“ç„¶åœ¨ä½œä¸ºå…¥å‚æ—¶å¯ä»¥ä½¿ç”¨@Param(â€œkeyNameâ€)æ¥è®¾ç½®é”®ï¼Œè®¾ç½®keyNameåï¼Œlist,arrayå°†ä¼šå¤±æ•ˆã€‚ é™¤äº†å…¥å‚è¿™ç§æƒ…å†µå¤–ï¼Œè¿˜æœ‰ä¸€ç§ä½œä¸ºå‚æ•°å¯¹è±¡çš„æŸä¸ªå­—æ®µçš„æ—¶å€™ã€‚ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœUseræœ‰å±æ€§List idsã€‚å…¥å‚æ˜¯Userå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªcollection = â€œidsâ€.å¦‚æœUseræœ‰å±æ€§Ids ids;å…¶ä¸­Idsæ˜¯ä¸ªå¯¹è±¡ï¼ŒIdsæœ‰ä¸ªå±æ€§List id;å…¥å‚æ˜¯Userå¯¹è±¡ï¼Œé‚£ä¹ˆcollection = â€œids.idâ€</li></ul></li><li>åœ¨ä½¿ç”¨foreachçš„æ—¶å€™æœ€å…³é”®çš„ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„å°±æ˜¯collectionå±æ€§ï¼Œè¯¥å±æ€§æ˜¯å¿…é¡»æŒ‡å®šçš„ï¼Œä½†æ˜¯åœ¨ä¸åŒæƒ…å†µä¸‹ï¼Œè¯¥å±æ€§çš„å€¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸»è¦æœ‰ä¸€ä¸‹3ç§æƒ…å†µï¼š <ul><li>å¦‚æœä¼ å…¥çš„æ˜¯å•å‚æ•°ä¸”å‚æ•°ç±»å‹æ˜¯ä¸€ä¸ªListçš„æ—¶å€™ï¼Œcollectionå±æ€§å€¼ä¸ºlist .</li><li>å¦‚æœä¼ å…¥çš„æ˜¯å•å‚æ•°ä¸”å‚æ•°ç±»å‹æ˜¯ä¸€ä¸ªarrayæ•°ç»„çš„æ—¶å€™ï¼Œcollectionçš„å±æ€§å€¼ä¸ºarray .</li><li>å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯å¤šä¸ªçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠå®ƒä»¬å°è£…æˆä¸€ä¸ªMapäº†ï¼Œå½“ç„¶å•å‚æ•°ä¹Ÿå¯ä»¥å°è£…æˆmapï¼Œå®é™…ä¸Šå¦‚æœä½ åœ¨ä¼ å…¥å‚æ•°çš„æ—¶å€™ï¼Œåœ¨MyBatisé‡Œé¢ä¹Ÿæ˜¯ä¼šæŠŠå®ƒå°è£…æˆä¸€ä¸ªMapçš„ï¼Œmapçš„keyå°±æ˜¯å‚æ•°åï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™collectionå±æ€§å€¼å°±æ˜¯ä¼ å…¥çš„Listæˆ–arrayå¯¹è±¡åœ¨è‡ªå·±å°è£…çš„mapé‡Œé¢çš„key.</li></ul></li></ul><h5 id="mapperæ¥å£"><a href="#mapperæ¥å£" class="headerlink" title="mapperæ¥å£"></a>mapperæ¥å£</h5><ul><li>å»ºç«‹å¢åˆ æ”¹æŸ¥æ“ä½œæ—¶å½“ä¼ å…¥å‚æ•°ä¸ºä¸€ä¸ªé›†åˆæˆ–è€…åˆ—è¡¨æ—¶ï¼Œä¾‹å¦‚ï¼Œæ³¨æ„è¦åŠ ä¸Šæ³¨è§£@Param</li></ul><pre><code>    List&lt;Product&gt; selectByCategoryIdSet(@Param(&quot;categoryIdSet&quot;) Set&lt;Integer&gt; categoryIdSet);</code></pre><h5 id="xmlæ–‡ä»¶"><a href="#xmlæ–‡ä»¶" class="headerlink" title="xmlæ–‡ä»¶"></a>xmlæ–‡ä»¶</h5><ul><li>è¿™æ˜¯æŸ¥è¯¢category_idæ˜¯å¦åœ¨é›†åˆå†…ï¼Œæ˜¯å°±è¿”å›</li></ul><pre><code>    &lt;select id=&quot;selectByCategoryIdSet&quot; resultMap=&quot;BaseResultMap&quot;&gt;        select        &lt;include refid=&quot;Base_Column_List&quot;/&gt;        from mall_product        where status = 1        &lt;if test=&quot;categoryIdSet.size() &gt; 0&quot;&gt;            and category_id in            &lt;foreach collection=&quot;categoryIdSet&quot; item=&quot;item&quot; index=&quot;index&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;                #{item}            &lt;/foreach&gt;        &lt;/if&gt;    &lt;/select&gt;</code></pre><h4 id="Paramæ³¨è§£"><a href="#Paramæ³¨è§£" class="headerlink" title="@Paramæ³¨è§£"></a>@Paramæ³¨è§£</h4><h5 id="ä½¿ç”¨åœºæ™¯ä¸€"><a href="#ä½¿ç”¨åœºæ™¯ä¸€" class="headerlink" title="ä½¿ç”¨åœºæ™¯ä¸€"></a>ä½¿ç”¨åœºæ™¯ä¸€</h5><ul><li>æ³¨è§£å•ä¸€å±æ€§ï¼Œå½“ä¼ å…¥å‚æ•°ä¸æ­¢ä¸€ä¸ªæ—¶ä½¿ç”¨</li><li>daoå±‚ç¤ºä¾‹</li></ul><pre><code>    int deleteByIdAndUid(@Param(&quot;shippingId&quot;) Integer shippingId,@Param(&quot;userId&quot;) Integer userId);</code></pre><ul><li>xmlæ˜ å°„å¯¹åº”ç¤ºä¾‹</li></ul><pre><code>    &lt;delete id=&quot;deleteByIdAndUid&quot; parameterType=&quot;map&quot;&gt;        delete from mall_shipping        where id = #{shippingId,jdbcType=INTEGER}        and user_id = #{userId,jdbcType=INTEGER}      &lt;/delete&gt;</code></pre><p>æ³¨æ„ï¼šé‡‡ç”¨#{}çš„æ–¹å¼æŠŠ@Paramæ³¨è§£æ‹¬å·å†…çš„å‚æ•°è¿›è¡Œå¼•ç”¨ï¼ˆæ‹¬å·å†…å‚æ•°å¯¹åº”çš„æ˜¯å½¢å‚å¦‚ userIdå¯¹åº”çš„æ˜¯userIdï¼‰ï¼›</p><h5 id="ä½¿ç”¨åœºæ™¯äºŒ"><a href="#ä½¿ç”¨åœºæ™¯äºŒ" class="headerlink" title="ä½¿ç”¨åœºæ™¯äºŒ"></a>ä½¿ç”¨åœºæ™¯äºŒ</h5><ul><li>@Paramæ³¨è§£JavaBeanå¯¹è±¡ï¼Œå½“ä¼ å…¥å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡æ—¶ä½¿ç”¨</li><li>daoå±‚ç¤ºä¾‹</li></ul><pre><code>    List&lt;Shipping&gt; selectByIdSet(@Param(&quot;idSet&quot;) Set&lt;Integer&gt; idSet);</code></pre><ul><li>xmlæ˜ å°„å¯¹åº”ç¤ºä¾‹</li></ul><pre><code>    &lt;select id=&quot;selectByIdSet&quot; resultMap=&quot;BaseResultMap&quot;&gt;        select        &lt;include refid=&quot;Base_Column_List&quot;/&gt;        from mall_shipping        &lt;where&gt;            &lt;if test=&quot;idSet.size() &gt; 0&quot;&gt;                id in                &lt;foreach collection=&quot;idSet&quot; item=&quot;item&quot; index=&quot;index&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;                    #{item}                &lt;/foreach&gt;            &lt;/if&gt;        &lt;/where&gt;    &lt;/select&gt;</code></pre><h3 id="æ’å…¥æ•°æ®è·å–ä¸åˆ°è‡ªåŠ¨ç”Ÿæˆä¸»é”®é—®é¢˜"><a href="#æ’å…¥æ•°æ®è·å–ä¸åˆ°è‡ªåŠ¨ç”Ÿæˆä¸»é”®é—®é¢˜" class="headerlink" title="æ’å…¥æ•°æ®è·å–ä¸åˆ°è‡ªåŠ¨ç”Ÿæˆä¸»é”®é—®é¢˜"></a>æ’å…¥æ•°æ®è·å–ä¸åˆ°è‡ªåŠ¨ç”Ÿæˆä¸»é”®é—®é¢˜</h3><ul><li>Springbootä¸­ Mybatis é…ç½®æ–‡ä»¶ Mapperå‚æ•°</li><li>useGeneratedKeys=â€œtrueâ€ keyProperty=â€œidâ€</li><li>useGeneratedKeysè®¾ç½®ä¸º true æ—¶ï¼Œè¡¨ç¤ºå¦‚æœæ’å…¥çš„è¡¨idä»¥è‡ªå¢åˆ—ä¸ºä¸»é”®ï¼Œåˆ™å…è®¸ JDBC æ”¯æŒè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œå¹¶å¯å°†è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®idè¿”å›ã€‚</li><li>useGeneratedKeyså‚æ•°åªé’ˆå¯¹ insert è¯­å¥ç”Ÿæ•ˆï¼Œé»˜è®¤ä¸º falseï¼›</li><li>daoå±‚ç¤ºä¾‹</li></ul><pre><code>    int insertSelective(Shipping record);</code></pre><ul><li>xmlæ˜ å°„æ–‡ä»¶</li></ul><pre><code>    &lt;!--    å…è®¸ç”Ÿæˆçš„ä¸»é”®è¿”å›--&gt;    &lt;insert id=&quot;insertSelective&quot; parameterType=&quot;com.imooc.mimall.pojo.Shipping&quot; useGeneratedKeys=&quot;true&quot;                keyProperty=&quot;id&quot;&gt;            insert into mall_shipping            &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot;&gt;                &lt;if test=&quot;id != null&quot;&gt;                    id,                &lt;/if&gt;                &lt;if test=&quot;userId != null&quot;&gt;                    user_id,                &lt;/if&gt;                &lt;if test=&quot;receiverName != null&quot;&gt;                    receiver_name,                &lt;/if&gt;                &lt;if test=&quot;receiverPhone != null&quot;&gt;                    receiver_phone,                &lt;/if&gt;                &lt;if test=&quot;receiverMobile != null&quot;&gt;                    receiver_mobile,                &lt;/if&gt;                &lt;if test=&quot;receiverProvince != null&quot;&gt;                    receiver_province,                &lt;/if&gt;                &lt;if test=&quot;receiverCity != null&quot;&gt;                    receiver_city,                &lt;/if&gt;                &lt;if test=&quot;receiverDistrict != null&quot;&gt;                    receiver_district,                &lt;/if&gt;                &lt;if test=&quot;receiverAddress != null&quot;&gt;                    receiver_address,                &lt;/if&gt;                &lt;if test=&quot;receiverZip != null&quot;&gt;                    receiver_zip,                &lt;/if&gt;                &lt;if test=&quot;createTime != null&quot;&gt;                    create_time,                &lt;/if&gt;                &lt;if test=&quot;updateTime != null&quot;&gt;                    update_time,                &lt;/if&gt;            &lt;/trim&gt;            &lt;trim prefix=&quot;values (&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot;&gt;                &lt;if test=&quot;id != null&quot;&gt;                    #{id,jdbcType=INTEGER},                &lt;/if&gt;                &lt;if test=&quot;userId != null&quot;&gt;                    #{userId,jdbcType=INTEGER},                &lt;/if&gt;                &lt;if test=&quot;receiverName != null&quot;&gt;                    #{receiverName,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverPhone != null&quot;&gt;                    #{receiverPhone,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverMobile != null&quot;&gt;                    #{receiverMobile,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverProvince != null&quot;&gt;                    #{receiverProvince,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverCity != null&quot;&gt;                    #{receiverCity,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverDistrict != null&quot;&gt;                    #{receiverDistrict,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverAddress != null&quot;&gt;                    #{receiverAddress,jdbcType=VARCHAR},                &lt;/if&gt;                &lt;if test=&quot;receiverZip != null&quot;&gt;                    #{receiverZip,jdbcType=VARCHAR},                &lt;/if&gt;            &lt;/trim&gt;        &lt;/insert&gt;</code></pre><h3 id="daoå±‚ä¼ å…¥å‚æ•°ä¸ºListæ—¶"><a href="#daoå±‚ä¼ å…¥å‚æ•°ä¸ºListæ—¶" class="headerlink" title="daoå±‚ä¼ å…¥å‚æ•°ä¸ºListæ—¶"></a>daoå±‚ä¼ å…¥å‚æ•°ä¸ºListæ—¶</h3><ul><li>Listä¸­çš„æ•°æ®è€Œä¸”è¿˜æ˜¯å¯¹è±¡</li><li>daoå±‚ç¤ºä¾‹</li></ul><pre><code>    int batchInsert(@Param(&quot;orderItemList&quot;) List&lt;OrderItem&gt; orderItemList);</code></pre><ul><li>xmlæ˜ å°„æ–‡ä»¶å¯¹åº”ç¤ºä¾‹ï¼Œå› ä¸ºListä¸­æ˜¯å¯¹è±¡ï¼Œè¦ä¸€ä¸ªä¸ªè·å–å±æ€§è¦ç”¨#{item.xxx},æ³¨æ„å¤–é¢çš„å¤§æ‹¬å·ä¸èƒ½ä¸¢</li></ul><pre><code>    &lt;insert id=&quot;batchInsert&quot; parameterType=&quot;list&quot;&gt;        insert into mall_order_item (user_id, order_no,        product_id, product_name, product_image,        current_unit_price, quantity, total_price)        values        &lt;foreach collection=&quot;orderItemList&quot; index=&quot;index&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt;            (            #{item.userId},            #{item.orderNo},            #{item.productId},            #{item.productName},            #{item.productImage},            #{item.currentUnitPrice},            #{item.quantity},            #{item.totalPrice}            )        &lt;/foreach&gt;    &lt;/insert&gt;</code></pre><h3 id="daoå±‚ä¼ å…¥å‚æ•°ä¸ºSetæ—¶"><a href="#daoå±‚ä¼ å…¥å‚æ•°ä¸ºSetæ—¶" class="headerlink" title="daoå±‚ä¼ å…¥å‚æ•°ä¸ºSetæ—¶"></a>daoå±‚ä¼ å…¥å‚æ•°ä¸ºSetæ—¶</h3><ul><li>daoå±‚ç¤ºä¾‹</li></ul><pre><code>    List&lt;OrderItem&gt; selectByOrderNoSet(@Param(&quot;orderNoSet&quot;) Set&lt;Long&gt; orderNoSet);</code></pre><ul><li>xmlæ˜ å°„æ–‡ä»¶å¯¹åº”ç¤ºä¾‹ï¼Œå› ä¸ºseté‡Œé¢ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ç›´æ¥è·å–itemå°±å¥½äº†ï¼Œè¿™é‡Œç”¨åˆ°äº†openå’Œclose</li></ul><pre><code>    &lt;select id=&quot;selectByOrderNoSet&quot; resultMap=&quot;BaseResultMap&quot;&gt;        select        &lt;include refid=&quot;Base_Column_List&quot;/&gt;        from mall_order_item        &lt;where&gt;            &lt;if test=&quot;orderNoSet.size() &gt; 0&quot;&gt;                order_no in                &lt;foreach collection=&quot;orderNoSet&quot; item=&quot;item&quot; index=&quot;index&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;                    #{item}                &lt;/foreach&gt;            &lt;/if&gt;        &lt;/where&gt;    &lt;/select&gt;</code></pre><h3 id="Listè½¬Map"><a href="#Listè½¬Map" class="headerlink" title="Listè½¬Map"></a>Listè½¬Map</h3><ul><li>Map valueå€¼ä¸ºå¯¹è±¡</li></ul><pre><code>    //è·å–æ‰€æœ‰å•†å“    List&lt;Product&gt; products = productMapper.selectByProductIdSet(productIdSet);    //æŠŠå•†å“è½¬æ¢æˆä¸€ä¸ªmapï¼Œè¿™æ ·å°±å¯ä»¥ä¸ç»æ•°æ®åº“æŸ¥åˆ°æ•°æ®ï¼Œç”¨åˆ°Collectors.toMap()æ–¹æ³•    Map&lt;Integer, Product&gt; map = products.stream()            .collect(Collectors.toMap(Product::getId, product -&gt; product));</code></pre><ul><li>Map valueä¸ºList,Listä¸­ä¹Ÿæ˜¯å¯¹è±¡</li></ul><pre><code>    List&lt;OrderItem&gt; orderItemList = orderItemMapper.selectByOrderNoSet(orderNoSet);    //listè½¬mapï¼Œè¿™é‡Œå› ä¸ºvalueæ˜¯ä¸€ä¸ªListï¼Œæ‰€ä»¥è¦ç”¨åˆ°groupingBy    Map&lt;Long, List&lt;OrderItem&gt;&gt; orderItemMap = orderItemList.stream()            .collect(Collectors.groupingBy(OrderItem::getOrderNo));</code></pre><h3 id="Listè½¬Set"><a href="#Listè½¬Set" class="headerlink" title="Listè½¬Set"></a>Listè½¬Set</h3><pre><code>    List&lt;Order&gt; orderList = orderMapper.selectByUid(uid);    Set&lt;Integer&gt; shippingIdSet = orderList.stream()            .map(Order::getShippingId)            .collect(Collectors.toSet());</code></pre>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> springboot </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†é¡µåŠ è½½ï¼Œç‚¹å‡»æŒ‰é’®åŠ è½½æ›´å¤šå’Œæ»šåŠ¨åŠ è½½</title>
      <link href="/2020/05/18/fen-ye/"/>
      <url>/2020/05/18/fen-ye/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>å¦‚æœè¿”å›çš„æ•°æ®æ¯”è¾ƒå°‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ”¾åœ¨ä¸€ä¸ªé¡µé¢æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯è¯·æ±‚å›æ¥çš„æ•°æ®æ¯”è¾ƒå¤šï¼Œæ”¾åœ¨ä¸€ä¸ªé¡µé¢å°±ä¼šç”¨æˆ·ä½“éªŒæ¯”è¾ƒå·®ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä»–åˆ†å¼€</li><li>è¿™é‡Œæœ‰ä¸‰ç§æ–¹æ³•ï¼Œåˆ†é¡µï¼Œç‚¹å‡»æŒ‰é’®åŠ è½½æ›´å¤šï¼Œå’Œæ»šåŠ¨åŠ è½½æ›´å¤š</li><li>å‰ä¸¤ç§æ–¹æ³•æ˜¯ç”¨element-uiçš„ç»„ä»¶ï¼Œæ»šåŠ¨åŠ è½½åˆ™æ˜¯ç”¨ä¸€ä¸ªæ’ä»¶vue-infinite-scroll</li></ul><h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><h3 id="è¯·æ±‚æ•°æ®"><a href="#è¯·æ±‚æ•°æ®" class="headerlink" title="è¯·æ±‚æ•°æ®"></a>è¯·æ±‚æ•°æ®</h3><pre><code>    getOrderList() {          this.loading = true       //åŠ è½½loading          this.axios            .get(&quot;/orders&quot;,{              params:{                pageSize: 5,        //æ¯é¡µè·³è››                pageNum:this.pageNum    //å½“å‰é¡µæ•°              }            })            .then(res =&gt; {              this.loading = false;              this.list = res.list;     //å½“å‰é¡µé¢æ•°æ®              this.total = res.total;   //æ€»æ¡æ•°            })            .catch(() =&gt; {              this.loading = false;            });</code></pre><h3 id="Paginationç»„ä»¶"><a href="#Paginationç»„ä»¶" class="headerlink" title="Paginationç»„ä»¶"></a>Paginationç»„ä»¶</h3><ul><li>åšä¸€ä¸ªåº”ç”¨ä¸å¯èƒ½ä¸€ä¸ªé¡µé¢éƒ½èƒ½æŠŠæ‰€æœ‰æ•°æ®åŠ è½½å®Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å®ç°åˆ†é¡µæ•ˆæœï¼Œä¸€é¡µåªå®ç°å°‘é‡çš„æ•°æ®ï¼Œå¯ä»¥åˆ†å¾ˆå¤šé¡µ</li></ul><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ul><li><p>æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œè¦åœ¨componentsä¸­å¼•å…¥ï¼Œè¿™é‡Œçš„è¯­æ³•å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼ŒPagination.nameå°±ç›¸å½“äº<el-pagination></el-pagination>ï¼Œè¿™ä¸ªæ˜¯åœ¨htmlä¸­å¼•å…¥çš„ç»„ä»¶</p><pre><code>  import { Pagination } from &quot;element-ui&quot;;  components: {      [Pagination.name]: Pagination    }</code></pre></li></ul><pre><code>     &lt;el-pagination class=&quot;pagination&quot; :pageSize=&quot;pageSize&quot; background layout=&quot;prev, pager, next&quot; :total=&quot;total&quot; @current-change=&quot;handelchange&quot;&gt;&lt;/el-pagination&gt;</code></pre><ul><li><p>è¿™é‡Œé¢çš„ç»„ä»¶åŒ…å«å¾ˆå¤šå±æ€§ï¼ŒpageSizeå°±æ˜¯é¡µé¢çš„å¤§å°å¯ä»¥åŒ…å«å‡ æ¡æ•°æ®ï¼Œtotalè¡¨ç¤ºæ€»æ•°æ®ï¼Œæ³¨æ„å±æ€§çš„è°ƒç”¨å¯èƒ½æœ‰é©¼å³°å‘½åæ³•ï¼Œæ¯”å¦‚æ–‡æ¡£ä¸­è°ƒç”¨å±æ€§page-sizeä¼šå‡ºé”™ï¼Œä½ è¦æ”¹æˆpageSize</p></li><li><p>current-changeæ˜¯äº‹ä»¶åç§°ï¼Œpageé¡µæ”¹å˜çš„æ—¶å€™ä¼šè§¦å‘ï¼Œå›è°ƒå‚æ•°æ˜¯å½“å‰é¡µæ•°</p><pre><code>   //ç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œä¼šæœ‰ä¸€ä¸ªå›è°ƒå‚æ•°ï¼Œè¿™ä¸ªå›è°ƒå‚æ•°å°±æ˜¯å½“å‰çš„é¡µæ•°      handelchange(pageNum){        this.pageNum = pageNum        this.getOrderList()      }</code></pre></li></ul><h2 id="åŠ è½½æ›´å¤š"><a href="#åŠ è½½æ›´å¤š" class="headerlink" title="åŠ è½½æ›´å¤š"></a>åŠ è½½æ›´å¤š</h2><h3 id="Buttonç»„ä»¶"><a href="#Buttonç»„ä»¶" class="headerlink" title="Buttonç»„ä»¶"></a>Buttonç»„ä»¶</h3><ul><li>ç‚¹å‡»Buttonç»„ä»¶ä¼šåŠ è½½æ›´å¤šæ•°æ®</li></ul><h4 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ul><li><p>ç»„ä»¶çš„loadingå±æ€§æ˜¯æ˜¾ç¤ºåŠ è½½loadingçš„ï¼Œéœ€è¦åŠ¨æ€ç»‘å®šï¼Œåœ¨åŠ è½½æ—¶æ˜¾ç¤ºï¼ŒåŠ è½½å®Œæˆåå…³é—­ï¼Œç»‘å®šåˆ°getOrderList</p><pre><code>  import { Button } from &quot;element-ui&quot;;  components: {      [Button.name]: Button,    }  &lt;el-button type=&quot;primary&quot; :loading=&quot;loading&quot; @click=&quot;loadMore&quot;&gt;åŠ è½½æ›´å¤š&lt;/el-button&gt;</code></pre></li><li><p>loadMoreäº‹ä»¶æ˜¯åŠ è½½æ›´å¤š</p><pre><code>  loadMore(){        this.pageNum++    //æ¯ç‚¹å‡»ä¸€æ¬¡é¡µæ•°åŠ 1        this.getOrderList()      }</code></pre></li><li><p>æˆ‘ä»¬å‘ç°è¿”å›çš„æ•°æ®æ²¡æœ‰æ‹¼æ¥ï¼Œåªæœ‰è¯·æ±‚çš„åˆ°æ•°æ®ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒæ‹¼æ¥</p><pre><code>  this.list = this.list.concat(res.list);   //æŠŠè¿”å›çš„æ•°æ®æ‹¼æ¥åˆ°ä¸€èµ·</code></pre></li></ul><h2 id="æ»šåŠ¨åŠ è½½"><a href="#æ»šåŠ¨åŠ è½½" class="headerlink" title="æ»šåŠ¨åŠ è½½"></a>æ»šåŠ¨åŠ è½½</h2><ul><li>å¼€å‘ä¸­æ€»ä¼šé‡åˆ°è¿™ç§ä¸‹æ‹‰åŠ è½½çš„è®¾è®¡æ–¹æ¡ˆï¼ŒVueå®ç°ä¸‹æ‹‰åŠ è½½æœ€ä½³æ–¹æ¡ˆè‡ªç„¶æ˜¯ä½¿ç”¨vue-infinite-scrollæ¥å®ç°ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·çœ‹ä¸‹å®ƒçš„é…ç½®åŠä½¿ç”¨æ–¹å¼ã€‚</li></ul><h3 id="é¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸‹ä»–çš„é…ç½®å‚æ•°ï¼š"><a href="#é¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸‹ä»–çš„é…ç½®å‚æ•°ï¼š" class="headerlink" title="é¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸‹ä»–çš„é…ç½®å‚æ•°ï¼š"></a>é¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸‹ä»–çš„é…ç½®å‚æ•°ï¼š</h3><ul><li>v-infinite-scroll=â€loadMoreâ€è¡¨ç¤ºå›è°ƒå‡½æ•°æ˜¯loadMore</li><li>infinite-scroll-disabled=â€busyâ€è¡¨ç¤ºç”±å˜é‡busyå†³å®šæ˜¯å¦æ‰§è¡ŒloadMoreï¼Œfalseåˆ™æ‰§è¡ŒloadMoreï¼Œtrueåˆ™ä¸æ‰§è¡Œï¼Œæ³¨æ„ï¼Œbusyè¡¨ç¤ºç¹å¿™ï¼Œç¹å¿™çš„æ—¶å€™æ˜¯ä¸æ‰§è¡Œçš„ã€‚</li><li>infinite-scroll-distance=â€10â€è¿™é‡Œ10å†³å®šäº†é¡µé¢æ»šåŠ¨åˆ°ç¦»é¡µå°¾å¤šå°‘åƒç´ çš„æ—¶å€™è§¦å‘å›è°ƒå‡½æ•°ï¼Œ10æ˜¯åƒç´ å€¼ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä¼šåœ¨é¡µå°¾åšä¸€ä¸ªå‡ ååƒç´ é«˜çš„â€œæ­£åœ¨åŠ è½½ä¸­â€¦â€ï¼Œè¿™æ ·çš„è¯ï¼Œå¯ä»¥æŠŠè¿™ä¸ªdivçš„é«˜åº¦è®¾ä¸ºinfinite-scroll-distanceçš„å€¼å³å¯ã€‚</li><li>infinite-scroll-immediate-check é»˜è®¤å€¼ä¸ºtrueï¼Œè¯¥æŒ‡ä»¤è¡¨ç¤ºï¼Œåº”è¯¥åœ¨ç»‘å®šåç«‹å³æ£€æŸ¥busyçš„å€¼å’Œæ˜¯å¦æ»šåŠ¨åˆ°åº•ã€‚å‡å¦‚ä½ çš„åˆå§‹å†…å®¹é«˜åº¦ä¸å¤Ÿï¼Œä¸è¶³ä»¥å¡«æ»¡å¯æ»šåŠ¨çš„å®¹å™¨çš„è¯ï¼Œä½ åº”è®¾ä¸ºtrueï¼Œè¿™æ ·ä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡loadMoreï¼Œä¼šå¸®ä½ å¡«å……ä¸€äº›åˆå§‹å†…å®¹ã€‚</li><li>infinite-scroll-listen-for-event å½“äº‹ä»¶åœ¨Vueå®ä¾‹ä¸­å‘å‡ºæ—¶ï¼Œæ— é™æ»šåŠ¨å°†å†æ¬¡æ£€æŸ¥ã€‚</li><li>infinite-scroll-throttle-delay æ£€æŸ¥busyçš„å€¼çš„æ—¶é—´é—´éš”ï¼Œé»˜è®¤å€¼æ˜¯200ï¼Œå› ä¸ºvue-infinite-scrollçš„åŸºç¡€åŸç†æ˜¯ï¼Œvue-infinite-scrollä¼šå¾ªç¯æ£€æŸ¥busyçš„å€¼ï¼Œä»¥åŠæ˜¯å¦æ»šåŠ¨åˆ°åº•ï¼Œåªæœ‰å½“ï¼šbusyä¸ºfalseä¸”æ»šåŠ¨åˆ°åº•ï¼Œå›è°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œ</li></ul><h3 id="å®‰è£…vue-infinite-scroll"><a href="#å®‰è£…vue-infinite-scroll" class="headerlink" title="å®‰è£…vue-infinite-scroll"></a>å®‰è£…vue-infinite-scroll</h3><pre><code>    npm install vue-infinite-scroll --save</code></pre><h3 id="å¼•å…¥-vue-infinite-scroll"><a href="#å¼•å…¥-vue-infinite-scroll" class="headerlink" title="å¼•å…¥ vue-infinite-scroll"></a>å¼•å…¥ vue-infinite-scroll</h3><ul><li><p>å…¨å±€å¼•å…¥</p><pre><code>  // register globallyï¼ˆå…¨å±€å¼•å…¥ï¼Œåœ¨main.jsä¸­å¼•å…¥ï¼‰  import infiniteScroll from &#39;vue-infinite-scroll&#39;  Vue.use(infiniteScroll)</code></pre></li><li><p>å±€éƒ¨å¼•å…¥</p><pre><code>  // or for a single instance  import infiniteScroll from &#39;vue-infinite-scroll&#39;  new Vue({    directives: {infiniteScroll}  })</code></pre></li></ul><h3 id="ä½¿ç”¨-2"><a href="#ä½¿ç”¨-2" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ul><li><p>é¦–å…ˆéœ€è¦å¼•ç”¨æ’ä»¶ï¼Œä¸Šé¢æ­¥éª¤ï¼Œç„¶åä½¿ç”¨ï¼Œimgæ˜¯åŠ è½½åŠ¨ç”»ï¼Œéœ€è¦ç»‘å®šä¸€ä¸ªloadingåŠ¨æ€åŠ è½½</p><pre><code>      &lt;div              v-show=&quot;loading&quot;              v-infinite-scroll=&quot;loadMore&quot;              infinite-scroll-disabled=&quot;busy&quot;              infinite-scroll-distance=&quot;410&quot;            &gt;            &lt;img src=&quot;/imgs/loading-svg/loading-spinning-bubbles.svg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;          &lt;/div&gt;</code></pre></li></ul><ul><li><p>è§¦å‘äº‹ä»¶ï¼Œä¸‹æ‹‰éƒ½ä¸€å®šç¨‹åº¦å°±ä¼šè§¦å‘</p><pre><code>          loadMore(){        this.busy = true      //è§¦å‘äº‹ä»¶åbusyç¹å¿™        setTimeout(()=&gt;{      //é˜²æ­¢é¢‘ç¹è§¦å‘äº‹ä»¶ï¼Œè®¾ç½®0.5ç§’å»¶è¿Ÿ          this.pageNum++          this.getList()        },500)      },      getList() {        this.loading = true        this.axios          .get(&quot;/orders&quot;, {            params: {              pageSize: 5,              pageNum: this.pageNum            }          })          .then(res =&gt; {            this.list = this.list.concat(res.list);   //æ‹¼æ¥            if(res.hasNextPage){                  this.busy = false            }else{              this.busy = true  //å¦‚æœæ²¡æœ‰ä¸‹ä¸€é¡µï¼Œå°±ç¦æ­¢æ‰ï¼Œä¸‹æ‹‰å°†æ²¡ç”¨ï¼ŒåŠ¨ç”»ä¹Ÿä¸å†æ˜¾ç¤º              this.loading = false            }          })      },</code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> element-uiï¼Œvue-infinite-scroll </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
            <tag> vue </tag>
            
            <tag> vue-infinite-scroll </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”µå•†æ”¯ä»˜ï¼ˆå¾®ä¿¡æ”¯ä»˜å’Œæ”¯ä»˜å®æ”¯ä»˜ï¼‰å‰ç«¯</title>
      <link href="/2020/05/17/dian-shang-zhi-fu/"/>
      <url>/2020/05/17/dian-shang-zhi-fu/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>åšä¸€ä¸ªç”µå•†å¹³å°ï¼Œé‚£ä¹ˆæœ€å¿…ä¸å¯å°‘çš„æ­¥éª¤å°±æ˜¯æ”¯ä»˜äº†ï¼Œæˆ‘ä»¬è¿™é‡Œåªä»‹ç»ä¸¤ç§æœ€ä¸»æµçš„æ”¯ä»˜æ–¹æ³•ï¼Œå¾®ä¿¡æ”¯ä»˜å’Œæ”¯ä»˜å®æ”¯ä»˜ï¼Œä¼—æ‰€å‘¨çŸ¥è€ƒè™‘åˆ°æ”¯ä»˜å®‰å…¨ç­‰å› ç´ ï¼Œæ”¯ä»˜è¦åšçš„å¤§éƒ¨åˆ†äº‹æƒ…éƒ½æ˜¯åç«¯æ‰¿æ‹…çš„ï¼Œå‰ç«¯åªéœ€è¦åšå°‘éƒ¨åˆ†äº‹æƒ…ä¸åç«¯å¯¹æ¥å°±å¯ä»¥äº†ï¼Œè¿™é‡Œæˆ‘ä»¬æš‚æ—¶åªè®²å‰ç«¯ä¸åç«¯å¯¹æ¥çš„æ”¯ä»˜åŠŸèƒ½</li></ul><h2 id="è®¢å•é¡µé¢"><a href="#è®¢å•é¡µé¢" class="headerlink" title="è®¢å•é¡µé¢"></a>è®¢å•é¡µé¢</h2><ul><li>è¿™ä¸ªé¡µé¢å‰æœŸå·²å¼€å‘å¥½ï¼Œæš‚æ—¶åªè®²æ”¯ä»˜åŠŸèƒ½ï¼Œè¿™ä¸ªé¡µé¢çš„å¼€å‘å°±æ²¡å†™å‡ºæ¥äº†ã€‚ç‚¹å‡»å¾®ä¿¡æ”¯ä»˜åˆ™å¼¹å‡ºå¾®ä¿¡æ”¯ä»˜æ¡†ï¼Œç‚¹å‡»æ”¯ä»˜å®åˆ™è·³è½¬åˆ°æ”¯ä»˜å®æ”¯ä»˜é¡µé¢ï¼ˆè¿™ä¸ªç›¸å¯¹æ›´å®‰å…¨ï¼‰</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/31.png" alt=""></p><h2 id="æ”¯ä»˜å®"><a href="#æ”¯ä»˜å®" class="headerlink" title="æ”¯ä»˜å®"></a>æ”¯ä»˜å®</h2><ul><li>ç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œæºå¸¦æ”¯ä»˜è®¢å•å·è·³è½¬åˆ°æ”¯ä»˜å®é¡µé¢</li></ul><pre><code>    paySubmit(payment) {          //paymentç­‰äº1å°±æ˜¯æ”¯ä»˜å®æ”¯ä»˜ï¼Œ2å°±æ˜¯å¾®ä¿¡æ”¯ä»˜          if (payment == 1) {            this.payment = 1;            window.open(&quot;/#/order/alipay?orderId=&quot; + this.orderNo, &quot;_blank&quot;); //æºå¸¦è®¢å•å·è·³è½¬åˆ°æ”¯ä»˜å®æ”¯ä»˜é¡µé¢ï¼ˆæ–°é¡µé¢ï¼‰          }        }</code></pre><ul><li>alipayé¡µé¢ï¼Œè°ƒç”¨æ¥å£ï¼Œè¿”å›ä¸€å †htmlæºç </li><li>æˆ‘ä»¬éœ€è¦ç”¨v-htmlæŠŠä»–æ¸²æŸ“å‡ºæ¥ï¼Œå®ƒæ˜¯ä¸€ä¸ªformè¡¨å•ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æäº¤ä»–document.forms[0].submit()ï¼Œç„¶åå°±ä¼šè·³è½¬åˆ°æ”¯ä»˜å®æ”¯ä»˜é¡µé¢</li></ul><pre><code>    &lt;template&gt;        &lt;div class=&quot;ali-pay&quot;&gt;            &lt;order-header title=&quot;è®¢å•æ”¯ä»˜&quot;&gt;                &lt;template v-slot:tips&gt;                    &lt;span&gt;è¯·è°¨é˜²é’“é±¼é“¾æ¥æˆ–è¯ˆéª—ç”µè¯ï¼Œäº†è§£æ›´å¤š&lt;/span&gt;                &lt;/template&gt;            &lt;/order-header&gt;            &lt;loading v-if=&quot;loading&quot;&gt;&lt;/loading&gt;            &lt;div class=&quot;form&quot; v-html=&quot;content&quot;&gt;&lt;/div&gt;        &lt;/div&gt;    &lt;/template&gt;    &lt;script&gt;        import OrderHeader from &#39;./../components/OrderHeader&#39;;        import Loading from &#39;./../components/Loading&#39;;        export default {            name: &#39;alipay&#39;,            data() {                return {                    orderId: this.$route.query.orderId,      //è®¢å•å·                    content: &#39;&#39;,     //æ”¯ä»˜å®é¡µé¢htmlæºç                     loading: true   //æ˜¯å¦å±•ç¤ºloading                }            },            components: {                OrderHeader,                Loading            },            mounted() {                //è°ƒç”¨æ”¯ä»˜å®æ¥å£                this.submitPay()            },            methods: {                submitPay() {                    this.axios.post(&#39;/pay&#39;, {                        orderId: this.orderId,                        orderName: &#39;Vueå°ç±³é«˜ä»¿å•†åŸ&#39;,                        amount: 0.01,                        payType: 1,                    }).then((res) =&gt; {                        this.content = res.content                        setTimeout(()=&gt;{                            document.forms[0].submit();     //æäº¤ç¬¬ä¸€ä¸ªè¡¨å•æ•°æ®ï¼Œè·³è½¬åˆ°æ”¯ä»˜å®é¡µé¢                        },100)                    })                }            },        }    &lt;/script&gt;</code></pre><h3 id="ä¸­è½¬é¡µé¢"><a href="#ä¸­è½¬é¡µé¢" class="headerlink" title="ä¸­è½¬é¡µé¢"></a>ä¸­è½¬é¡µé¢</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/32.png" alt=""></p><h3 id="æ”¯ä»˜é¡µé¢"><a href="#æ”¯ä»˜é¡µé¢" class="headerlink" title="æ”¯ä»˜é¡µé¢"></a>æ”¯ä»˜é¡µé¢</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/33.png" alt=""></p><h2 id="å¾®ä¿¡"><a href="#å¾®ä¿¡" class="headerlink" title="å¾®ä¿¡"></a>å¾®ä¿¡</h2><ul><li>å¾®ä¿¡æ”¯ä»˜å’Œæ”¯ä»˜å®æ”¯ä»˜è°ƒç”¨çš„æ¥å£å·®ä¸å¤šï¼Œåªä¸è¿‡å¾®ä¿¡è¿”å›çš„ä¹‹ä¸€ä¸²äºŒç»´ç ç”Ÿæˆçš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦è§£æå®ƒ</li></ul><h3 id="ä¸‹è½½æ’ä»¶"><a href="#ä¸‹è½½æ’ä»¶" class="headerlink" title="ä¸‹è½½æ’ä»¶"></a>ä¸‹è½½æ’ä»¶</h3><ul><li>qrcodeæ˜¯ä¸€ä¸ªå¯ä»¥æŠŠä»£ç ç”ŸæˆäºŒç»´ç çš„æ’ä»¶ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆå¾®ä¿¡æ”¯ä»˜äºŒç»´ç </li></ul><pre><code>    cnpm install qrcode --save</code></pre><h3 id="æ’ä»¶çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#æ’ä»¶çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="æ’ä»¶çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>æ’ä»¶çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h3><pre><code>    import QRCode from &quot;qrcode&quot;;    QRCode.toDataURL(content)                  .then(url =&gt; {                    console.log(url)    //æˆåŠŸç”ŸæˆäºŒç»´ç                   })                  .catch((err) =&gt; {                    console.log(err)    //å¤±è´¥                  });</code></pre><h3 id="è°ƒç”¨æ¥å£ç”ŸæˆäºŒç»´ç "><a href="#è°ƒç”¨æ¥å£ç”ŸæˆäºŒç»´ç " class="headerlink" title="è°ƒç”¨æ¥å£ç”ŸæˆäºŒç»´ç "></a>è°ƒç”¨æ¥å£ç”ŸæˆäºŒç»´ç </h3><pre><code>    paySubmit(payment) {    if (payment == 2) {            this.payment = 2;            this.axios              .post(&quot;/pay&quot;, {                orderId: this.orderNo,                orderName: &quot;Vueé«˜ä»¿å°ç±³å•†åŸ&quot;,                amount: 0.01,                payType: 2              })              .then(res =&gt; {                  //é€šè¿‡æ’ä»¶ç”Ÿæˆå¾®ä¿¡æ”¯ä»˜äºŒç»´ç                 QRCode.toDataURL(res.content)                  .then(url =&gt; {                    this.showPay = true;                    this.payImg = url;                    this.loopOrderState()                  })                  .catch(() =&gt; {                    this.$message.error(&#39;äºŒç»´ç ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•&#39;)                  });              });          }        }</code></pre><h3 id="å¾®ä¿¡æ”¯ä»˜å¼¹æ¡†"><a href="#å¾®ä¿¡æ”¯ä»˜å¼¹æ¡†" class="headerlink" title="å¾®ä¿¡æ”¯ä»˜å¼¹æ¡†"></a>å¾®ä¿¡æ”¯ä»˜å¼¹æ¡†</h3><ul><li>æ˜¯å…ˆåšå¥½ï¼Œç‚¹å‡»å¾®ä¿¡æ”¯ä»˜åˆ™å¼¹å‡º</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/34.png" alt=""></p><h3 id="è½®è¯¢"><a href="#è½®è¯¢" class="headerlink" title="è½®è¯¢"></a>è½®è¯¢</h3><ul><li>æˆ‘ä»¬è¿™é‡Œè¦åšçš„åŠŸèƒ½æ˜¯ç”¨æˆ·æ‰«ç ä¹‹åå°±ä¼šè·³è½¬åˆ°è®¢å•åˆ—è¡¨ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆæ‰èƒ½çŸ¥é“ç”¨æˆ·æ˜¯å¦å·²ç»æ”¯ä»˜äº†å‘¢ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸€ç§’è½®è¯¢ä¸€æ¬¡æ”¯ä»˜çŠ¶æ€ï¼Œç›´åˆ°ç”¨æˆ·å·²ç»æ”¯ä»˜ï¼Œåˆ™å…³é—­è½®è¯¢ï¼Œè·³è½¬åˆ°è®¢å•åˆ—è¡¨é¡µé¢</li></ul><pre><code>    //è½®è¯¢å½“å‰æ”¯ä»˜çŠ¶æ€        loopOrderState(){          //setIntervalå’ŒsetTimeoutä¸ä¸€æ ·ï¼Œè¿™ä¸ªåªè¦ä¸å…³é—­ä¼šä¸€ç›´è½®è¯¢ï¼ŒsetTimeoutåˆ™åªä¼šæ‰§è¡Œä¸€æ¬¡          this.T = setInterval(()=&gt;{            this.axios.get(`/orders/${this.orderNo}`).then((res)=&gt;{            if(res.status == 20){              clearInterval(this.T)   //å…³é—­è½®è¯¢              this.gotoOrderList()            }          })          },1000)        }</code></pre><ul><li>ç‚¹å‡»å…³é—­å¾®ä¿¡æ”¯ä»˜é¡µé¢ï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œä¼šå¼¹å‡ºä¸€ä¸ªå¼¹æ¡†ï¼Œè®©ç”¨æˆ·è‡ªå·±é€‰æ‹©æœ‰æ²¡æœ‰æ”¯ä»˜ï¼ˆæ€•ç½‘ç»œå»¶è¿Ÿï¼Œæ”¯ä»˜æˆåŠŸä¸è·³è½¬ï¼‰ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿè¦å…³é—­è½®è¯¢</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/lhzjoker/cdn/source/imgs/35.png" alt=""></p><h3 id="æ”¯ä»˜å®Œæˆ"><a href="#æ”¯ä»˜å®Œæˆ" class="headerlink" title="æ”¯ä»˜å®Œæˆ"></a>æ”¯ä»˜å®Œæˆ</h3><ul><li>æ”¯ä»˜å®Œæˆä¹‹åæˆ‘ä»¬è¿˜è¦å¹²å˜›å‘¢ï¼Œå°±æ˜¯å†æ¬¡ç‚¹å‡»å¾®ä¿¡æ”¯ä»˜ï¼Œå› ä¸ºè®¢å•å·²ç»æ²¡æœ‰äº†ï¼Œå°±ä¼šæŠ¥ä¸€ä¸ªé”™ï¼Œè¿™é‡Œæˆ‘ä»¬è¦æé†’ç”¨æˆ·å·²ç»æ”¯ä»˜ï¼Œåˆ°main.jsä¸­å»é…ç½®,è¿™é‡Œçš„é”™è¯¯æ˜¯httpè¯·æ±‚çŠ¶æ€ç é”™è¯¯ï¼Œè·Ÿè¿”å›æ•°æ®çŠ¶æ€ç é”™è¯¯ä¸ä¸€æ ·</li><li>è¿™é‡Œæ˜¯æ¥å£è°ƒç”¨å¤±è´¥ï¼ŒhttpçŠ¶æ€ç ä¸º500ï¼Œæ²¡æœ‰è¿”å›responseæ•°æ®ï¼Œæ‰€ä»¥éœ€è¦åœ¨erroré‡Œå¤„ç†</li></ul><pre><code>    //æ¥å£é”™è¯¯æ‹¦æˆª    axios.interceptors.response.use(function(response){   //æ‹¦æˆªé¡µé¢è¿”å›æ•°æ®çŠ¶æ€ç       let res = response.data      if(res.status == 0){      //çŠ¶æ€ç ä¸º0ä»£è¡¨ç™»é™†æˆåŠŸ        return res.data      }else if(response.status == 10){    //çŠ¶æ€ç ä¸º10ä»£è¡¨æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢        if(location.hash!=&#39;#/index&#39;){     //å¦‚æœæ²¡æœ‰ç™»å½•åˆ™åªèƒ½è®¿é—®é¦–é¡µ          window.location.href = &#39;/#/login&#39;   //è·³è½¬åˆ°ç™»é™†é¡µé¢        }        return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼      }else{        Message.error(res.msg)        return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼      }    },(error)=&gt;{    //æ‹¦æˆªhttpè¯·æ±‚çŠ¶æ€ç ï¼ˆè¯·æ±‚å‘é€å¤±è´¥ï¼‰      let res = error.response      Message.error(res.data.message)      return Promise.reject()   //å‘ç”Ÿé”™è¯¯ï¼Œpromiseè¿”å›æ‹’ç»å€¼    })</code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-cliè„šæ‰‹æ¶</title>
      <link href="/2020/05/13/vue-cli/"/>
      <url>/2020/05/13/vue-cli/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>è¿™æ˜¯æˆ‘å­¦ä¹ vueä¸€æ®µæ—¶é—´åï¼Œä¸Šæ‰‹è„šæ‰‹æ¶ï¼Œåšçš„ä¸€äº›ç¬”è®°</li></ul><h2 id="ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶"><a href="#ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶" class="headerlink" title="ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶"></a>ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶</h2><ul><li>vue-cli4.0å®‰è£…åŠåº”ç”¨ç”Ÿæˆï¼Œvue-cli4.0æ˜¯ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–çš„Vueé¡¹ç›®ï¼Œä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„ä¸œè¥¿ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å°è£…å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨å°±è¡Œäº†ï¼Œçº¦å®šå¤§äºé…ç½®</li></ul><h2 id="å®‰è£…å’Œç¯å¢ƒæ­å»º"><a href="#å®‰è£…å’Œç¯å¢ƒæ­å»º" class="headerlink" title="å®‰è£…å’Œç¯å¢ƒæ­å»º"></a>å®‰è£…å’Œç¯å¢ƒæ­å»º</h2><ul><li>å®‰è£…vue-cliï¼šcnpm i -g @vue/cliï¼ˆä¸€èˆ¬ä¼šä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼‰</li><li>åˆ›å»ºé¡¹ç›®ï¼švue create + é¡¹ç›®å</li><li>é»˜è®¤babelï¼Œeslintè‡ªåŠ¨å®‰è£…</li></ul><h2 id="vue-cliçš„ä½¿ç”¨"><a href="#vue-cliçš„ä½¿ç”¨" class="headerlink" title="vue-cliçš„ä½¿ç”¨"></a>vue-cliçš„ä½¿ç”¨</h2><ul><li>è¿›å…¥æ–‡ä»¶ï¼Œå¯åŠ¨ï¼šcnpm run serve</li><li>ä½¿ç”¨è„šæ‰‹æ¶çš„ç•Œé¢uiåŠŸèƒ½ï¼švue uiï¼Œè¿™æ˜¯è„šæ‰‹æ¶å†…ç½®çš„ä¸€å¥—å¯è§†åŒ–çš„ç³»ç»Ÿï¼Œï¼ˆvueé¡¹ç›®ç®¡ç†å™¨ï¼Œéœ€è¦å¯¼å…¥é¡¹ç›®ï¼Œæˆ–è€…åˆ›å»ºé¡¹ç›®ï¼‰</li><li>å®‰è£…ä¸€äº›ä¾èµ–æ’ä»¶ï¼šaxiosï¼Œvue-routerï¼Œvuexï¼ˆè¿™äº›æ’ä»¶çš„ä½¿ç”¨åé¢ä¼šè¯´åˆ°ï¼‰</li></ul><h2 id="è„šæ‰‹æ¶ç›®å½•ç»“æ„è§£æ"><a href="#è„šæ‰‹æ¶ç›®å½•ç»“æ„è§£æ" class="headerlink" title="è„šæ‰‹æ¶ç›®å½•ç»“æ„è§£æ"></a>è„šæ‰‹æ¶ç›®å½•ç»“æ„è§£æ</h2><pre><code>    public --- å­˜æ”¾ä¸€äº›å…¬å…±èµ„æºï¼Œæ¯”å¦‚å¤§å›¾ç‰‡ç­‰    resource --- ä¸€äº›æ‰“åŒ…çš„èµ„æºï¼Œä¾›æˆ‘ä»¬ä½¿ç”¨    .gitignore --- gitå¿½ç•¥é…ç½®æ–‡ä»¶    package-lock.json --- é¡¹ç›®åŒ…ç®¡æ§æ–‡ä»¶    package.json --- é¡¹ç›®é…ç½®    README.md --- é¡¹ç›®è¯´æ˜ä¹¦    dist --- æ‰“åŒ…åçš„é¡¹ç›®    src --- æºç ç›®å½•        |- api --- æ‰¿è½½æ•´ä¸ªé¡¹ç›®çš„apiè¯·æ±‚        |- assets --- å­˜æ”¾webä¸­å¼•ç”¨çš„å›¾ç‰‡ åª’ä½“èµ„æº        |- components --- å­˜æ”¾å¯å¤ç”¨ç»„ä»¶ï¼Œä½ å¯ä»¥åœ¨ä»»æ„é¡µé¢ä¸­å¤ç”¨è¿™äº›ç»„ä»¶        |- util --- ä¸€äº›å…¬å…±çš„æ–¹æ³•        |- store --- vuex        |- App.vue --- æ˜¯é¡¹ç›®å…¥å£æ–‡ä»¶        |- main.js --- æ ¹é€»è¾‘ï¼Œé¡µé¢åŠ è½½é¦–å…ˆä¼šåŠ è½½è¿™ä»½jsæ–‡ä»¶ã€‚        |- router.js --- è·¯ç”±æ–‡ä»¶        |- pages --- é¡µé¢</code></pre><h2 id="Vueå®ä¾‹"><a href="#Vueå®ä¾‹" class="headerlink" title="Vueå®ä¾‹"></a>Vueå®ä¾‹</h2><h3 id="Vueæ–‡ä»¶è§£æ"><a href="#Vueæ–‡ä»¶è§£æ" class="headerlink" title="Vueæ–‡ä»¶è§£æ"></a>Vueæ–‡ä»¶è§£æ</h3><ul><li>vueæ–‡ä»¶åˆå§‹åŒ–ä¸€èˆ¬æ˜¯templateæ¨¡æ¿åŒ…è£¹ä¸€å±‚divæ¥å†™éª¨æ¶ï¼Œç„¶åå°±æ˜¯scriptå†™é€»è¾‘ï¼Œstyleå†™æ ·å¼</li></ul><pre><code>    &lt;template&gt;        &lt;div&gt;            orderList        &lt;/div&gt;    &lt;/template&gt;    &lt;script&gt;        export default{            name: &#39;order-list&#39;,        }    &lt;/script&gt;    &lt;style&gt;    &lt;/style&gt;</code></pre><h3 id="watch-å’Œ-computedçš„-ç®€æ"><a href="#watch-å’Œ-computedçš„-ç®€æ" class="headerlink" title="watch å’Œ computedçš„ ç®€æ"></a>watch å’Œ computedçš„ ç®€æ</h3><ul><li>vueæä¾›äº†2ä¸ªåŠ¨æ€ç›‘æµ‹dataçš„å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯watchï¼Œä¸€ä¸ªæ˜¯computedã€‚</li><li>watchï¼š ä¸»è¦ç›‘æµ‹å·²ç»å­˜åœ¨çš„dataï¼Œå¤„ç†dataå˜åŒ–åçš„é’©å­</li><li>computedï¼š å¤„ç†ä¸€ä¸ªå·²å­˜åœ¨çš„dataï¼Œè¿”å›ä¸€ä¸ªdata</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/26.png" alt=""></p><h3 id="vueä¸­å¼•å…¥ç»„ä»¶ä»¥åŠçˆ¶å­ç»„ä»¶çš„æ•°æ®äº¤äº’"><a href="#vueä¸­å¼•å…¥ç»„ä»¶ä»¥åŠçˆ¶å­ç»„ä»¶çš„æ•°æ®äº¤äº’" class="headerlink" title="vueä¸­å¼•å…¥ç»„ä»¶ä»¥åŠçˆ¶å­ç»„ä»¶çš„æ•°æ®äº¤äº’"></a>vueä¸­å¼•å…¥ç»„ä»¶ä»¥åŠçˆ¶å­ç»„ä»¶çš„æ•°æ®äº¤äº’</h3><ul><li>å…³äºç»„ä»¶ï¼Œä»»æ„vueæ–‡ä»¶ä½ éƒ½å¯ä»¥çœ‹åšä¸€ä¸ªç»„ä»¶ã€‚åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨çš„åº”è¯¥éƒ½æ˜¯å•æ–‡ä»¶ç»„ä»¶ï¼Œå•æ–‡ä»¶ç»„ä»¶ä¸é¡µé¢ç»“æ„æ— å¼‚ï¼Œæ˜¯å…·æœ‰å®Œæ•´åŠŸèƒ½çš„ä¸€ä¸ªæ¨¡å—ã€‚æ¯”å¦‚ä¸€ä¸ªè¯„è®ºæ¡†ï¼Œä½ å°±å¯ä»¥å‰¥ç¦»æˆä¸€ä¸ªç»„ä»¶ï¼Œåœ¨ä»»æ„é¡µé¢æ–‡ä»¶ä¸­å¼•å…¥è¿™ä¸ªç»„ä»¶ã€‚</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/27.png" alt=""></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/28.png" alt=""></p><h3 id="vueè¿‡æ»¤å™¨"><a href="#vueè¿‡æ»¤å™¨" class="headerlink" title="vueè¿‡æ»¤å™¨"></a>vueè¿‡æ»¤å™¨</h3><ul><li>åœ¨æœ‰ä¸€äº›ä¸šåŠ¡åœºæ™¯éœ€è¦å¯¹æ•°æ®è¿›è¡Œä¸€äº›è½¬æ¢ï¼Œæ¯”å¦‚åç«¯å›¾ç‰‡åœ°å€çš„å‰ç¼€åŒ¹é…ï¼Œè¿™ä¸ªæ—¶å€™filterså°±æ´¾ä¸Šå¤§ç”¨åœºäº†ã€‚çœ‹ä¸ªä¾‹å­æ„Ÿå—ä¸€ä¸‹ã€‚</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/29.png" alt=""></p><h3 id="vueè·¯ç”±"><a href="#vueè·¯ç”±" class="headerlink" title="vueè·¯ç”±"></a>vueè·¯ç”±</h3><ul><li>è·¯ç”±å¯¹äºspaåº”ç”¨çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œæ•´ä¸ªåº”ç”¨çš„é¡µé¢å…³ç³»éƒ½æ˜¯é€šè¿‡è·¯ç”±å®šä¹‰çš„ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€ä¸ªè·¯ç”±æ–‡ä»¶å¤§è‡´æ˜¯ä»€ä¹ˆæ ·å­</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/30.png" alt=""></p><h3 id="å¯ç›‘æµ‹çš„å…¨å±€å˜é‡â€”â€”vuex"><a href="#å¯ç›‘æµ‹çš„å…¨å±€å˜é‡â€”â€”vuex" class="headerlink" title="å¯ç›‘æµ‹çš„å…¨å±€å˜é‡â€”â€”vuex"></a>å¯ç›‘æµ‹çš„å…¨å±€å˜é‡â€”â€”vuex</h3><ul><li>é¡¹ç›®å¼€å‘ä¸­ï¼Œå¾€å¾€æˆ‘ä»¬ä¼šæœ‰ä¸€äº›å…¨å±€å˜é‡ï¼Œä½†æ˜¯æ­£å¸¸å…¨å±€å˜é‡ï¼Œvueæ˜¯ä¸èƒ½ç›‘æµ‹çš„ï¼Œè¿™ä¸ªæ—¶å€™vuexå°±æ´¾ä¸Šç”¨åœºäº†ã€‚</li></ul><h4 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h4><ul><li>VueXæ˜¯é€‚ç”¨äºåœ¨Vueé¡¹ç›®å¼€å‘æ—¶ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé¡¹ç›®å¼€å‘ä¸­é¢‘ç¹çš„ä½¿ç”¨ç»„ä»¶ä¼ å‚çš„æ–¹å¼æ¥åŒæ­¥dataä¸­çš„å€¼ï¼Œä¸€æ—¦é¡¹ç›®å˜å¾—å¾ˆåºå¤§ï¼Œç®¡ç†å’Œç»´æŠ¤è¿™äº›å€¼å°†æ˜¯ç›¸å½“æ£˜æ‰‹çš„å·¥ä½œã€‚ä¸ºæ­¤ï¼ŒVueä¸ºè¿™äº›è¢«å¤šä¸ªç»„ä»¶é¢‘ç¹ä½¿ç”¨çš„å€¼æä¾›äº†ä¸€ä¸ªç»Ÿä¸€ç®¡ç†çš„å·¥å…·â€”â€”VueXã€‚åœ¨å…·æœ‰VueXçš„Vueé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™äº›å€¼å®šä¹‰åœ¨VueXä¸­ï¼Œå³å¯åœ¨æ•´ä¸ªVueé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</li><li>é€šä¿—çš„æ¥è¯´ï¼Œç»„ä»¶å¯ä»¥è°ƒç”¨è‡ªå·±çš„dataæ•°æ®ï¼Œä½†æ˜¯ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´æ— æ³•è·¨ç»„ä»¶è°ƒç”¨ï¼Œè¿™æ—¶vuexå°±æ˜¾ç¤ºä»–çš„ä½œç”¨äº†ï¼Œvuexå°±åƒä¸€ä¸ªå‰ç«¯æ•°æ®åº“ï¼ŒæŠŠæ•°æ®å­˜å‚¨è¿›å»ï¼Œä»è€Œä½¿æ‰€æœ‰çš„ç»„ä»¶çš„èƒ½å¤Ÿä½¿ç”¨</li></ul><h4 id="VueXä¸­çš„æ ¸å¿ƒå†…å®¹"><a href="#VueXä¸­çš„æ ¸å¿ƒå†…å®¹" class="headerlink" title="VueXä¸­çš„æ ¸å¿ƒå†…å®¹"></a>VueXä¸­çš„æ ¸å¿ƒå†…å®¹</h4><ul><li>state å­˜æ”¾çŠ¶æ€<ul><li>stateå°±ç›¸å½“ä¸æ•°æ®åº“çš„æ•°æ®</li></ul></li><li>mutations stateæˆå‘˜æ“ä½œ<ul><li>mutationså°±ç›¸å½“äºå¢åˆ æ”¹æŸ¥æ“ä½œ</li></ul></li><li>getters åŠ å·¥stateæˆå‘˜ç»™å¤–ç•Œ</li><li>actions å¼‚æ­¥æ“ä½œ<ul><li>å¼‚æ­¥æ“ä½œï¼Œæäº¤mutationsæ“ä½œ</li></ul></li><li>modules æ¨¡å—åŒ–çŠ¶æ€ç®¡ç†</li></ul><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><pre><code>    npm install vuex --save    å®‰è£…å¥½vuexåï¼Œæˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾vuexç›¸å…³æ–‡ä»¶</code></pre><h4 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h4><pre><code>    import Vue from &#39;vue&#39;;    import Vuex from &#39;vuex&#39;;    import actions from &#39;./actions&#39;    import mutations from &#39;./mutations&#39;    Vue.use(Vuex);    const state = {        username:&#39;&#39;,    //ç”¨æˆ·å        cartcount: 0    //è´­ç‰©è½¦æ•°é‡    }    export default new Vuex.Store({        state,        actions,        mutations    })  </code></pre><h4 id="mutations"><a href="#mutations" class="headerlink" title="mutations"></a>mutations</h4><pre><code>    //å•†åŸVuex-mutation    export default{        saveUserName(state,username){        //æ”¹å˜æ•°æ®            state.username = username        },        saveCartCount(state,cartcount){            state.cartcount = cartcount        }    }</code></pre><h4 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h4><pre><code>    //å•†åŸVuex-action    export default{        saveUserName(context,username){        //æäº¤            context.commit(&#39;saveUserName&#39;,username)        },        saveCartCount(context,cartcount){            context.commit(&#39;saveCartCount&#39;,cartcount)        }    }</code></pre><h4 id="å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»"><a href="#å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»" class="headerlink" title="å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»"></a>å°†storeæŒ‚è½½åˆ°å½“å‰é¡¹ç›®çš„Vueå®ä¾‹å½“ä¸­å»</h4><ul><li>main.js,è¿™æ ·å°±å¯ä»¥å…¨å±€è°ƒç”¨äº†</li></ul><pre><code>    import store from &#39;./store/index&#39;    new Vue({      store,      router: router,      render: h =&gt; h(App),    }).$mount(&#39;#app&#39;)</code></pre><h4 id="dispatchåˆ†é…actionsä»»åŠ¡"><a href="#dispatchåˆ†é…actionsä»»åŠ¡" class="headerlink" title="dispatchåˆ†é…actionsä»»åŠ¡"></a>dispatchåˆ†é…actionsä»»åŠ¡</h4><ul><li>å¯ä»¥åœ¨App.vueé‡Œä½¿ç”¨ï¼Œè¿™æ ·å…¨å±€éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªå€¼äº†</li></ul><pre><code>      this.$store.dispatch(&#39;saveUserName&#39;,res.username)</code></pre><h4 id="æ¸²æŸ“å»¶è¿Ÿ"><a href="#æ¸²æŸ“å»¶è¿Ÿ" class="headerlink" title="æ¸²æŸ“å»¶è¿Ÿ"></a>æ¸²æŸ“å»¶è¿Ÿ</h4><ul><li>å½“æˆ‘ä»¬æ‹‰å–æ•°æ®æ¥æ¸²æŸ“é¡µé¢æ—¶ä¼šæœ‰å»¶è¿Ÿæ•ˆæœï¼Œå¯èƒ½æ¸²æŸ“ä¸å‡ºæ¥è·å–çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨computedæ¥è§£å†³</li></ul><pre><code>    computed: {        username() {          return this.$store.state.username;        },        cartcount() {          return this.$store.state.cartcount;        }      },</code></pre><h4 id="mapStateè¾…åŠ©å‡½æ•°"><a href="#mapStateè¾…åŠ©å‡½æ•°" class="headerlink" title="mapStateè¾…åŠ©å‡½æ•°"></a>mapStateè¾…åŠ©å‡½æ•°</h4><ul><li>mapStateè¾…åŠ©å‡½æ•°å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¼•ç”¨stateï¼Œä¸ä¸Šé¢çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</li></ul><pre><code> import { mapState } from &#39;vuex&#39;; computed: {      ...mapState([&#39;username&#39;, &#39;cartcount&#39;])    },</code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ vueçš„æ—¶å€™ï¼Œåšçš„ä¸€äº›ç¬”è®°</title>
      <link href="/2020/05/12/vue/"/>
      <url>/2020/05/12/vue/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><ul><li>æœ¬æ–‡ä¸»è¦è®²è¿°å­¦ä¹ vueæ—¶çš„ä¸€äº›æŒ‡ä»¤</li></ul><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><h3 id="ä»€ä¹ˆæ˜¯vue"><a href="#ä»€ä¹ˆæ˜¯vue" class="headerlink" title="ä»€ä¹ˆæ˜¯vue"></a>ä»€ä¹ˆæ˜¯vue</h3><ul><li>Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº <strong>view) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶</strong></li><li>vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆ</li></ul><h3 id="å®‰è£…å’Œç¯å¢ƒæ­å»º"><a href="#å®‰è£…å’Œç¯å¢ƒæ­å»º" class="headerlink" title="å®‰è£…å’Œç¯å¢ƒæ­å»º"></a>å®‰è£…å’Œç¯å¢ƒæ­å»º</h3><ul><li>è¿™é‡Œå»ºè®®æ–°æ‰‹å»çœ‹vue.jsçš„å®˜æ–¹æ–‡æ¡£ï¼Œç†Ÿæ‚‰ä¹‹åå¯ä»¥ä¸Šæ‰‹vue-cliè„šæ‰‹æ¶</li></ul><h2 id="mvvm"><a href="#mvvm" class="headerlink" title="mvvm"></a>mvvm</h2><ul><li>MVC æ˜¯åç«¯çš„åˆ†å±‚å¼€å‘æ¦‚å¿µï¼› MVVMæ˜¯å‰ç«¯è§†å›¾å±‚çš„æ¦‚å¿µï¼Œä¸»è¦å…³æ³¨äº è§†å›¾å±‚åˆ†ç¦»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šMVVMæŠŠå‰ç«¯çš„è§†å›¾å±‚ï¼Œåˆ†ä¸ºäº† ä¸‰éƒ¨åˆ† Model, View , VM ViewModel</li><li>m model<ul><li>æ•°æ®å±‚ Vue ä¸­ æ•°æ®å±‚ éƒ½æ”¾åœ¨ data é‡Œé¢</li></ul></li><li>v view è§†å›¾<ul><li>Vue ä¸­ view å³ æˆ‘ä»¬çš„HTMLé¡µé¢</li></ul></li><li>vm ï¼ˆview-modelï¼‰ æ§åˆ¶å™¨ å°†æ•°æ®å’Œè§†å›¾å±‚å»ºç«‹è”ç³»<ul><li>vm å³ Vue çš„å®ä¾‹ å°±æ˜¯ vm</li></ul></li></ul><h2 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h2><ul><li>æœ¬è´¨å°±æ˜¯è‡ªå®šä¹‰å±æ€§</li><li>Vueä¸­æŒ‡å®šéƒ½æ˜¯ä»¥ v- å¼€å¤´</li></ul><h3 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h3><ul><li>é˜²æ­¢é¡µé¢åŠ è½½æ—¶å‡ºç°é—ªçƒé—®é¢˜</li></ul><pre><code>    &lt;html&gt;     &lt;style type=&quot;text/css&quot;&gt;      /*         1ã€é€šè¿‡å±æ€§é€‰æ‹©å™¨ é€‰æ‹©åˆ° å¸¦æœ‰å±æ€§ v-cloakçš„æ ‡ç­¾  è®©ä»–éšè—     */      [v-cloak]{        /* å…ƒç´ éšè—    */        display: none;      }      &lt;/style&gt;    &lt;body&gt;      &lt;div id=&quot;app&quot;&gt;        &lt;!-- 2ã€ è®©å¸¦æœ‰æ’å€¼ è¯­æ³•çš„   æ·»åŠ  v-cloak å±æ€§              åœ¨ æ•°æ®æ¸²æŸ“å®Œåœºä¹‹åï¼Œv-cloak å±æ€§ä¼šè¢«è‡ªåŠ¨å»é™¤ï¼Œ             v-cloakä¸€æ—¦ç§»é™¤ä¹Ÿå°±æ˜¯æ²¡æœ‰è¿™ä¸ªå±æ€§äº†  å±æ€§é€‰æ‹©å™¨å°±é€‰æ‹©ä¸åˆ°è¯¥æ ‡ç­¾             ä¹Ÿå°±æ˜¯å¯¹åº”çš„æ ‡ç­¾ä¼šå˜ä¸ºå¯è§        --&gt;        &lt;div  v-cloak  &gt;{{msg}}&lt;/div&gt;      &lt;/div&gt;      &lt;script type=&quot;text/javascript&quot; src=&quot;js/vue.js&quot;&gt;&lt;/script&gt;      &lt;script type=&quot;text/javascript&quot;&gt;        var vm = new Vue({          //  el   æŒ‡å®šå…ƒç´  id æ˜¯ app çš„å…ƒç´             el: &#39;#app&#39;,          //  data  é‡Œé¢å­˜å‚¨çš„æ˜¯æ•°æ®          data: {            msg: &#39;Hello Vue&#39;          }        });    &lt;/script&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><h3 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h3><ul><li>v-textæŒ‡ä»¤ç”¨äºå°†æ•°æ®å¡«å……åˆ°æ ‡ç­¾ä¸­ï¼Œä½œç”¨äºæ’å€¼è¡¨è¾¾å¼ç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰é—ªåŠ¨é—®é¢˜</li><li>å¦‚æœæ•°æ®ä¸­æœ‰HTMLæ ‡ç­¾ä¼šå°†htmlæ ‡ç­¾ä¸€å¹¶è¾“å‡º</li><li>æ³¨æ„ï¼šæ­¤å¤„ä¸ºå•å‘ç»‘å®šï¼Œæ•°æ®å¯¹è±¡ä¸Šçš„å€¼æ”¹å˜ï¼Œæ’å€¼ä¼šå‘ç”Ÿå˜åŒ–ï¼›ä½†æ˜¯å½“æ’å€¼å‘ç”Ÿå˜åŒ–å¹¶ä¸ä¼šå½±å“æ•°æ®å¯¹è±¡çš„å€¼</li></ul><pre><code>    &lt;div id=&quot;app&quot;&gt;        &lt;!--              æ³¨æ„:åœ¨æŒ‡ä»¤ä¸­ä¸è¦å†™æ’å€¼è¯­æ³•  ç›´æ¥å†™å¯¹åº”çš„å˜é‡åç§°             åœ¨ v-text ä¸­ èµ‹å€¼çš„æ—¶å€™ä¸è¦åœ¨å†™ æ’å€¼è¯­æ³•            ä¸€èˆ¬å±æ€§ä¸­ä¸åŠ  {{}}  ç›´æ¥å†™ å¯¹åº” çš„æ•°æ®å         --&gt;        &lt;p v-text=&quot;msg&quot;&gt;&lt;/p&gt;        &lt;p&gt;            &lt;!-- Vue  ä¸­åªæœ‰åœ¨æ ‡ç­¾çš„ å†…å®¹ä¸­ æ‰ç”¨æ’å€¼è¯­æ³• --&gt;            {{msg}}        &lt;/p&gt;    &lt;/div&gt;    &lt;script&gt;        new Vue({            el: &#39;#app&#39;,            data: {                msg: &#39;Hello Vue.js&#39;            }        });    &lt;/script&gt;</code></pre><h3 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h3><ul><li><p>ç”¨æ³•å’Œv-text ç›¸ä¼¼ ä½†æ˜¯ä»–å¯ä»¥å°†HTMLç‰‡æ®µå¡«å……åˆ°æ ‡ç­¾ä¸­</p></li><li><p>å¯èƒ½æœ‰å®‰å…¨é—®é¢˜, ä¸€èˆ¬åªåœ¨å¯ä¿¡ä»»å†…å®¹ä¸Šä½¿ç”¨ v-htmlï¼Œæ°¸ä¸ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Š</p></li><li><p>å®ƒä¸v-textåŒºåˆ«åœ¨äºv-textè¾“å‡ºçš„æ˜¯çº¯æ–‡æœ¬ï¼Œæµè§ˆå™¨ä¸ä¼šå¯¹å…¶å†è¿›è¡Œhtmlè§£æï¼Œä½†v-htmlä¼šå°†å…¶å½“htmlæ ‡ç­¾è§£æåè¾“å‡ºã€‚</p></li></ul><pre><code>    &lt;div id=&quot;app&quot;&gt;    ã€€ã€€&lt;p v-html=&quot;html&quot;&gt;&lt;/p&gt; &lt;!-- è¾“å‡ºï¼šhtmlæ ‡ç­¾åœ¨æ¸²æŸ“çš„æ—¶å€™è¢«è§£æ --&gt;        &lt;p&gt;{{message}}&lt;/p&gt; &lt;!-- è¾“å‡ºï¼š&lt;span&gt;é€šè¿‡åŒæ‹¬å·ç»‘å®š&lt;/span&gt; --&gt;    ã€€ã€€&lt;p v-text=&quot;text&quot;&gt;&lt;/p&gt; &lt;!-- è¾“å‡ºï¼š&lt;span&gt;htmlæ ‡ç­¾åœ¨æ¸²æŸ“çš„æ—¶å€™è¢«æºç è¾“å‡º&lt;/span&gt; --&gt;    &lt;/div&gt;    &lt;script&gt;    ã€€ã€€let app = new Vue({    ã€€ã€€el: &quot;#app&quot;,    ã€€ã€€data: {    ã€€ã€€ã€€ã€€message: &quot;&lt;span&gt;é€šè¿‡åŒæ‹¬å·ç»‘å®š&lt;/span&gt;&quot;,    ã€€ã€€ã€€ã€€html: &quot;&lt;span&gt;htmlæ ‡ç­¾åœ¨æ¸²æŸ“çš„æ—¶å€™è¢«è§£æ&lt;/span&gt;&quot;,    ã€€ã€€ã€€ã€€text: &quot;&lt;span&gt;htmlæ ‡ç­¾åœ¨æ¸²æŸ“çš„æ—¶å€™è¢«æºç è¾“å‡º&lt;/span&gt;&quot;,    ã€€ã€€}     });    &lt;/script&gt;</code></pre><h3 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h3><ul><li>æ˜¾ç¤ºåŸå§‹ä¿¡æ¯è·³è¿‡ç¼–è¯‘è¿‡ç¨‹</li><li>è·³è¿‡è¿™ä¸ªå…ƒç´ å’Œå®ƒçš„å­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ã€‚</li><li>ä¸€äº›é™æ€çš„å†…å®¹ä¸éœ€è¦ç¼–è¯‘åŠ è¿™ä¸ªæŒ‡ä»¤å¯ä»¥åŠ å¿«æ¸²æŸ“</li></ul><pre><code>    &lt;span v-pre&gt;{{ this will not be compiled }}&lt;/span&gt;        &lt;!--  æ˜¾ç¤ºçš„æ˜¯{{ this will not be compiled }}  --&gt;    &lt;span v-pre&gt;{{msg}}&lt;/span&gt;       &lt;!--   å³ä½¿dataé‡Œé¢å®šä¹‰äº†msgè¿™é‡Œä»ç„¶æ˜¯æ˜¾ç¤ºçš„{{msg}}  --&gt;    &lt;script&gt;        new Vue({            el: &#39;#app&#39;,            data: {                msg: &#39;Hello Vue.js&#39;            }        });    &lt;/script&gt;</code></pre><h3 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h3><ul><li>æ‰§è¡Œä¸€æ¬¡æ€§çš„æ’å€¼ã€å½“æ•°æ®æ”¹å˜æ—¶ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šç»§ç»­æ›´æ–°ã€‘</li></ul><pre><code>      &lt;!-- å³ä½¿dataé‡Œé¢å®šä¹‰äº†msg åæœŸæˆ‘ä»¬ä¿®æ”¹äº† ä»ç„¶æ˜¾ç¤ºçš„æ˜¯ç¬¬ä¸€æ¬¡dataé‡Œé¢å­˜å‚¨çš„æ•°æ®å³ Hello Vue.js  --&gt;         &lt;span v-once&gt;{{ msg}}&lt;/span&gt;        &lt;script&gt;        new Vue({            el: &#39;#app&#39;,            data: {                msg: &#39;Hello Vue.js&#39;            }        });    &lt;/script&gt;</code></pre><h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h3><ul><li>v-modelæ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œé™åˆ¶åœ¨inputã€selectã€textareaã€componentsä¸­ä½¿ç”¨</li><li>åŒå‘æ•°æ®ç»‘å®šï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œè§†å›¾ä¹Ÿå°±å‘ç”Ÿå˜åŒ–<br>å½“è§†å›¾å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ•°æ®ä¹Ÿä¼šè·Ÿç€åŒæ­¥å˜åŒ–</li></ul><pre><code>     &lt;div id=&quot;app&quot;&gt;          &lt;div&gt;{{msg}}&lt;/div&gt;          &lt;div&gt;              å½“è¾“å…¥æ¡†ä¸­å†…å®¹æ”¹å˜çš„æ—¶å€™ï¼Œ  é¡µé¢ä¸Šçš„msg  ä¼šè‡ªåŠ¨æ›´æ–°            &lt;input type=&quot;text&quot; v-model=&#39;msg&#39;&gt;          &lt;/div&gt;      &lt;/div&gt;</code></pre><h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><ul><li>ç”¨æ¥ç»‘å®šäº‹ä»¶çš„</li><li>å½¢å¼å¦‚ï¼šv-on:click ç¼©å†™ä¸º @click;</li></ul><pre><code>        &lt;div id=&quot;app&quot;&gt;            &lt;div&gt;{{num}}&lt;/div&gt;            &lt;div&gt;                &lt;!-- å¦‚æœäº‹ä»¶ç›´æ¥ç»‘å®šå‡½æ•°åç§°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šä¼ é€’äº‹ä»¶å¯¹è±¡ä½œä¸ºäº‹ä»¶å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•° --&gt;                &lt;button v-on:click=&#39;handle1&#39;&gt;ç‚¹å‡»1&lt;/button&gt;                &lt;!-- 2ã€å¦‚æœäº‹ä»¶ç»‘å®šå‡½æ•°è°ƒç”¨ï¼Œé‚£ä¹ˆäº‹ä»¶å¯¹è±¡å¿…é¡»ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°æ˜¾ç¤ºä¼ é€’ï¼Œ                     å¹¶ä¸”äº‹ä»¶å¯¹è±¡çš„åç§°å¿…é¡»æ˜¯$event                 --&gt;                &lt;button v-on:click=&#39;handle2(123, 456, $event)&#39;&gt;ç‚¹å‡»2&lt;/button&gt;            &lt;/div&gt;        &lt;/div&gt;        &lt;script type=&quot;text/javascript&quot; src=&quot;js/vue.js&quot;&gt;&lt;/script&gt;        &lt;script type=&quot;text/javascript&quot;&gt;            var vm = new Vue({                el: &#39;#app&#39;,                data: {                    num: 0                },                methods: {                    handle1: function(event) {                        console.log(event.target.innerHTML)                    },                    handle2: function(p, p1, event) {                        console.log(p, p1)                        console.log(event.target.innerHTML)                        this.num++;                    }                }            });        &lt;/script&gt;</code></pre><h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><ul><li>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ event.preventDefault() æˆ– event.stopPropagation() æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚</li><li>Vue ä¸æ¨èæˆ‘ä»¬æ“ä½œDOM ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º v-on æä¾›äº†äº‹ä»¶ä¿®é¥°ç¬¦</li><li>ä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„</li></ul><pre><code>    &lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --&gt;    &lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;    &lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt;    &lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;    &lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è”   å³é˜»æ­¢å†’æ³¡ä¹Ÿé˜»æ­¢é»˜è®¤äº‹ä»¶ --&gt;    &lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;    &lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --&gt;    &lt;!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ --&gt;    &lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;    ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼›ç›¸åº”çš„ä»£ç ä¼šä»¥åŒæ ·çš„é¡ºåºäº§ç”Ÿã€‚å› æ­¤ï¼Œç”¨ v-on:click.prevent.self ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»ï¼Œè€Œ v-on:click.self.prevent åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»ã€‚</code></pre><h3 id="æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="æŒ‰é”®ä¿®é¥°ç¬¦"></a>æŒ‰é”®ä¿®é¥°ç¬¦</h3><ul><li>åœ¨åšé¡¹ç›®ä¸­æœ‰æ—¶ä¼šç”¨åˆ°é”®ç›˜äº‹ä»¶ï¼Œåœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥è¯¦ç»†çš„æŒ‰é”®ã€‚Vue å…è®¸ä¸º v-on åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦</li></ul><pre><code>    &lt;!-- åªæœ‰åœ¨ `keyCode` æ˜¯ 13 æ—¶è°ƒç”¨ `vm.submit()` --&gt;    &lt;input v-on:keyup.13=&quot;submit&quot;&gt;    &lt;!-- -å½“ç‚¹å‡»enter æ—¶è°ƒç”¨ `vm.submit()` --&gt;    &lt;input v-on:keyup.enter=&quot;submit&quot;&gt;    &lt;!--å½“ç‚¹å‡»enteræˆ–è€…spaceæ—¶  æ—¶è°ƒç”¨ `vm.alertMe()`   --&gt;    &lt;input type=&quot;text&quot; v-on:keyup.enter.space=&quot;alertMe&quot; &gt;    å¸¸ç”¨çš„æŒ‰é”®ä¿®é¥°ç¬¦    .enter =&gt;    enteré”®    .tab =&gt; tabé”®    .delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€æŒ‰é”®) =&gt;  åˆ é™¤é”®    .esc =&gt; å–æ¶ˆé”®    .space =&gt;  ç©ºæ ¼é”®    .up =&gt;  ä¸Š    .down =&gt;  ä¸‹    .left =&gt;  å·¦    .right =&gt;  å³    &lt;script&gt;        var vm = new Vue({            el:&quot;#app&quot;,            methods: {                  submit:function(){},                  alertMe:function(){},            }        })    &lt;/script&gt;</code></pre><h3 id="è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å"><a href="#è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å" class="headerlink" title="è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å"></a>è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å</h3><ul><li>åœ¨Vueä¸­å¯ä»¥é€šè¿‡config.keyCodesè‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å</li></ul><pre><code>    &lt;div id=&quot;app&quot;&gt;        é¢„å…ˆå®šä¹‰äº†keycode 116ï¼ˆå³F5ï¼‰çš„åˆ«åä¸ºf5ï¼Œå› æ­¤åœ¨æ–‡å­—è¾“å…¥æ¡†ä¸­æŒ‰ä¸‹F5ï¼Œä¼šè§¦å‘promptæ–¹æ³•        &lt;input type=&quot;text&quot; v-on:keydown.f5=&quot;prompt()&quot;&gt;    &lt;/div&gt;    &lt;script&gt;        Vue.config.keyCodes.f5 = 116;        let app = new Vue({            el: &#39;#app&#39;,            methods: {                prompt: function() {                    alert(&#39;æˆ‘æ˜¯ F5ï¼&#39;);                }            }        });    &lt;/script&gt;</code></pre><h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><ul><li>v-bind æŒ‡ä»¤è¢«ç”¨æ¥å“åº”åœ°æ›´æ–° HTML å±æ€§</li><li>v-bind:href å¯ä»¥ç¼©å†™ä¸º :href;</li></ul><pre><code>    &lt;!-- ç»‘å®šä¸€ä¸ªå±æ€§ --&gt;    &lt;img v-bind:src=&quot;imageSrc&quot;&gt;    &lt;!-- ç¼©å†™ --&gt;    &lt;img :src=&quot;imageSrc&quot;&gt;</code></pre><h4 id="ç»‘å®šå¯¹è±¡"><a href="#ç»‘å®šå¯¹è±¡" class="headerlink" title="ç»‘å®šå¯¹è±¡"></a>ç»‘å®šå¯¹è±¡</h4><ul><li>æˆ‘ä»¬å¯ä»¥ç»™v-bind:class ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥åŠ¨æ€åœ°åˆ‡æ¢classã€‚</li><li>æ³¨æ„ï¼šv-bind:classæŒ‡ä»¤å¯ä»¥ä¸æ™®é€šçš„classç‰¹æ€§å…±å­˜</li></ul><pre><code>    1ã€ v-bind ä¸­æ”¯æŒç»‘å®šä¸€ä¸ªå¯¹è±¡         å¦‚æœç»‘å®šçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ åˆ™ é”®ä¸º å¯¹åº”çš„ç±»å  å€¼ ä¸ºå¯¹åº”dataä¸­çš„æ•°æ®     &lt;!--         HTMLæœ€ç»ˆæ¸²æŸ“ä¸º &lt;ul class=&quot;box textColor textSize&quot;&gt;&lt;/ul&gt;        æ³¨æ„ï¼š            textColorï¼ŒtextSize  å¯¹åº”çš„æ¸²æŸ“åˆ°é¡µé¢ä¸Šçš„CSSç±»å                isColorï¼ŒisSize  å¯¹åº”vue dataä¸­çš„æ•°æ®  å¦‚æœä¸ºtrue åˆ™å¯¹åº”çš„ç±»å æ¸²æŸ“åˆ°é¡µé¢ä¸Š             å½“ isColor å’Œ isSize å˜åŒ–æ—¶ï¼Œclassåˆ—è¡¨å°†ç›¸åº”çš„æ›´æ–°ï¼Œ            ä¾‹å¦‚ï¼Œå°†isSizeæ”¹æˆfalseï¼Œ            classåˆ—è¡¨å°†å˜ä¸º &lt;ul class=&quot;box textColor&quot;&gt;&lt;/ul&gt;    --&gt;    &lt;ul class=&quot;box&quot; v-bind:class=&quot;{textColor:isColor, textSize:isSize}&quot;&gt;        &lt;li&gt;å­¦ä¹ Vue&lt;/li&gt;        &lt;li&gt;å­¦ä¹ Node&lt;/li&gt;        &lt;li&gt;å­¦ä¹ React&lt;/li&gt;    &lt;/ul&gt;      &lt;div v-bind:style=&quot;{color:activeColor,fontSize:activeSize}&quot;&gt;å¯¹è±¡è¯­æ³•&lt;/div&gt;    &lt;sript&gt;    var vm= new Vue({        el:&#39;.box&#39;,        data:{            isColor:true,            isSize:trueï¼Œ            activeColor:&quot;red&quot;,            activeSize:&quot;25px&quot;,        }    })    &lt;/sript&gt;    &lt;style&gt;        .box{            border:1px dashed #f0f;        }        .textColor{            color:#f00;            background-color:#eef;        }        .textSize{            font-size:30px;            font-weight:bold;        }    &lt;/style&gt;</code></pre><h4 id="ç»‘å®šæ•°ç»„"><a href="#ç»‘å®šæ•°ç»„" class="headerlink" title="ç»‘å®šæ•°ç»„"></a>ç»‘å®šæ•°ç»„</h4><pre><code>    2ã€  v-bind ä¸­æ”¯æŒç»‘å®šä¸€ä¸ªæ•°ç»„    æ•°ç»„ä¸­classAå’Œ classB å¯¹åº”ä¸ºdataä¸­çš„æ•°æ®    è¿™é‡Œçš„classA  å¯¹ç”¨data ä¸­çš„  classA    è¿™é‡Œçš„classB  å¯¹ç”¨data ä¸­çš„  classB    &lt;ul class=&quot;box&quot; :class=&quot;[classA, classB]&quot;&gt;        &lt;li&gt;å­¦ä¹ Vue&lt;/li&gt;        &lt;li&gt;å­¦ä¹ Node&lt;/li&gt;        &lt;li&gt;å­¦ä¹ React&lt;/li&gt;    &lt;/ul&gt;    &lt;script&gt;    var vm= new Vue({        el:&#39;.box&#39;,        data:{            classA:â€˜textColorâ€˜,            classB:â€˜textSizeâ€˜        }    })    &lt;/script&gt;    &lt;style&gt;        .box{            border:1px dashed #f0f;        }        .textColor{            color:#f00;            background-color:#eef;        }        .textSize{            font-size:30px;            font-weight:bold;        }    &lt;/style&gt;</code></pre><h4 id="ç»‘å®šå¯¹è±¡å’Œç»‘å®šæ•°ç»„-çš„åŒºåˆ«"><a href="#ç»‘å®šå¯¹è±¡å’Œç»‘å®šæ•°ç»„-çš„åŒºåˆ«" class="headerlink" title="ç»‘å®šå¯¹è±¡å’Œç»‘å®šæ•°ç»„ çš„åŒºåˆ«"></a>ç»‘å®šå¯¹è±¡å’Œç»‘å®šæ•°ç»„ çš„åŒºåˆ«</h4><ul><li>ç»‘å®šå¯¹è±¡çš„æ—¶å€™ å¯¹è±¡çš„å±æ€§ å³è¦æ¸²æŸ“çš„ç±»å å¯¹è±¡çš„å±æ€§å€¼å¯¹åº”çš„æ˜¯ data ä¸­çš„æ•°æ®</li><li>ç»‘å®šæ•°ç»„çš„æ—¶å€™æ•°ç»„é‡Œé¢å­˜çš„æ˜¯data ä¸­çš„æ•°æ®</li></ul><h4 id="ç»‘å®šstyle"><a href="#ç»‘å®šstyle" class="headerlink" title="ç»‘å®šstyle"></a>ç»‘å®šstyle</h4><ul><li>ä¸è¿‡ä¸€èˆ¬å¾ˆå°‘è¿™ä¹ˆç”¨</li></ul><pre><code>     &lt;div v-bind:style=&quot;styleObject&quot;&gt;ç»‘å®šæ ·å¼å¯¹è±¡&lt;/div&gt;&#39;    &lt;!-- CSS å±æ€§åå¯ä»¥ç”¨é©¼å³°å¼ (camelCase) æˆ–çŸ­æ¨ªçº¿åˆ†éš” (kebab-caseï¼Œè®°å¾—ç”¨å•å¼•å·æ‹¬èµ·æ¥)    --&gt;     &lt;div v-bind:style=&quot;{ color: activeColor, fontSize: fontSize,background:&#39;red&#39; }&quot;&gt;å†…è”æ ·å¼&lt;/div&gt;    &lt;!--ç»„è¯­æ³•å¯ä»¥å°†å¤šä¸ªæ ·å¼å¯¹è±¡åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´  --&gt;    &lt;div v-bind:style=&quot;[styleObj1, styleObj2]&quot;&gt;&lt;/div&gt;    &lt;script&gt;        new Vue({          el: &#39;#app&#39;,          data: {            styleObject: {              color: &#39;green&#39;,              fontSize: &#39;30px&#39;,              background:&#39;red&#39;            }ï¼Œ            activeColor: &#39;green&#39;,               fontSize: &quot;30px&quot;          },          styleObj1: {                 color: &#39;red&#39;           },           styleObj2: {                fontSize: &#39;30px&#39;           }    &lt;/script&gt;</code></pre><h3 id="åˆ†æ”¯ç»“æ„"><a href="#åˆ†æ”¯ç»“æ„" class="headerlink" title="åˆ†æ”¯ç»“æ„"></a>åˆ†æ”¯ç»“æ„</h3><h4 id="v-if-ä½¿ç”¨åœºæ™¯"><a href="#v-if-ä½¿ç”¨åœºæ™¯" class="headerlink" title="v-if ä½¿ç”¨åœºæ™¯"></a>v-if ä½¿ç”¨åœºæ™¯</h4><ul><li>1- å¤šä¸ªå…ƒç´  é€šè¿‡æ¡ä»¶åˆ¤æ–­å±•ç¤ºæˆ–è€…éšè—æŸä¸ªå…ƒç´ ã€‚æˆ–è€…å¤šä¸ªå…ƒç´ </li><li>2- è¿›è¡Œä¸¤ä¸ªè§†å›¾ä¹‹é—´çš„åˆ‡æ¢</li></ul><pre><code>    &lt;div id=&quot;app&quot;&gt;            &lt;!--  åˆ¤æ–­æ˜¯å¦åŠ è½½ï¼Œå¦‚æœä¸ºçœŸï¼Œå°±åŠ è½½ï¼Œå¦åˆ™ä¸åŠ è½½--&gt;            &lt;span v-if=&quot;flag&quot;&gt;               å¦‚æœflagä¸ºtrueåˆ™æ˜¾ç¤º,falseä¸æ˜¾ç¤º!            &lt;/span&gt;    &lt;/div&gt;    &lt;script&gt;        var vm = new Vue({            el:&quot;#app&quot;,            data:{                flag:true            }        })    &lt;/script&gt;    ----------------------------------------------------------        &lt;div v-if=&quot;type === &#39;A&#39;&quot;&gt;           A        &lt;/div&gt;      &lt;!-- v-else-ifç´§è·Ÿåœ¨v-ifæˆ–v-else-ifä¹‹å   è¡¨ç¤ºv-ifæ¡ä»¶ä¸æˆç«‹æ—¶æ‰§è¡Œ--&gt;        &lt;div v-else-if=&quot;type === &#39;B&#39;&quot;&gt;           B        &lt;/div&gt;        &lt;div v-else-if=&quot;type === &#39;C&#39;&quot;&gt;           C        &lt;/div&gt;      &lt;!-- v-elseç´§è·Ÿåœ¨v-ifæˆ–v-else-ifä¹‹å--&gt;        &lt;div v-else&gt;           Not A/B/C        &lt;/div&gt;    &lt;script&gt;        new Vue({          el: &#39;#app&#39;,          data: {            type: &#39;C&#39;          }        })    &lt;/script&gt;</code></pre><h4 id="v-show-å’Œ-v-ifçš„åŒºåˆ«"><a href="#v-show-å’Œ-v-ifçš„åŒºåˆ«" class="headerlink" title="v-show å’Œ v-ifçš„åŒºåˆ«"></a>v-show å’Œ v-ifçš„åŒºåˆ«</h4><ul><li>v-showæœ¬è´¨å°±æ˜¯æ ‡ç­¾displayè®¾ç½®ä¸ºnoneï¼Œæ§åˆ¶éšè—<ul><li>v-showåªç¼–è¯‘ä¸€æ¬¡ï¼Œåé¢å…¶å®å°±æ˜¯æ§åˆ¶cssï¼Œè€Œv-ifä¸åœçš„é”€æ¯å’Œåˆ›å»ºï¼Œæ•…v-showæ€§èƒ½æ›´å¥½ä¸€ç‚¹ã€‚</li></ul></li><li>v-ifæ˜¯åŠ¨æ€çš„å‘DOMæ ‘å†…æ·»åŠ æˆ–è€…åˆ é™¤DOMå…ƒç´ <ul><li>v-ifåˆ‡æ¢æœ‰ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘/å¸è½½çš„è¿‡ç¨‹ï¼Œåˆ‡æ¢è¿‡ç¨‹ä¸­åˆé€‚åœ°é”€æ¯å’Œé‡å»ºå†…éƒ¨çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶</li></ul></li><li>v-if æ˜¯â€œçœŸæ­£çš„â€æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºã€‚<br>v-if ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚<br>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ v-show å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS è¿›è¡Œåˆ‡æ¢ã€‚<br>ä¸€èˆ¬æ¥è¯´ï¼Œ v-if æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤ªå¯èƒ½æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ v-if è¾ƒå¥½ã€‚</li></ul><h3 id="å¾ªç¯ç»“æ„"><a href="#å¾ªç¯ç»“æ„" class="headerlink" title="å¾ªç¯ç»“æ„"></a>å¾ªç¯ç»“æ„</h3><h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><ul><li>ç”¨äºå¾ªç¯çš„æ•°ç»„é‡Œé¢çš„å€¼å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ™®é€šå…ƒç´ </li></ul><pre><code>    &lt;ul id=&quot;example-1&quot;&gt;       &lt;!-- å¾ªç¯ç»“æ„-éå†æ•°ç»„          item æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªåå­—  ä»£è¡¨æ•°ç»„é‡Œé¢çš„æ¯ä¸€é¡¹          itemså¯¹åº”çš„æ˜¯ dataä¸­çš„æ•°ç»„--&gt;      &lt;li v-for=&quot;item in items&quot;&gt;        {{ item.message }}      &lt;/li&gt;     &lt;/ul&gt;    &lt;script&gt;     new Vue({      el: &#39;#example-1&#39;,      data: {        items: [          { message: &#39;Foo&#39; },          { message: &#39;Bar&#39; }        ]ï¼Œ      }    })    &lt;/script&gt;</code></pre><ul><li>ä¸æ¨èåŒæ—¶ä½¿ç”¨ v-if å’Œ v-for</li><li>å½“ v-if ä¸ v-for ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œv-for å…·æœ‰æ¯” v-if æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚</li></ul><pre><code>       &lt;!--  å¾ªç¯ç»“æ„-éå†å¯¹è±¡            v ä»£è¡¨   å¯¹è±¡çš„value            k  ä»£è¡¨å¯¹è±¡çš„ é”®             i  ä»£è¡¨ç´¢å¼•            ---&gt;          &lt;div v-if=&#39;v==13&#39; v-for=&#39;(v,k,i) in obj&#39;&gt;{{v + '---' + k + '---' + i}}&lt;/div&gt;    &lt;script&gt;     new Vue({      el: &#39;#example-1&#39;,      data: {        items: [          { message: &#39;Foo&#39; },          { message: &#39;Bar&#39; }        ]ï¼Œ        obj: {            uname: &#39;zhangsan&#39;,            age: 13,            gender: &#39;female&#39;        }      }    })    &lt;/script&gt;</code></pre><ul><li>key çš„ä½œç”¨<ul><li>keyæ¥ç»™æ¯ä¸ªèŠ‚ç‚¹åšä¸€ä¸ªå”¯ä¸€æ ‡è¯†</li><li>keyçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOM</li></ul></li></ul><pre><code>    &lt;ul&gt;      &lt;li v-for=&quot;(item,index) in items&quot; :key=&quot;index&quot;&gt;...&lt;/li&gt;    &lt;/ul&gt;</code></pre><h3 id="æ¡ˆä¾‹é€‰é¡¹å¡"><a href="#æ¡ˆä¾‹é€‰é¡¹å¡" class="headerlink" title="æ¡ˆä¾‹é€‰é¡¹å¡"></a>æ¡ˆä¾‹é€‰é¡¹å¡</h3><h4 id="1ã€-HTML-ç»“æ„"><a href="#1ã€-HTML-ç»“æ„" class="headerlink" title="1ã€ HTML ç»“æ„"></a>1ã€ HTML ç»“æ„</h4><pre><code>&lt;div id=&quot;app&quot;&gt;    &lt;div class=&quot;tab&quot;&gt;        &lt;!--  tabæ   --&gt;        &lt;ul&gt;            &lt;li class=&quot;active&quot;&gt;apple&lt;/li&gt;            &lt;li class=&quot;&quot;&gt;orange&lt;/li&gt;            &lt;li class=&quot;&quot;&gt;lemon&lt;/li&gt;        &lt;/ul&gt;          &lt;!--  å¯¹åº”æ˜¾ç¤ºçš„å›¾ç‰‡ --&gt;        &lt;div class=&quot;current&quot;&gt;&lt;img src=&quot;img/apple.png&quot;&gt;&lt;/div&gt;        &lt;div class=&quot;&quot;&gt;&lt;img src=&quot;img/orange.png&quot;&gt;&lt;/div&gt;        &lt;div class=&quot;&quot;&gt;&lt;img src=&quot;img/lemon.png&quot;&gt;&lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;</code></pre><h4 id="2ã€-æä¾›çš„æ•°æ®"><a href="#2ã€-æä¾›çš„æ•°æ®" class="headerlink" title="2ã€ æä¾›çš„æ•°æ®"></a>2ã€ æä¾›çš„æ•°æ®</h4><pre><code>     list: [{                id: 1,                title: &#39;apple&#39;,                path: &#39;img/apple.png&#39;            }, {                id: 2,                title: &#39;orange&#39;,                path: &#39;img/orange.png&#39;            }, {                id: 3,                title: &#39;lemon&#39;,                path: &#39;img/lemon.png&#39;            }]</code></pre><h4 id="3ã€-æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢"><a href="#3ã€-æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢" class="headerlink" title="3ã€ æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢"></a>3ã€ æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢</h4><ul><li>æŠŠtabæ  ä¸­çš„æ•°æ›¿æ¢åˆ°é¡µé¢ä¸Š<ul><li>æŠŠ data ä¸­ title åˆ©ç”¨ v-for å¾ªç¯æ¸²æŸ“åˆ°é¡µé¢ä¸Š</li><li>æŠŠ data ä¸­ pathåˆ©ç”¨ v-for å¾ªç¯æ¸²æŸ“åˆ°é¡µé¢ä¸Š</li></ul></li></ul><pre><code>    &lt;div id=&quot;app&quot;&gt;        &lt;div class=&quot;tab&quot;&gt;              &lt;ul&gt;                  &lt;!--                      1ã€ç»‘å®škeyçš„ä½œç”¨ æé«˜Vueçš„æ€§èƒ½                     2ã€ key éœ€è¦æ˜¯å”¯ä¸€çš„æ ‡è¯† æ‰€ä»¥éœ€è¦ä½¿ç”¨idï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨index ï¼Œ                        index ä¹Ÿæ˜¯å”¯ä¸€çš„                     3ã€ item æ˜¯ æ•°ç»„ä¸­å¯¹åº”çš„æ¯ä¸€é¡¹                      4ã€ index æ˜¯ æ¯ä¸€é¡¹çš„ ç´¢å¼•                --&gt;                   &lt;li :key=&#39;item.id&#39; v-for=&#39;(item,index) in list&#39;&gt;{{item.title}}&lt;/li&gt;              &lt;/ul&gt;              &lt;div  :key=&#39;item.id&#39; v-for=&#39;(item, index) in list&#39;&gt;                    &lt;!-- :  æ˜¯ v-bind çš„ç®€å†™   ç»‘å®šå±æ€§ä½¿ç”¨ v-bind --&gt;                    &lt;img :src=&quot;item.path&quot;&gt;              &lt;/div&gt;        &lt;/div&gt;    &lt;/div&gt;    &lt;script&gt;        new  Vue({            //  æŒ‡å®š æ“ä½œå…ƒç´  æ˜¯ id ä¸ºapp çš„             el: &#39;#app&#39;,                data: {                    list: [{                        id: 1,                        title: &#39;apple&#39;,                        path: &#39;img/apple.png&#39;                    }, {                        id: 2,                        title: &#39;orange&#39;,                        path: &#39;img/orange.png&#39;                    }, {                        id: 3,                        title: &#39;lemon&#39;,                        path: &#39;img/lemon.png&#39;                    }]                }        })    &lt;/script&gt;</code></pre><h4 id="4ã€-ç»™æ¯ä¸€ä¸ªtabæ æ·»åŠ äº‹ä»¶-å¹¶è®©é€‰ä¸­çš„é«˜äº®"><a href="#4ã€-ç»™æ¯ä¸€ä¸ªtabæ æ·»åŠ äº‹ä»¶-å¹¶è®©é€‰ä¸­çš„é«˜äº®" class="headerlink" title="4ã€ ç»™æ¯ä¸€ä¸ªtabæ æ·»åŠ äº‹ä»¶,å¹¶è®©é€‰ä¸­çš„é«˜äº®"></a>4ã€ ç»™æ¯ä¸€ä¸ªtabæ æ·»åŠ äº‹ä»¶,å¹¶è®©é€‰ä¸­çš„é«˜äº®</h4><ul><li>4.1 ã€è®©é»˜è®¤çš„ç¬¬ä¸€é¡¹tabæ é«˜äº®<ul><li>tabæ é«˜äº® é€šè¿‡æ·»åŠ ç±»åactive æ¥å®ç° ï¼ˆCSS active çš„æ ·å¼å·²ç»æå‰å†™å¥½ï¼‰<ul><li>åœ¨data ä¸­å®šä¹‰ä¸€ä¸ª é»˜è®¤çš„ ç´¢å¼• currentIndex ä¸º 0</li><li>ç»™ç¬¬ä¸€ä¸ªli æ·»åŠ  active çš„ç±»å<ul><li>é€šè¿‡åŠ¨æ€ç»‘å®šclass æ¥å®ç° ç¬¬ä¸€ä¸ªli çš„ç´¢å¼•ä¸º 0 å’Œ currentIndex çš„å€¼åˆšå¥½ç›¸ç­‰</li><li>currentIndex === index å¦‚æœç›¸ç­‰ åˆ™æ·»åŠ ç±»å active å¦åˆ™ æ·»åŠ  ç©ºç±»å</li></ul></li></ul></li></ul></li></ul><ul><li>4.2 ã€è®©é»˜è®¤çš„ç¬¬ä¸€é¡¹tabæ å¯¹åº”çš„div æ˜¾ç¤º<ul><li>å®ç°æ€è·¯ å’Œ ç¬¬ä¸€ä¸ª tab å®ç°æ€è·¯ä¸€æ · åªä¸è¿‡ è¿™é‡Œæ§åˆ¶ç¬¬ä¸€ä¸ªdiv æ˜¾ç¤ºçš„ç±»åæ˜¯ current</li></ul></li></ul><pre><code>      &lt;ul&gt;           &lt;!-- åŠ¨æ€ç»‘å®šclass   æœ‰ active   ç±»åé«˜äº®  æ—  active   ä¸é«˜äº®--&gt;           &lt;li  :class=&#39;currentIndex==index?&quot;active&quot;:&quot;&quot;&#39;               :key=&#39;item.id&#39; v-for=&#39;(item,index) in list&#39;               &gt;{{item.title}}&lt;/li&gt;      &lt;/ul&gt;        &lt;!-- åŠ¨æ€ç»‘å®šclass   æœ‰ current  ç±»åæ˜¾ç¤º  æ—  current  éšè—--&gt;      &lt;div :class=&#39;currentIndex==index?&quot;current&quot;:&quot;&quot;&#39;            :key=&#39;item.id&#39; v-for=&#39;(item, index) in list&#39;&gt;            &lt;!-- :  æ˜¯ v-bind çš„ç®€å†™   ç»‘å®šå±æ€§ä½¿ç”¨ v-bind --&gt;            &lt;img :src=&quot;item.path&quot;&gt;      &lt;/div&gt;    &lt;script&gt;        new  Vue({            el: &#39;#app&#39;,                data: {                    currentIndex: 0, // é€‰é¡¹å¡å½“å‰çš„ç´¢å¼•  é»˜è®¤ä¸º 0                      list: [{                        id: 1,                        title: &#39;apple&#39;,                        path: &#39;img/apple.png&#39;                    }, {                        id: 2,                        title: &#39;orange&#39;,                        path: &#39;img/orange.png&#39;                    }, {                        id: 3,                        title: &#39;lemon&#39;,                        path: &#39;img/lemon.png&#39;                    }]                }        })    &lt;/script&gt;</code></pre><ul><li>4.3 ã€ç‚¹å‡»æ¯ä¸€ä¸ªtabæ  å½“å‰çš„é«˜äº® å…¶ä»–çš„å–æ¶ˆé«˜äº®<ul><li>ç»™æ¯ä¸€ä¸ªliæ·»åŠ ç‚¹å‡»äº‹ä»¶</li><li>è®©å½“å‰çš„ç´¢å¼• index å’Œ å½“å‰ currentIndex çš„ å€¼ è¿›é¡¹æ¯”è¾ƒ</li><li>å¦‚æœç›¸ç­‰ åˆ™å½“å‰li æ·»åŠ active ç±»å å½“å‰çš„ li é«˜äº® å½“å‰å¯¹åº”ç´¢å¼•çš„ div æ·»åŠ  current å½“å‰div æ˜¾ç¤º å…¶ä»–éšè—</li></ul></li></ul><pre><code>    &lt;div id=&quot;app&quot;&gt;        &lt;div class=&quot;tab&quot;&gt;            &lt;ul&gt;                &lt;!--  é€šè¿‡v-on æ·»åŠ ç‚¹å‡»äº‹ä»¶   éœ€è¦æŠŠå½“å‰li çš„ç´¢å¼•ä¼ è¿‡å»                 --&gt;                &lt;li v-on:click=&#39;change(index)&#39;                                                   :class=&#39;currentIndex==index?&quot;active&quot;:&quot;&quot;&#39;                                       :key=&#39;item.id&#39;                     v-for=&#39;(item,index) in list&#39;&gt;{{item.title}}&lt;/li&gt;            &lt;/ul&gt;            &lt;div :class=&#39;currentIndex==index?&quot;current&quot;:&quot;&quot;&#39;                  :key=&#39;item.id&#39; v-for=&#39;(item, index) in list&#39;&gt;                &lt;img :src=&quot;item.path&quot;&gt;            &lt;/div&gt;        &lt;/div&gt;    &lt;/div&gt;    &lt;script&gt;        new  Vue({            el: &#39;#app&#39;,                data: {                    currentIndex: 0, // é€‰é¡¹å¡å½“å‰çš„ç´¢å¼•  é»˜è®¤ä¸º 0                      list: [{                        id: 1,                        title: &#39;apple&#39;,                        path: &#39;img/apple.png&#39;                    }, {                        id: 2,                        title: &#39;orange&#39;,                        path: &#39;img/orange.png&#39;                    }, {                        id: 3,                        title: &#39;lemon&#39;,                        path: &#39;img/lemon.png&#39;                    }]                },                methods: {                    change: function(index) {                        // é€šè¿‡ä¼ å…¥è¿‡æ¥çš„ç´¢å¼•æ¥è®©å½“å‰çš„  currentIndex  å’Œç‚¹å‡»çš„index å€¼ ç›¸ç­‰                         //  ä»è€Œå®ç° æ§åˆ¶ç±»å                            this.currentIndex = index;                    }                }        })    &lt;/script&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element-uiçš„ä½¿ç”¨</title>
      <link href="/2020/05/12/element-ui/"/>
      <url>/2020/05/12/element-ui/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="npmå®‰è£…"><a href="#npmå®‰è£…" class="headerlink" title="npmå®‰è£…"></a>npmå®‰è£…</h3><ul><li>æ¨èä½¿ç”¨ npm çš„æ–¹å¼å®‰è£…ï¼Œå®ƒèƒ½æ›´å¥½åœ°å’Œ webpack æ‰“åŒ…å·¥å…·é…åˆä½¿ç”¨ã€‚</li></ul><pre><code>    npm i element-ui -S</code></pre><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><ul><li>ç›®å‰å¯ä»¥é€šè¿‡ unpkg.com/element-ui è·å–åˆ°æœ€æ–°ç‰ˆæœ¬çš„èµ„æºï¼Œåœ¨é¡µé¢ä¸Šå¼•å…¥ js å’Œ css æ–‡ä»¶å³å¯å¼€å§‹ä½¿ç”¨ã€‚</li></ul><pre><code>    &lt;!-- å¼•å…¥æ ·å¼ --&gt;    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/element-ui/lib/theme-chalk/index.css&quot;&gt;    &lt;!-- å¼•å…¥ç»„ä»¶åº“ --&gt;    &lt;script src=&quot;https://unpkg.com/element-ui/lib/index.js&quot;&gt;&lt;/script&gt;</code></pre><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><h3 id="å¼•å…¥Element"><a href="#å¼•å…¥Element" class="headerlink" title="å¼•å…¥Element"></a>å¼•å…¥Element</h3><ul><li>ä½ å¯ä»¥å¼•å…¥æ•´ä¸ª Elementï¼Œæˆ–æ˜¯æ ¹æ®éœ€è¦ä»…å¼•å…¥éƒ¨åˆ†ç»„ä»¶ã€‚æˆ‘ä»¬å…ˆä»‹ç»å¦‚ä½•å¼•å…¥å®Œæ•´çš„ Elementã€‚</li></ul><h3 id="å®Œæ•´å¼•å…¥"><a href="#å®Œæ•´å¼•å…¥" class="headerlink" title="å®Œæ•´å¼•å…¥"></a>å®Œæ•´å¼•å…¥</h3><ul><li>ä½ å¯ä»¥åœ¨main.jsä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹</li></ul><pre><code>    import ElementUI from &#39;element-ui&#39;;    import &#39;element-ui/lib/theme-chalk/index.css&#39;;    Vue.use(ElementUI);</code></pre><ul><li>ä»¥ä¸Šä»£ç ä¾¿å®Œæˆäº† Element çš„å¼•å…¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ·å¼æ–‡ä»¶éœ€è¦å•ç‹¬å¼•å…¥ã€‚</li><li>å¦‚æœåœ¨éœ€è¦ç”¨åˆ°å¤§éƒ¨åˆ†ç»„ä»¶çš„æ—¶å€™å¯ä»¥å®Œæ•´å¼•å…¥ï¼Œåªæ˜¯ç”¨åˆ°å°‘éƒ¨åˆ†è½¯ä»¶å»ºè®®æŒ‰éœ€å¼•å…¥ï¼Œå¯ä»¥å‡å°‘é¡¹ç›®ä½“ç§¯</li></ul><h3 id="æŒ‰éœ€å¼•å…¥"><a href="#æŒ‰éœ€å¼•å…¥" class="headerlink" title="æŒ‰éœ€å¼•å…¥"></a>æŒ‰éœ€å¼•å…¥</h3><ul><li><p>å€ŸåŠ© babel-plugin-componentï¼Œæˆ‘ä»¬å¯ä»¥åªå¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œä»¥è¾¾åˆ°å‡å°é¡¹ç›®ä½“ç§¯çš„ç›®çš„ã€‚</p></li><li><p>é¦–å…ˆï¼Œå®‰è£… babel-plugin-componentï¼š</p></li></ul><pre><code>    npm install babel-plugin-component -D</code></pre><ul><li>è¿™é‡Œå®˜æ–¹æ–‡æ¡£é‡Œé¢æ˜¯å°† .babelrc ä¿®æ”¹ä¸ºï¼š</li></ul><pre><code>    {      &quot;presets&quot;: [[&quot;es2015&quot;, { &quot;modules&quot;: false }]],      &quot;plugins&quot;: [        [          &quot;component&quot;,          {            &quot;libraryName&quot;: &quot;element-ui&quot;,            &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;          }        ]      ]    }</code></pre><ul><li>ä½†æ˜¯æˆ‘ä»¬å¯èƒ½æ²¡æœ‰ï¼Œåªæœ‰ä¸€ä¸ªbabel.config.js,é‡Œé¢çš„å†…å®¹æ¯”èµ·ä¸Šé¢åªèƒ½è§£æes2015è¦å¼ºå¤§å¾ˆå¤šï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ä¸Šé¢çš„es2015</li></ul><p>â€œpresetsâ€: [<br>    â€˜@vue/cli-plugin-babel/presetâ€™<br>  ],</p><ul><li>æ‰€ä»¥æˆ‘ä»¬åªéœ€æŠŠè¿™ä¸ªåŠ å…¥babel.config.jsä¸­</li></ul><pre><code>    &quot;plugins&quot;: [        [          &quot;component&quot;,          {            &quot;libraryName&quot;: &quot;element-ui&quot;,            &quot;styleLibraryName&quot;: &quot;theme-chalk&quot;          }        ]      ]</code></pre><ul><li>æ¥ä¸‹æ¥ï¼Œå¦‚æœä½ åªå¸Œæœ›å¼•å…¥éƒ¨åˆ†ç»„ä»¶ï¼Œæ¯”å¦‚ Button å’Œ Selectï¼Œé‚£ä¹ˆéœ€è¦åœ¨ main.js ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</li></ul><pre><code>    import { Button, Select } from &#39;element-ui&#39;;    Vue.component(Button.name, Button);    Vue.component(Select.name, Select);    /* æˆ–å†™ä¸º     * Vue.use(Button)     * Vue.use(Select)     */</code></pre><h3 id="Messageç»„ä»¶"><a href="#Messageç»„ä»¶" class="headerlink" title="Messageç»„ä»¶"></a>Messageç»„ä»¶</h3><h4 id="å…¨å±€ä½¿ç”¨"><a href="#å…¨å±€ä½¿ç”¨" class="headerlink" title="å…¨å±€ä½¿ç”¨"></a>å…¨å±€ä½¿ç”¨</h4><ul><li>å¦‚æœæ¯ä¸ªæ–‡ä»¶éƒ½è¦importå¯¼å…¥é‚£å°±å¤ªéº»çƒ¦äº†</li><li>æˆ‘ä»¬ç”¨åˆ°äº†Messageç»„ä»¶ï¼Œå°±ä»¥Messageç»„ä»¶ä¸ºä¾‹,å†™å…¥main.jsä¸­</li></ul><pre><code>    import { Message } from &#39;element-ui&#39;    Vue.prototype.$message = Message;</code></pre><ul><li>è¿™æ ·æˆ‘ä»¬åœ¨å…¨å±€è¦æ˜¯å“Ÿä¸ªMessageç»„ä»¶å°±å¯ä»¥è¿™æ ·</li></ul><pre><code>    this.$message.info(&#39;æ¶ˆæ¯&#39;)    this.$message.warning(&#39;è­¦å‘Š&#39;)    this.$message.success(&#39;æˆåŠŸ&#39;)    this.$message.error(&#39;é”™è¯¯&#39;)</code></pre><h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><h3 id="è¯·æ±‚æ•°æ®"><a href="#è¯·æ±‚æ•°æ®" class="headerlink" title="è¯·æ±‚æ•°æ®"></a>è¯·æ±‚æ•°æ®</h3><pre><code>    getOrderList() {          this.loading = true       //åŠ è½½loading          this.axios            .get(&quot;/orders&quot;,{              params:{                pageSize: 5,        //æ¯é¡µè·³è››                pageNum:this.pageNum    //å½“å‰é¡µæ•°              }            })            .then(res =&gt; {              this.loading = false;              this.list = res.list;     //å½“å‰é¡µé¢æ•°æ®              this.total = res.total;   //æ€»æ¡æ•°            })            .catch(() =&gt; {              this.loading = false;            });</code></pre><h3 id="Paginationç»„ä»¶"><a href="#Paginationç»„ä»¶" class="headerlink" title="Paginationç»„ä»¶"></a>Paginationç»„ä»¶</h3><ul><li>åšä¸€ä¸ªåº”ç”¨ä¸å¯èƒ½ä¸€ä¸ªé¡µé¢éƒ½èƒ½æŠŠæ‰€æœ‰æ•°æ®åŠ è½½å®Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å®ç°åˆ†é¡µæ•ˆæœï¼Œä¸€é¡µåªå®ç°å°‘é‡çš„æ•°æ®ï¼Œå¯ä»¥åˆ†å¾ˆå¤šé¡µ</li></ul><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ul><li>æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œè¦åœ¨componentsä¸­å¼•å…¥ï¼Œè¿™é‡Œçš„è¯­æ³•å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼ŒPagination.nameå°±ç›¸å½“äº<el-pagination></el-pagination>ï¼Œè¿™ä¸ªæ˜¯åœ¨htmlä¸­å¼•å…¥çš„ç»„ä»¶</li></ul><pre><code>    import { Pagination } from &quot;element-ui&quot;;    components: {        [Pagination.name]: Pagination      }     &lt;el-pagination class=&quot;pagination&quot; :pageSize=&quot;pageSize&quot; background layout=&quot;prev, pager, next&quot; :total=&quot;total&quot; @current-change=&quot;handelchange&quot;&gt;&lt;/el-pagination&gt;</code></pre><ul><li>è¿™é‡Œé¢çš„ç»„ä»¶åŒ…å«å¾ˆå¤šå±æ€§ï¼ŒpageSizeå°±æ˜¯é¡µé¢çš„å¤§å°å¯ä»¥åŒ…å«å‡ æ¡æ•°æ®ï¼Œtotalè¡¨ç¤ºæ€»æ•°æ®ï¼Œæ³¨æ„å±æ€§çš„è°ƒç”¨å¯èƒ½æœ‰é©¼å³°å‘½åæ³•ï¼Œæ¯”å¦‚æ–‡æ¡£ä¸­è°ƒç”¨å±æ€§page-sizeä¼šå‡ºé”™ï¼Œä½ è¦æ”¹æˆpageSize</li><li>current-changeæ˜¯äº‹ä»¶åç§°ï¼Œpageé¡µæ”¹å˜çš„æ—¶å€™ä¼šè§¦å‘ï¼Œå›è°ƒå‚æ•°æ˜¯å½“å‰é¡µæ•°</li></ul><pre><code>     //ç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œä¼šæœ‰ä¸€ä¸ªå›è°ƒå‚æ•°ï¼Œè¿™ä¸ªå›è°ƒå‚æ•°å°±æ˜¯å½“å‰çš„é¡µæ•°        handelchange(pageNum){          this.pageNum = pageNum          this.getOrderList()        }</code></pre><h2 id="åŠ è½½æ›´å¤š"><a href="#åŠ è½½æ›´å¤š" class="headerlink" title="åŠ è½½æ›´å¤š"></a>åŠ è½½æ›´å¤š</h2><h3 id="Buttonç»„ä»¶"><a href="#Buttonç»„ä»¶" class="headerlink" title="Buttonç»„ä»¶"></a>Buttonç»„ä»¶</h3><ul><li>ç‚¹å‡»Buttonç»„ä»¶ä¼šåŠ è½½æ›´å¤šæ•°æ®</li></ul><h4 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ul><li>ç»„ä»¶çš„loadingå±æ€§æ˜¯æ˜¾ç¤ºåŠ è½½loadingçš„ï¼Œéœ€è¦åŠ¨æ€ç»‘å®šï¼Œåœ¨åŠ è½½æ—¶æ˜¾ç¤ºï¼ŒåŠ è½½å®Œæˆåå…³é—­ï¼Œç»‘å®šåˆ°getOrderList</li></ul><pre><code>    import { Button } from &quot;element-ui&quot;;    components: {        [Button.name]: Button,      }    &lt;el-button type=&quot;primary&quot; :loading=&quot;loading&quot; @click=&quot;loadMore&quot;&gt;åŠ è½½æ›´å¤š&lt;/el-button&gt;</code></pre><ul><li>loadMoreäº‹ä»¶æ˜¯åŠ è½½æ›´å¤š</li></ul><pre><code>    loadMore(){          this.pageNum++    //æ¯ç‚¹å‡»ä¸€æ¬¡é¡µæ•°åŠ 1          this.getOrderList()        }</code></pre><ul><li>æˆ‘ä»¬å‘ç°è¿”å›çš„æ•°æ®æ²¡æœ‰æ‹¼æ¥ï¼Œåªæœ‰è¯·æ±‚çš„åˆ°æ•°æ®ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒæ‹¼æ¥</li></ul><pre><code>    this.list = this.list.concat(res.list);   //æŠŠè¿”å›çš„æ•°æ®æ‹¼æ¥åˆ°ä¸€èµ·</code></pre>]]></content>
      
      
      <categories>
          
          <category> element-ui </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootå®‰å…¨ï¼ˆspring securityï¼‰</title>
      <link href="/2020/02/14/springboot-yu-an-quan/"/>
      <url>/2020/02/14/springboot-yu-an-quan/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringBootä¸å®‰å…¨ï¼ˆspring-securityï¼‰"><a href="#SpringBootä¸å®‰å…¨ï¼ˆspring-securityï¼‰" class="headerlink" title="SpringBootä¸å®‰å…¨ï¼ˆspring securityï¼‰"></a>SpringBootä¸å®‰å…¨ï¼ˆspring securityï¼‰</h1><h2 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h2><p>æ¯”è¾ƒå¸¸è§çš„å®‰å…¨æ¡†æ¶æœ‰ï¼šApacheçš„shiroã€Spring Securityç­‰ç­‰ï¼Œç›¸ä¿¡ç”¨shiroçš„ç”¨æˆ·ç¾¤ä½“æ›´å¤šï¼Œè€ŒsecurityåŠŸèƒ½æ›´å¤šä¸€äº›ã€‚<br>Spring Securityæ˜¯é’ˆå¯¹Springé¡¹ç›®çš„å®‰å…¨æ¡†æ¶ï¼Œä¹Ÿæ˜¯Spring Bootåº•å±‚å®‰å…¨æ¨¡å—é»˜è®¤çš„æŠ€æœ¯é€‰å‹ã€‚ä»–å¯ä»¥å®ç°å¼ºå¤§çš„webå®‰å…¨æ§åˆ¶ã€‚å¯¹äºå®‰å…¨æ§åˆ¶ï¼Œæˆ‘ä»¬ä»…éœ€å¼•å…¥spring-boot-starter-securityæ¨¡å—ï¼Œè¿›è¡Œå°‘é‡çš„é…ç½®ï¼Œå³å¯å®ç°å¼ºå¤§çš„å®‰å…¨ç®¡ç†ã€‚å‡ ä¸ªç±»ï¼š</p><ul><li>WebSecurityConfigurerAdapterï¼šè‡ªå®šä¹‰Securityç­–ç•¥</li><li>AuthenticationManagerBuilderï¼šè‡ªå®šä¹‰è®¤è¯ç­–ç•¥</li><li>@EnableWebSecurityï¼šå¼€å¯WebSecurityæ¨¡å¼</li></ul><ul><li>åº”ç”¨ç¨‹åºçš„ä¸¤ä¸ªä¸»è¦åŒºåŸŸæ˜¯â€œè®¤è¯â€å’Œâ€œæˆæƒâ€ï¼ˆæˆ–è€…è®¿é—®æ§åˆ¶ï¼‰ã€‚è¿™ä¸¤ä¸ªä¸»è¦åŒºåŸŸæ˜¯Spring Security çš„ä¸¤ä¸ªç›®æ ‡ã€‚</li></ul><ul><li>â€œè®¤è¯â€ï¼ˆAuthenticationï¼‰ï¼Œæ˜¯å»ºç«‹ä¸€ä¸ªä»–å£°æ˜çš„ä¸»ä½“çš„è¿‡ç¨‹ï¼ˆä¸€ä¸ªâ€œä¸»ä½“â€ä¸€èˆ¬æ˜¯æŒ‡ç”¨æˆ·ï¼Œè®¾å¤‡æˆ–ä¸€äº›å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ‰§è¡ŒåŠ¨ä½œçš„å…¶ä»–ç³»ç»Ÿï¼‰ã€‚</li></ul><ul><li><p>â€œæˆæƒâ€ï¼ˆAuthorizationï¼‰æŒ‡ç¡®å®šä¸€ä¸ªä¸»ä½“æ˜¯å¦å…è®¸åœ¨ä½ çš„åº”ç”¨ç¨‹åºæ‰§è¡Œä¸€ä¸ªåŠ¨ä½œçš„è¿‡ç¨‹ã€‚ä¸ºäº†æŠµè¾¾éœ€è¦æˆæƒçš„åº—ï¼Œä¸»ä½“çš„èº«ä»½å·²ç»æœ‰è®¤è¯è¿‡ç¨‹å»ºç«‹ã€‚</p></li><li><p>è¿™ä¸ªæ¦‚å¿µæ˜¯é€šç”¨çš„è€Œä¸åªåœ¨Spring Securityä¸­ã€‚</p></li></ul><h2 id="Webå’Œå®‰å…¨"><a href="#Webå’Œå®‰å…¨" class="headerlink" title="Webå’Œå®‰å…¨"></a>Webå’Œå®‰å…¨</h2><h3 id="ç™»é™†æ³¨é”€"><a href="#ç™»é™†æ³¨é”€" class="headerlink" title="ç™»é™†æ³¨é”€"></a>ç™»é™†æ³¨é”€</h3><ul><li>HttpSecurityé…ç½®ç™»é™†ã€æ³¨é”€åŠŸèƒ½</li></ul><ul><li>Thymeleafæä¾›çš„SpringSecurityæ ‡ç­¾æ”¯æŒ<ul><li>éœ€è¦å¼•å…¥thymeleaf-extras-springsecurity5</li><li><html xmlns:th="http://www.thymeleaf.org"xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurit></li><li>sec:authentication=â€œnameâ€è·å¾—å½“å‰ç”¨æˆ·çš„ç”¨æˆ·å</li><li>sec:authorize=â€œhasRole(â€˜ADMINâ€™)â€å½“å‰ç”¨æˆ·å¿…é¡»æ‹¥æœ‰ADMINæƒé™æ—¶æ‰ä¼šæ˜¾ç¤ºæ ‡ç­¾å†…å®¹</li><li>sec:authentication=â€principal.authoritiesâ€ è·å–å½“å‰ç”¨æˆ·çš„æƒé™çº§åˆ«</li><li>sec:authorize=â€!isAuthenticated()â€ ç”¨æˆ·æ²¡ç™»é™†æ‰ä¼šæ˜¾ç¤ºçš„æ ‡ç­¾å†…å®¹</li><li>sec:authorize=â€isAuthenticated()â€ ç”¨æˆ·ç™»é™†æ‰ä¼šæ˜¾ç¤ºçš„æ ‡ç­¾å†…å®¹</li></ul></li></ul><ul><li>remember me<ul><li>è¡¨å•æ·»åŠ remember-meçš„checkbox</li><li>é…ç½®å¯ç”¨remember-meåŠŸèƒ½</li></ul></li></ul><ul><li>CSRFï¼ˆCross-site request forgeryï¼‰è·¨ç«™è¯·æ±‚ä¼ªé€ <ul><li>HttpSecurityå¯ç”¨csrfåŠŸèƒ½ï¼Œä¼šä¸ºè¡¨å•æ·»åŠ _csrfçš„å€¼ï¼Œæäº¤æºå¸¦æ¥é¢„é˜²CSRFï¼›</li></ul></li></ul><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><pre><code>    &lt;properties&gt;        &lt;java.version&gt;1.8&lt;/java.version&gt;        &lt;thymeleaf.version&gt;3.0.11.RELEASE&lt;/thymeleaf.version&gt;        &lt;!--å¸ƒå±€åŠŸèƒ½çš„æ”¯æŒç¨‹åº  thymeleaf3çš„ä¸»ç¨‹åº  layout2ç‰ˆæœ¬ä»¥ä¸Š--&gt;        &lt;thymeleaf-layout-dialect.version&gt;2.4.1&lt;/thymeleaf-layout-dialect.version&gt;        &lt;thymeleaf-extras-springsecurity.version&gt;3.0.4.RELEASE&lt;/thymeleaf-extras-springsecurity.version&gt;    &lt;/properties&gt;    &lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;        &lt;scope&gt;test&lt;/scope&gt;        &lt;exclusions&gt;            &lt;exclusion&gt;                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;            &lt;/exclusion&gt;        &lt;/exclusions&gt;    &lt;/dependency&gt;    &lt;/dependencies&gt;</code></pre><h3 id="æµ‹è¯•é¡µé¢"><a href="#æµ‹è¯•é¡µé¢" class="headerlink" title="æµ‹è¯•é¡µé¢"></a>æµ‹è¯•é¡µé¢</h3><ul><li>welcome.html</li></ul><pre><code>    &lt;!DOCTYPE html&gt;    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;    &lt;head&gt;    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;    &lt;title&gt;Insert title here&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;    &lt;h1 align=&quot;center&quot;&gt;æ¬¢è¿å…‰ä¸´æ­¦æ—ç§˜ç±ç®¡ç†ç³»ç»Ÿ&lt;/h1&gt;    &lt;h2 align=&quot;center&quot;&gt;æ¸¸å®¢æ‚¨å¥½ï¼Œå¦‚æœæƒ³æŸ¥çœ‹æ­¦æ—ç§˜ç± &lt;a th:href=&quot;@{/login}&quot;&gt;è¯·ç™»å½•&lt;/a&gt;&lt;/h2&gt;    &lt;hr&gt;    &lt;h3&gt;æ™®é€šæ­¦åŠŸç§˜ç±&lt;/h3&gt;    &lt;ul&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level1/1}&quot;&gt;ç½—æ±‰æ‹³&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level1/2}&quot;&gt;æ­¦å½“é•¿æ‹³&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level1/3}&quot;&gt;å…¨çœŸå‰‘æ³•&lt;/a&gt;&lt;/li&gt;    &lt;/ul&gt;    &lt;h3&gt;é«˜çº§æ­¦åŠŸç§˜ç±&lt;/h3&gt;    &lt;ul&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level2/1}&quot;&gt;å¤ªææ‹³&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level2/2}&quot;&gt;ä¸ƒä¼¤æ‹³&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level2/3}&quot;&gt;æ¢¯äº‘çºµ&lt;/a&gt;&lt;/li&gt;    &lt;/ul&gt;    &lt;h3&gt;ç»ä¸–æ­¦åŠŸç§˜ç±&lt;/h3&gt;    &lt;ul&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level3/1}&quot;&gt;è‘µèŠ±å®å…¸&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level3/2}&quot;&gt;é¾Ÿæ´¾æ°”åŠŸ&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a th:href=&quot;@{/level3/3}&quot;&gt;ç‹¬å­¤ä¹å‰‘&lt;/a&gt;&lt;/li&gt;    &lt;/ul&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><ul><li>login.html</li></ul><pre><code>    &lt;!DOCTYPE html&gt;    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;    &lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Insert title here&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;    &lt;h1 align=&quot;center&quot;&gt;æ¬¢è¿ç™»é™†æ­¦æ—ç§˜ç±ç®¡ç†ç³»ç»Ÿ&lt;/h1&gt;    &lt;hr&gt;    &lt;div align=&quot;center&quot;&gt;    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;    ç”¨æˆ·å:&lt;input name=&quot;&quot;/&gt;&lt;br&gt;    å¯†ç :&lt;input name=&quot;&quot;&gt;&lt;br/&gt;    &lt;input type=&quot;submit&quot; value=&quot;ç™»é™†&quot;&gt;    &lt;/form&gt;    &lt;/div&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><h4 id="level1"><a href="#level1" class="headerlink" title="level1"></a>level1</h4><ul><li>1.html</li></ul><pre><code>    &lt;!DOCTYPE html&gt;    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;    &lt;head&gt;    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;    &lt;title&gt;Insert title here&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;a th:href=&quot;@{/}&quot;&gt;è¿”å›&lt;/a&gt;        &lt;h1&gt;ç½—æ±‰æ‹³&lt;/h1&gt;        &lt;p&gt;ç½—æ±‰æ‹³ç«™å½“å¤®,æ‰“èµ·æ¥ä¸è¦æ…Œ&lt;/p&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><ul><li>2.html</li></ul><pre><code>    &lt;!DOCTYPE html&gt;    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;    &lt;head&gt;    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;    &lt;title&gt;Insert title here&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;a th:href=&quot;@{/}&quot;&gt;è¿”å›&lt;/a&gt;        &lt;h1&gt;ç½—æ±‰æ‹³&lt;/h1&gt;        &lt;p&gt;ç½—æ±‰æ‹³ç«™å½“å¤®,æ‰“èµ·æ¥ä¸è¦æ…Œ&lt;/p&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><ul><li>3.html</li></ul><pre><code>    &lt;!DOCTYPE html&gt;    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;    &lt;head&gt;    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;    &lt;title&gt;Insert title here&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;a th:href=&quot;@{/}&quot;&gt;è¿”å›&lt;/a&gt;        &lt;h1&gt;ç½—æ±‰æ‹³&lt;/h1&gt;        &lt;p&gt;ç½—æ±‰æ‹³ç«™å½“å¤®,æ‰“èµ·æ¥ä¸è¦æ…Œ&lt;/p&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><ul><li>level2/3å’Œlevel1åŸºæœ¬ä¸€è‡´ï¼Œé¡µé¢æ¶æ„å¦‚ä¸‹</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/18.png" alt=""></p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><ul><li>KungfuController.java</li></ul><pre><code>    package com.atguigu.security.controller;    import org.springframework.stereotype.Controller;    import org.springframework.web.bind.annotation.GetMapping;    import org.springframework.web.bind.annotation.PathVariable;    @Controller    public class KungfuController {        private final String PREFIX = &quot;pages/&quot;;        /**        * æ¬¢è¿é¡µ        * @return        */        @GetMapping(&quot;/&quot;)        public String index() {            return &quot;welcome&quot;;        }        /**        * ç™»é™†é¡µ        * @return        */        @GetMapping(&quot;/userlogin&quot;)        public String loginPage() {            return PREFIX+&quot;login&quot;;        }        /**        * level1é¡µé¢æ˜ å°„        * @param path        * @return        */        @GetMapping(&quot;/level1/{path}&quot;)        public String level1(@PathVariable(&quot;path&quot;)String path) {            return PREFIX+&quot;level1/&quot;+path;        }        /**        * level2é¡µé¢æ˜ å°„        * @param path        * @return        */        @GetMapping(&quot;/level2/{path}&quot;)        public String level2(@PathVariable(&quot;path&quot;)String path) {            return PREFIX+&quot;level2/&quot;+path;        }        /**        * level3é¡µé¢æ˜ å°„        * @param path        * @return        */        @GetMapping(&quot;/level3/{path}&quot;)        public String level3(@PathVariable(&quot;path&quot;)String path) {            return PREFIX+&quot;level3/&quot;+path;        }    }</code></pre><ul><li>è®¿é—®:localhost:8080</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/19.png" alt=""></p><h3 id="é…ç½®æˆæƒ"><a href="#é…ç½®æˆæƒ" class="headerlink" title="é…ç½®æˆæƒ"></a>é…ç½®æˆæƒ</h3><ul><li>pomæ–‡ä»¶å¼•å…¥securityæ¨¡å—</li></ul><pre><code>    &lt;dependency&gt;    ã€€ã€€&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;    ã€€ã€€&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;    &lt;/dependency&gt;</code></pre><ul><li>ç°åœ¨æ‰€æœ‰äººéƒ½èƒ½è®¿é—®æ­¦åŠŸç§˜ç±ï¼Œè¿™æ—¶æˆ‘ä»¬è¦è®¾ç½®ä¸€ä¸‹æƒé™</li></ul><pre><code>    @EnableWebSecurity    public class MySercurityConfig extends WebSecurityConfigurerAdapter {        public void configure(HttpSecurity http) throws Exception {    //å®šåˆ¶è¯·æ±‚çš„æˆæƒè§„åˆ™    http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll()            .antMatchers(&quot;/level1/**&quot;).hasRole(&quot;VIP1&quot;)            .antMatchers(&quot;/level2/**&quot;).hasRole(&quot;VIP2&quot;)            .antMatchers(&quot;/level3/**&quot;).hasRole(&quot;VIP3&quot;);    }</code></pre><p>æˆ‘ä»¬ç°åœ¨è®¿é—®ç½—æ±‰æ‹³ï¼Œå°†ä¼šæç¤º403ï¼Œè®¿é—®æ‹’ç»ã€‚</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/21.png" alt=""></p><h3 id="å¼€å¯ç™»é™†åŠŸèƒ½"><a href="#å¼€å¯ç™»é™†åŠŸèƒ½" class="headerlink" title="å¼€å¯ç™»é™†åŠŸèƒ½"></a>å¼€å¯ç™»é™†åŠŸèƒ½</h3><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰ç™»é™†è®¿é—®ï¼ŒåŠ å…¥å¦‚ä¸‹çš„è¿™æ®µä»£ç ï¼Œè®©å®ƒä¸ºæˆ‘ä»¬è‡ªåŠ¨é…ç½®ï¼Œåªè¦ä¸ç¬¦åˆç­‰çº§è§„åˆ™ï¼Œå°±è·³è½¬åˆ°/loginçš„ç™»å½•é¡µ</p><pre><code>    //å¼€å¯è‡ªåŠ¨é…ç½®çš„ç™»é™†åŠŸèƒ½ï¼Œæ•ˆæœï¼Œå¦‚æœæ²¡æœ‰ç™»é™†ï¼Œæ²¡æœ‰æƒé™å°†ä¼šæ¥åˆ°ç™»é™†é¡µé¢    http.formLogin();    //1./loginæ¥åˆ°ç™»é™†é¡µ    //2.é‡å®šå‘æ¥åˆ°/login?errorè¡¨ç¤ºç™»é™†å¤±è´¥    //3.æ›´å¤šçš„è¯¦ç»†è§„å®š</code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/20.png" alt=""></p><ul><li>ç™»é™†æˆåŠŸï¼Œè®¿é—®é¡µé¢</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/22.png" alt=""></p><h3 id="å®šä¹‰è®¤è¯åŠŸèƒ½"><a href="#å®šä¹‰è®¤è¯åŠŸèƒ½" class="headerlink" title="å®šä¹‰è®¤è¯åŠŸèƒ½"></a>å®šä¹‰è®¤è¯åŠŸèƒ½</h3><ul><li>è®²æˆ‘ä»¬æ‹¥æœ‰çš„ç”¨æˆ·ä¿¡æ¯å¯¹åº”åŒ¹é…è§„åˆ™ï¼Œç„¶åä½¿ç”¨è¿™äº›è´¦æˆ·ç™»å½•è¯•ä¸€ä¸‹~ï¼ˆè¿™é‡Œä¸ºäº†ç®€å•è¯´æ˜ï¼Œæˆ‘ç”¨çš„æ˜¯å†…å­˜ä¿å­˜ï¼Œå½“ç„¶ï¼Œå¯ä»¥ä½¿ç”¨â€œauth.jdbcâ€¦..â€æ¥è¿›è¡Œæ•°æ®åº“çš„é“¾æ¥ä½¿ç”¨ï¼‰</li></ul><pre><code>    //å®šä¹‰è®¤è¯åŠŸèƒ½    @Override    protected void configure(AuthenticationManagerBuilder auth) throws Exception {        //è¿™é‡Œå¯ä»¥æ”¹è¿›è¿æ•°æ®åº“        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();        auth.inMemoryAuthentication().passwordEncoder(new BCryptPasswordEncoder())                .withUser(&quot;zhangsan&quot;).password(passwordEncoder.encode(&quot;heihei&quot;)).roles(&quot;VIP1&quot;, &quot;VIP2&quot;)                .and()                .withUser(&quot;lisi&quot;).password(passwordEncoder.encode(&quot;123456&quot;)).roles(&quot;VIP2&quot;, &quot;VIP3&quot;)                .and()                .withUser(&quot;wangwu&quot;).password(passwordEncoder.encode(&quot;12456&quot;)).roles(&quot;VIP1&quot;, &quot;VIP3&quot;);</code></pre><h3 id="å¼€å¯æ³¨é”€åŠŸèƒ½"><a href="#å¼€å¯æ³¨é”€åŠŸèƒ½" class="headerlink" title="å¼€å¯æ³¨é”€åŠŸèƒ½"></a>å¼€å¯æ³¨é”€åŠŸèƒ½</h3><ul><li>welcome.html</li></ul><pre><code>    &lt;!-- æŠŠè¿™æ®µä»£ç æ”¾åˆ°ä½ æƒ³è¦çš„ä½ç½®ï¼Œæ¯”å¦‚ç™»å½•åè¾¹è¾¹ --&gt;    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;        &lt;input type=&quot;submit&quot; value=&quot;æ³¨é”€&quot;/&gt;    &lt;/form&gt;</code></pre><ul><li>å¼€å¯è‡ªåŠ¨é…ç½®çš„æ³¨é”€åŠŸèƒ½</li></ul><pre><code>    http.logout().logoutSuccessUrl(&quot;/&quot;);    //æ³¨é”€æˆåŠŸåå»åˆå§‹é¡µé¢    //1.è®¿é—®/logout è¡¨ç¤ºç”¨æˆ·æ³¨é”€ï¼Œæ¸…ç©ºsession    //2.é€€å‡ºæˆåŠŸå°†æ¥åˆ°/login?logouté¡µé¢</code></pre><h3 id="ä¼˜åŒ–é¡µé¢"><a href="#ä¼˜åŒ–é¡µé¢" class="headerlink" title="ä¼˜åŒ–é¡µé¢"></a>ä¼˜åŒ–é¡µé¢</h3><ul><li>è®©ä¸åŒç”¨æˆ·çœ‹åˆ°é¦–é¡µå±•ç¤ºä¸åŒï¼Œæ²¡æœ‰ç™»å½•çš„å‘¢ï¼Œå°±çœ‹ä¸åˆ°å…·ä½“å†…å®¹ã€‚</li><li>pomæ–‡ä»¶å¼•å…¥springsecurity5ï¼›</li></ul><pre><code>    &lt;dependency&gt;        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;    &lt;/dependency&gt;</code></pre><ul><li>åœ¨htmlä¸­æ”¹é€ ä¸€ä¸‹ï¼Œå¼•å…¥springsecurity5ï¼ˆåŠ ä¸¤ä¸ªdivåšåˆ¤æ–­æ˜¯å¦æˆæƒ-sec:authorizeï¼‰ï¼Œå¦‚æœæ²¡æœ‰è®¤è¯ï¼ˆ!isAuthenticated()ï¼‰å°±å±•ç¤ºæ¸¸å®¢è¯·ç™»å½•ï¼Œå¦‚æœè®¤è¯äº†å°±å±•ç¤ºè§’è‰²ä¿¡æ¯ï¼›è¯»å–è§’è‰²ä¿¡æ¯ï¼ˆsec:authenticationï¼‰ï¼›</li></ul><pre><code>    &lt;!DOCTYPE html&gt;    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;          xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity4&quot;&gt;    &lt;head&gt;        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;        &lt;title&gt;Insert title here&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;    &lt;h1 align=&quot;center&quot;&gt;æ¬¢è¿å…‰ä¸´æ­¦æ—ç§˜ç±ç®¡ç†ç³»ç»Ÿ&lt;/h1&gt;    &lt;div sec:authorize=&quot;!isAuthenticated()&quot;&gt;        &lt;h2 align=&quot;center&quot;&gt;æ¸¸å®¢æ‚¨å¥½ï¼Œå¦‚æœæƒ³æŸ¥çœ‹æ­¦æ—ç§˜ç± &lt;a th:href=&quot;@{/login}&quot;&gt;è¯·ç™»å½•&lt;/a&gt;&lt;/h2&gt;    &lt;/div&gt;    &lt;div sec:authorize=&quot;isAuthenticated()&quot;&gt;        &lt;h2&gt;&lt;span sec:authentication=&quot;name&quot;&gt;&lt;/span&gt;ï¼Œæ‚¨å¥½ï¼Œæ‚¨çš„è§’è‰²æœ‰:            &lt;span sec:authentication=&quot;principal.authorities&quot;&gt;&lt;/span&gt;&lt;/h2&gt;        &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;            &lt;input type=&quot;submit&quot; value=&quot;æ³¨é”€&quot;/&gt;        &lt;/form&gt;    &lt;/div&gt;    &lt;hr&gt;    &lt;div sec:authorize=&quot;hasRole(&#39;VIP1&#39;)&quot;&gt;        &lt;h3&gt;æ™®é€šæ­¦åŠŸç§˜ç±&lt;/h3&gt;        &lt;ul&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level1/1}&quot;&gt;ç½—æ±‰æ‹³&lt;/a&gt;&lt;/li&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level1/2}&quot;&gt;æ­¦å½“é•¿æ‹³&lt;/a&gt;&lt;/li&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level1/3}&quot;&gt;å…¨çœŸå‰‘æ³•&lt;/a&gt;&lt;/li&gt;        &lt;/ul&gt;    &lt;/div&gt;    &lt;div sec:authorize=&quot;hasRole(&#39;VIP2&#39;)&quot;&gt;        &lt;h3&gt;é«˜çº§æ­¦åŠŸç§˜ç±&lt;/h3&gt;        &lt;ul&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level2/1}&quot;&gt;å¤ªææ‹³&lt;/a&gt;&lt;/li&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level2/2}&quot;&gt;ä¸ƒä¼¤æ‹³&lt;/a&gt;&lt;/li&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level2/3}&quot;&gt;æ¢¯äº‘çºµ&lt;/a&gt;&lt;/li&gt;        &lt;/ul&gt;    &lt;/div&gt;    &lt;div sec:authorize=&quot;hasRole(&#39;VIP3&#39;)&quot;&gt;        &lt;h3&gt;ç»ä¸–æ­¦åŠŸç§˜ç±&lt;/h3&gt;        &lt;ul&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level3/1}&quot;&gt;è‘µèŠ±å®å…¸&lt;/a&gt;&lt;/li&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level3/2}&quot;&gt;é¾Ÿæ´¾æ°”åŠŸ&lt;/a&gt;&lt;/li&gt;            &lt;li&gt;&lt;a th:href=&quot;@{/level3/3}&quot;&gt;ç‹¬å­¤ä¹å‰‘&lt;/a&gt;&lt;/li&gt;        &lt;/ul&gt;    &lt;/div&gt;    &lt;/body&gt;    &lt;/html&gt;</code></pre><p>å†æ¬¡å¯åŠ¨å°±ä¼šå‘ç°å·®åˆ«</p><ul><li>æ²¡ç™»é™†çŠ¶æ€ï¼Œåªä¼šæ˜¾ç¤ºä¸€ä¸ªè¯·ç™»å½•é¡µé¢</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/24.png" alt=""></p><ul><li>ç™»é™†çŠ¶æ€ï¼ŒæˆåŠŸä¼šæ˜¾ç¤ºæ³¨é”€ï¼Œç”¨æˆ·åå­—ï¼Œæƒé™ç­‰ä¿¡æ¯</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/23.png" alt=""></p><h3 id="å®Œå–„é¡µé¢"><a href="#å®Œå–„é¡µé¢" class="headerlink" title="å®Œå–„é¡µé¢"></a>å®Œå–„é¡µé¢</h3><ul><li>ç™»é™†çš„æ—¶å€™è¿›å…¥æˆ‘ä»¬è‡ªå·±è®¾è®¡çš„é¡µé¢ï¼Œå¹¶ç”¨ç”¨æˆ·åå’Œå¯†ç ä½œå…³è”<br>http.formLogin().usernameParameter(â€œuserâ€).passwordParameter(â€œpwdâ€).loginPage(â€œ/userloginâ€);</li></ul><ul><li><p>welcome.htmlä¼˜åŒ–ï¼Œå°†ç™»å½•è¯·æ±‚å˜æˆuserloginè¯·æ±‚ï¼›</p></li><li><p>login.html</p></li></ul><pre><code>    &lt;div align=&quot;center&quot;&gt;        &lt;form th:action=&quot;@{/userlogin}&quot; method=&quot;post&quot;&gt;            ç”¨æˆ·å:&lt;input name=&quot;user&quot;/&gt;&lt;br&gt;            å¯†ç :&lt;input name=&quot;pwd&quot;&gt;&lt;br/&gt;            &lt;input type=&quot;checkbox&quot; name=&quot;remember&quot;&gt;è®°ä½æˆ‘&lt;br/&gt;            &lt;input type=&quot;submit&quot; value=&quot;ç™»é™†&quot;&gt;        &lt;/form&gt;    &lt;/div&gt;</code></pre><ul><li>remebermeä¼˜åŒ–<br>http.rememberMe().rememberMeParameter(â€œrememberâ€);</li></ul>]]></content>
      
      
      <categories>
          
          <category> springboot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springbootå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootæ¶ˆæ¯(JMSã€AMQPã€RabbitMQ)</title>
      <link href="/2020/02/11/sprintboot-yu-xiao-xi/"/>
      <url>/2020/02/11/sprintboot-yu-xiao-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringBootä¸æ¶ˆæ¯-JMSã€AMQPã€RabbitMQ"><a href="#SpringBootä¸æ¶ˆæ¯-JMSã€AMQPã€RabbitMQ" class="headerlink" title="SpringBootä¸æ¶ˆæ¯(JMSã€AMQPã€RabbitMQ)"></a>SpringBootä¸æ¶ˆæ¯(JMSã€AMQPã€RabbitMQ)</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul><li>1.å¤§å¤šåº”ç”¨ä¸­ï¼Œå¯é€šè¿‡æ¶ˆæ¯æœåŠ¡ä¸­é—´ä»¶æ¥æå‡ç³»ç»Ÿå¼‚æ­¥é€šä¿¡ã€æ‰©å±•è§£è€¦èƒ½åŠ›</li></ul><ul><li><p>2.æ¶ˆæ¯æœåŠ¡ä¸­ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼š</p><ul><li>æ¶ˆæ¯ä»£ç†ï¼ˆmessage brokerï¼‰å’Œç›®çš„åœ°ï¼ˆdestinationï¼‰<br>å½“æ¶ˆæ¯å‘é€è€…å‘é€æ¶ˆæ¯ä»¥åï¼Œå°†ç”±æ¶ˆæ¯ä»£ç†æ¥ç®¡ï¼Œæ¶ˆæ¯ä»£ç†ä¿è¯æ¶ˆæ¯ä¼ é€’æŒ‡å®šç›®çš„åœ°ã€‚</li></ul></li><li><p>3.æ¶ˆæ¯é˜Ÿåˆ—ä¸»è¦æœ‰ä¸¤ç§å½¢å¼çš„ç›®çš„åœ°</p><p>  1.é˜Ÿåˆ—ï¼ˆqueueï¼‰ï¼šç‚¹å¯¹ç‚¹æ¶ˆæ¯é€šä¿¡ï¼ˆpoint-to-pointï¼‰</p><p>  2.ä¸»é¢˜ï¼ˆtopicï¼‰ï¼šå‘å¸ƒï¼ˆpublishï¼‰/è®¢é˜…ï¼ˆsubscribeï¼‰æ¶ˆæ¯é€šä¿¡</p></li><li><p>4.ç‚¹å¯¹ç‚¹å¼ï¼š</p><ul><li><p>æ¶ˆæ¯å‘é€è€…å‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯ä»£ç†å°†å…¶æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œæ¶ˆæ¯æ¥æ”¶è€…ä»é˜Ÿåˆ—ä¸­è·å–æ¶ˆæ¯å†…å®¹ï¼Œæ¶ˆæ¯è¯»å–åè¢«ç§»å‡ºé˜Ÿåˆ—</p></li><li><p>æ¶ˆæ¯åªæœ‰å”¯ä¸€çš„å‘é€è€…å’Œæ¥å—è€…ï¼Œä½†å¹¶ä¸æ˜¯è¯´åªèƒ½æœ‰ä¸€ä¸ªæ¥æ”¶è€…</p></li></ul></li><li><p>5.å‘å¸ƒè®¢é˜…å¼ï¼š</p><ul><li>å‘é€è€…ï¼ˆå‘å¸ƒè€…ï¼‰å‘é€æ¶ˆæ¯åˆ°ä¸»é¢˜ï¼Œå¤šä¸ªæ¥æ”¶è€…ï¼ˆè®¢é˜…è€…ï¼‰ç›‘å¬ï¼ˆè®¢é˜…ï¼‰è¿™ä¸ªä¸»é¢˜ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨æ¶ˆæ¯åˆ°è¾¾æ—¶åŒæ—¶æ”¶åˆ°æ¶ˆæ¯</li></ul></li><li><p>6.JMSï¼ˆJava Message Serviceï¼‰JAVAæ¶ˆæ¯æœåŠ¡ï¼š</p><ul><li>åŸºäºJVMæ¶ˆæ¯ä»£ç†çš„è§„èŒƒã€‚ActiveMQã€HornetMQæ˜¯JMSå®ç°</li></ul></li><li><p>7.AMQPï¼ˆAdvanced Message Queuing Protocolï¼‰</p><ul><li>é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¶ˆæ¯ä»£ç†çš„è§„èŒƒï¼Œå…¼å®¹JMS<br>RabbitMQæ˜¯AMQPçš„å®ç°</li></ul></li><li><p>8.Springæ”¯æŒ</p><ul><li>spring-jmsæä¾›äº†å¯¹JMSçš„æ”¯æŒ</li><li>spring-rabbitæä¾›äº†å¯¹AMQPçš„æ”¯æŒ</li><li>éœ€è¦ConnectionFactoryçš„å®ç°æ¥è¿æ¥æ¶ˆæ¯ä»£ç†</li><li>æä¾›JmsTemplateã€RabbitTemplateæ¥å‘é€æ¶ˆæ¯</li><li>@JmsListenerï¼ˆJMSï¼‰ã€@RabbitListenerï¼ˆAMQPï¼‰æ³¨è§£åœ¨æ–¹æ³•ä¸Šç›‘å¬æ¶ˆæ¯ä»£ç†å‘å¸ƒçš„æ¶ˆæ¯</li><li>@EnableJmsã€@EnableRabbitå¼€å¯æ”¯æŒ</li></ul></li><li><p>9.Spring Bootè‡ªåŠ¨é…ç½®</p><ul><li>JmsAutoConfiguration</li><li>RabbitAutoConfiguration</li></ul></li></ul><h2 id="rabbitmqç®€ä»‹"><a href="#rabbitmqç®€ä»‹" class="headerlink" title="rabbitmqç®€ä»‹"></a>rabbitmqç®€ä»‹</h2><ul><li>RabbitMQç®€ä»‹ï¼š</li></ul><p>RabbitMQæ˜¯ä¸€ä¸ªç”±erlangå¼€å‘çš„AMQP(Advanved Message Queue Protocol)çš„å¼€æºå®ç°ã€‚</p><h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><ul><li>Message</li></ul><p>æ¶ˆæ¯ï¼Œæ¶ˆæ¯æ˜¯ä¸å…·åçš„ï¼Œå®ƒç”±æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ç»„æˆã€‚æ¶ˆæ¯ä½“æ˜¯ä¸é€æ˜çš„ï¼Œè€Œæ¯å¤´åˆ™ç”±ä¸€ç³»åˆ—çš„å¯é€‰å±æ€§ç»„æˆï¼Œè¿™äº›å±æ€§åŒ…æ‹¬routing-keyï¼ˆè·¯ç”±é”®ï¼‰ã€prirityï¼ˆç›¸å¯¹äºå…¶ä»–æ¶ˆæ¯çš„ä¼˜å…ˆæƒï¼‰ã€delivery-modeï¼ˆæŒ‡å‡ºè¯¥æ¶ˆæ¯å¯èƒ½éœ€è¦æŒæ€§å­˜å‚¨ï¼‰ç­‰ã€‚</p><ul><li>Publisher</li></ul><p>æ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‘äº¤æ¢å™¨å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚</p><ul><li>Exchange</li></ul><p>äº¤æ¢å™¨ï¼Œç”¨æ¥æ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯å¹¶å°†è¿™äº›æ¶ˆæ¯è·¯ç”±ç»™æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—ã€‚<br>Exchangeæœ‰4ç§ç±»å‹ï¼šdirect(é»˜è®¤)ï¼Œfanout, topic, å’Œheadersï¼Œä¸åŒç±»å‹çš„Exchangeè½¬å‘æ¶ˆæ¯çš„ç­–ç•¥æœ‰æ‰€åŒºåˆ«</p><ul><li>Queue</li></ul><p>æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æ¥ä¿å­˜æ¶ˆæ¯ç›´åˆ°å‘é€ç»™æ¶ˆè´¹è€…ã€‚å®ƒæ˜¯æ¶ˆæ¯çš„å®¹å™¨ï¼Œä¹Ÿæ˜¯æ¶ˆæ¯çš„ç»ˆç‚¹ã€‚ä¸€ä¸ªæ¶ˆæ¯å¯æŠ•å…¥ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ã€‚æ¶ˆæ¯ä¸€ç›´åœ¨é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…æ¶ˆè´¹è€…è¿æ¥åˆ°è¿™ä¸ªé˜Ÿåˆ—å°†å…¶å–èµ°ã€‚</p><ul><li>Binding</li></ul><p>ç»‘å®šï¼Œç”¨äºæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢å™¨ä¹‹é—´çš„å…³è”ã€‚ä¸€ä¸ªç»‘å®šå°±æ˜¯åŸºäºè·¯ç”±é”®å°†äº¤æ¢å™¨å’Œæ¶ˆæ¯é˜Ÿåˆ—è¿æ¥èµ·æ¥çš„è·¯ç”±è§„åˆ™ï¼Œæ‰€ä»¥å¯ä»¥å°†äº¤æ¢å™¨ç†è§£æˆä¸€ä¸ªç”±ç»‘å®šæ„æˆçš„è·¯ç”±è¡¨ã€‚<br>Exchange å’ŒQueueçš„ç»‘å®šå¯ä»¥æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p><ul><li>Connection</li></ul><p>ç½‘ç»œè¿æ¥ï¼Œæ¯”å¦‚ä¸€ä¸ªTCPè¿æ¥ã€‚</p><ul><li>Channel</li></ul><p>ä¿¡é“ï¼Œå¤šè·¯å¤ç”¨è¿æ¥ä¸­çš„ä¸€æ¡ç‹¬ç«‹çš„åŒå‘æ•°æ®æµé€šé“ã€‚ä¿¡é“æ˜¯å»ºç«‹åœ¨çœŸå®çš„TCPè¿æ¥å†…çš„è™šæ‹Ÿè¿æ¥ï¼ŒAMQP å‘½ä»¤éƒ½æ˜¯é€šè¿‡ä¿¡é“å‘å‡ºå»çš„ï¼Œä¸ç®¡æ˜¯å‘å¸ƒæ¶ˆæ¯ã€è®¢é˜…é˜Ÿåˆ—è¿˜æ˜¯æ¥æ”¶æ¶ˆæ¯ï¼Œè¿™äº›åŠ¨ä½œéƒ½æ˜¯é€šè¿‡ä¿¡é“å®Œæˆã€‚å› ä¸ºå¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´å»ºç«‹å’Œé”€æ¯ TCP éƒ½æ˜¯éå¸¸æ˜‚è´µçš„å¼€é”€ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¿¡é“çš„æ¦‚å¿µï¼Œä»¥å¤ç”¨ä¸€æ¡ TCP è¿æ¥ã€‚</p><ul><li>Consumer</li></ul><p>æ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œè¡¨ç¤ºä¸€ä¸ªä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å¾—æ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚</p><ul><li>Virtual Host</li></ul><p>è™šæ‹Ÿä¸»æœºï¼Œè¡¨ç¤ºä¸€æ‰¹äº¤æ¢å™¨ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œç›¸å…³å¯¹è±¡ã€‚è™šæ‹Ÿä¸»æœºæ˜¯å…±äº«ç›¸åŒçš„èº«ä»½è®¤è¯å’ŒåŠ å¯†ç¯å¢ƒçš„ç‹¬ç«‹æœåŠ¡å™¨åŸŸã€‚æ¯ä¸ª vhost æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª mini ç‰ˆçš„ RabbitMQ æœåŠ¡å™¨ï¼Œæ‹¥æœ‰è‡ªå·±çš„é˜Ÿåˆ—ã€äº¤æ¢å™¨ã€ç»‘å®šå’Œæƒé™æœºåˆ¶ã€‚vhost æ˜¯ AMQP æ¦‚å¿µçš„åŸºç¡€ï¼Œå¿…é¡»åœ¨è¿æ¥æ—¶æŒ‡å®šï¼ŒRabbitMQ é»˜è®¤çš„ vhost æ˜¯ / ã€‚</p><ul><li>Broker</li></ul><p>è¡¨ç¤ºæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å®ä½“</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/1.png" alt=""></p><h2 id="è¿è¡Œæœºåˆ¶"><a href="#è¿è¡Œæœºåˆ¶" class="headerlink" title="è¿è¡Œæœºåˆ¶"></a>è¿è¡Œæœºåˆ¶</h2><ul><li>AMQP ä¸­çš„æ¶ˆæ¯è·¯ç”±</li></ul><p>AMQP ä¸­æ¶ˆæ¯çš„è·¯ç”±è¿‡ç¨‹å’Œ Java å¼€å‘è€…ç†Ÿæ‚‰çš„ JMS å­˜åœ¨ä¸€äº›å·®åˆ«ï¼ŒAMQP ä¸­å¢åŠ äº† Exchange å’Œ Binding çš„è§’è‰²ã€‚ç”Ÿäº§è€…æŠŠæ¶ˆæ¯å‘å¸ƒåˆ° Exchange ä¸Šï¼Œæ¶ˆæ¯æœ€ç»ˆåˆ°è¾¾é˜Ÿåˆ—å¹¶è¢«æ¶ˆè´¹è€…æ¥æ”¶ï¼Œè€Œ Binding å†³å®šäº¤æ¢å™¨çš„æ¶ˆæ¯åº”è¯¥å‘é€åˆ°é‚£ä¸ªé˜Ÿåˆ—ã€‚</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/2.png" alt=""></p><h3 id="exchangeç±»å‹"><a href="#exchangeç±»å‹" class="headerlink" title="exchangeç±»å‹"></a>exchangeç±»å‹</h3><ul><li>Exchangeåˆ†å‘æ¶ˆæ¯æ—¶æ ¹æ®ç±»å‹çš„ä¸åŒåˆ†å‘ç­–ç•¥æœ‰åŒºåˆ«ï¼Œç›®å‰å…±å››ç§ç±»å‹ï¼šdirectã€fanoutã€topicã€headers ã€‚headers åŒ¹é… AMQP æ¶ˆæ¯çš„ header è€Œä¸æ˜¯è·¯ç”±é”®ï¼Œ headers äº¤æ¢å™¨å’Œ direct äº¤æ¢å™¨å®Œå…¨ä¸€è‡´ï¼Œä½†æ€§èƒ½å·®å¾ˆå¤šï¼Œç›®å‰å‡ ä¹ç”¨ä¸åˆ°äº†ï¼Œæ‰€ä»¥ç›´æ¥çœ‹å¦å¤–ä¸‰ç§ç±»å‹ï¼š</li></ul><ul><li>Direct Exchange</li></ul><p>æ¶ˆæ¯ä¸­çš„è·¯ç”±é”®ï¼ˆrouting keyï¼‰å¦‚æœå’Œ Binding ä¸­çš„ binding key ä¸€è‡´ï¼Œ äº¤æ¢å™¨å°±å°†æ¶ˆæ¯å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ã€‚è·¯ç”±é”®ä¸é˜Ÿåˆ—åå®Œå…¨åŒ¹é…ï¼Œå¦‚æœä¸€ä¸ªé˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºè¦æ±‚è·¯ç”±é”®ä¸ºâ€œdogâ€ï¼Œåˆ™åªè½¬å‘ routing key æ ‡è®°ä¸ºâ€œdogâ€çš„æ¶ˆæ¯ï¼Œä¸ä¼šè½¬å‘â€œdog.puppyâ€ï¼Œä¹Ÿä¸ä¼šè½¬å‘â€œdog.guardâ€ç­‰ç­‰ã€‚å®ƒæ˜¯å®Œå…¨åŒ¹é…ã€å•æ’­çš„æ¨¡å¼ã€‚</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/3.png" alt=""></p><ul><li>Fanout Exchange</li></ul><p>æ¯ä¸ªå‘åˆ° fanout ç±»å‹äº¤æ¢å™¨çš„æ¶ˆæ¯éƒ½ä¼šåˆ†åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ä¸Šå»ã€‚fanout äº¤æ¢å™¨ä¸å¤„ç†è·¯ç”±é”®ï¼Œåªæ˜¯ç®€å•çš„å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢å™¨ä¸Šï¼Œæ¯ä¸ªå‘é€åˆ°äº¤æ¢å™¨çš„æ¶ˆæ¯éƒ½ä¼šè¢«è½¬å‘åˆ°ä¸è¯¥äº¤æ¢å™¨ç»‘å®šçš„æ‰€æœ‰é˜Ÿåˆ—ä¸Šã€‚å¾ˆåƒå­ç½‘å¹¿æ’­ï¼Œæ¯å°å­ç½‘å†…çš„ä¸»æœºéƒ½è·å¾—äº†ä¸€ä»½å¤åˆ¶çš„æ¶ˆæ¯ã€‚fanout ç±»å‹è½¬å‘æ¶ˆæ¯æ˜¯æœ€å¿«çš„ã€‚</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/4.png" alt=""></p><ul><li>Topic Exchange</li></ul><p>topic äº¤æ¢å™¨é€šè¿‡æ¨¡å¼åŒ¹é…åˆ†é…æ¶ˆæ¯çš„è·¯ç”±é”®å±æ€§ï¼Œå°†è·¯ç”±é”®å’ŒæŸä¸ªæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåˆ°ä¸€ä¸ªæ¨¡å¼ä¸Šã€‚å®ƒå°†è·¯ç”±é”®å’Œç»‘å®šé”®çš„å­—ç¬¦ä¸²åˆ‡åˆ†æˆå•è¯ï¼Œè¿™äº›å•è¯ä¹‹é—´ç”¨ç‚¹éš”å¼€ã€‚å®ƒåŒæ ·ä¹Ÿä¼šè¯†åˆ«ä¸¤ä¸ªé€šé…ç¬¦ï¼šç¬¦å·â€œ#â€å’Œç¬¦å·â€œ<em>â€ã€‚#åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå•è¯ï¼Œ</em>åŒ¹é…ä¸€ä¸ªå•è¯ã€‚</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/5.png" alt=""></p><h2 id="dockerå¿«é€Ÿå®‰è£…"><a href="#dockerå¿«é€Ÿå®‰è£…" class="headerlink" title="dockerå¿«é€Ÿå®‰è£…"></a>dockerå¿«é€Ÿå®‰è£…</h2><ul><li><p>1.æ‹‰å–é•œåƒ</p><ul><li><p>æŒ‡å®šç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬åŒ…å«äº†webæ§åˆ¶é¡µé¢</p><p>docker pull rabbitmq:3.8.2-management</p></li></ul></li><li><p>2.è¿è¡Œé•œåƒ</p><ul><li><p>æ–¹å¼ä¸€ï¼šé»˜è®¤guest ç”¨æˆ·ï¼Œå¯†ç ä¹Ÿæ˜¯ guest</p><p>docker run -d â€“hostname my-rabbit â€“name rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3.8.2-management</p></li><li><p>æ–¹å¼äºŒï¼šè®¾ç½®ç”¨æˆ·åå’Œå¯†ç </p><p>docker run -d â€“hostname my-rabbit â€“name rabbit -e RABBITMQ_DEFAULT_USER=user -e RABBITMQ_DEFAULT_PASS=password -p 15672:15672 -p 5672:5672 rabbitmq:3.8.2-management</p></li></ul></li><li><p>3.è®¿é—®urlé¡µé¢</p></li></ul><p><a href="http://localhost:15672/" target="_blank" rel="noopener">http://localhost:15672/</a></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/6.jpg" alt=""></p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><ul><li>1.è¿è¡Œæµç¨‹</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/8.jpg" alt=""></p><ul><li>2.æ·»åŠ äº¤æ¢å™¨</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/7.jpg" alt=""></p><ul><li>3.æ·»åŠ ç»‘å®šè§„åˆ™</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/9.jpg" alt=""></p><ul><li>4.å‘å¸ƒæ¶ˆæ¯</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/10.jpg" alt=""></p><ul><li>5.è·å–æ¶ˆæ¯</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/11.jpg" alt=""></p><h2 id="æ•´åˆrabbitmq"><a href="#æ•´åˆrabbitmq" class="headerlink" title="æ•´åˆrabbitmq"></a>æ•´åˆrabbitmq</h2><h3 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><pre><code>    &lt;dependencies&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;                &lt;scope&gt;test&lt;/scope&gt;                &lt;exclusions&gt;                    &lt;exclusion&gt;                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;                    &lt;/exclusion&gt;                &lt;/exclusions&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;                &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;                &lt;scope&gt;test&lt;/scope&gt;            &lt;/dependency&gt;        &lt;/dependencies&gt;</code></pre><h3 id="é…ç½®ä¿¡æ¯"><a href="#é…ç½®ä¿¡æ¯" class="headerlink" title="é…ç½®ä¿¡æ¯"></a>é…ç½®ä¿¡æ¯</h3><p>application.properties</p><pre><code>    spring.rabbitmq.host=192.168.206.131    #linuxä¸»æœºåœ°å€    spring.rabbitmq.username=guest    spring.rabbitmq.password=guest    spring.rabbitmq.port=5672</code></pre><h3 id="æµ‹è¯•rabbitmq"><a href="#æµ‹è¯•rabbitmq" class="headerlink" title="æµ‹è¯•rabbitmq"></a>æµ‹è¯•rabbitmq</h3><ul><li>RabbitTemplateï¼šæ¶ˆæ¯å‘é€å¤„ç†ç»„ä»¶</li></ul><h4 id="å‘å¸ƒæ¶ˆæ¯"><a href="#å‘å¸ƒæ¶ˆæ¯" class="headerlink" title="å‘å¸ƒæ¶ˆæ¯"></a>å‘å¸ƒæ¶ˆæ¯</h4><pre><code>    @Autowired    RabbitTemplate rabbitTemplate;    /**     * 1.å•æ’­ï¼ˆç‚¹å¯¹ç‚¹ï¼‰     */    @Test    void test01() {        //éœ€è¦è‡ªå·±æ„é€ ä¸€ä¸ªMessageï¼Œå®šä¹‰æ¶ˆæ¯ä½“å’Œæ¶ˆæ¯å¤´        //rabbitTemplate.send(exchange,routekey,message);        //objecté»˜è®¤å½“æˆæ¶ˆæ¯ä½“ï¼Œåªéœ€è¦ä¼ å…¥è¦å‘é€çš„å¯¹è±¡ï¼Œè‡ªåŠ¨åºåˆ—åŒ–å‘é€ç»™rabbitmq        //rabbitTemplate.convertAndSend(exchange,routekey,message);        Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();        map.put(&quot;msg&quot;,&quot;è¿™æ˜¯ç¬¬ä¸€æ¡æ¶ˆæ¯&quot;);        map.put(&quot;data&quot;, Arrays.asList(&quot;helloworld&quot;,123,true));        //å¯¹è±¡è¢«é»˜è®¤åºåˆ—åŒ–å‘é€å‡ºå»ï¼Œæ˜¯javaçš„åºåˆ—åŒ–è§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒè½¬æ¢ä¸ºjsonè§„åˆ™        //rabbitTemplate.convertAndSend(&quot;exchange.direct&quot;,&quot;atguigu.news&quot;,map);        rabbitTemplate.convertAndSend(&quot;exchange.direct&quot;,&quot;atguigu.news&quot;,map);    }    /**         * å¹¿æ’­ï¼ˆæ‰€æœ‰é”®å…¨éƒ¨å‘é€ï¼‰         */        @Test        public void test02(){            rabbitTemplate.convertAndSend(&quot;exchange.fanout&quot;,&quot;&quot;,new Book(&quot;ä¸Šæµ·å ¡å’&quot;,&quot;æ±Ÿå—&quot;));        }</code></pre><h4 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–"></a>åºåˆ—åŒ–</h4><ul><li>å¯¹è±¡è¢«é»˜è®¤åºåˆ—åŒ–å‘é€å‡ºå»ï¼Œæ˜¯javaçš„åºåˆ—åŒ–è§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒè½¬æ¢ä¸ºjsonè§„åˆ™</li></ul><p>MyAMQPConfig</p><pre><code>    //åºåˆ—åŒ–é…ç½®    @Configuration    public class MyAMQPConfig {        @Bean        public MessageConverter messageConverter(){                return new Jackson2JsonMessageConverter();        }    }</code></pre><h4 id="æ¥æ”¶æ¶ˆæ¯"><a href="#æ¥æ”¶æ¶ˆæ¯" class="headerlink" title="æ¥æ”¶æ¶ˆæ¯"></a>æ¥æ”¶æ¶ˆæ¯</h4><pre><code>    //è·å–æ¶ˆæ¯ï¼Œè·å–å®Œä¹‹åå°±ä»æ¶ˆæ¯é˜Ÿåˆ—é‡Œåˆ é™¤        @Test        public void receive(){            Object o = rabbitTemplate.receiveAndConvert(&quot;atguigu.emps&quot;);            System.out.println(o.getClass());            System.out.println(o);        }</code></pre><h3 id="ç›‘å¬æœºåˆ¶"><a href="#ç›‘å¬æœºåˆ¶" class="headerlink" title="ç›‘å¬æœºåˆ¶"></a>ç›‘å¬æœºåˆ¶</h3><ul><li><p>@RabbitListener + @EnableRabbit(æ”¾äºä¸»ç¨‹åºå‰)    </p><p>  //å¼€å¯åŸºäºæ³¨è§£çš„rabbitmqç›‘å¬æœºåˆ¶</p></li></ul><pre><code>    @Service    public class BookService {        @RabbitListener(queues = &quot;atguigu.news&quot;)    //å‚æ•°ç±»å‹æ˜¯æ•°ç»„ï¼Œå¯ä»¥ç›‘å¬å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—        //åªè¦è¿™ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­æœ‰æ¶ˆæ¯è¿›æ¥ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¿›è¡Œ        public void receive(Object o){            System.out.println(&quot;æ”¶åˆ°æ¶ˆæ¯&quot;+o);        }    }</code></pre><h3 id="amqpadmin"><a href="#amqpadmin" class="headerlink" title="amqpadmin"></a>amqpadmin</h3><ul><li>AmqpAdmin</li></ul><p>rabbitmqç³»ç»Ÿç®¡ç†åŠŸèƒ½ç»„ä»¶</p><ul><li>åŠŸèƒ½</li></ul><p>åˆ›å»ºå’Œåˆ é™¤Queueï¼ŒExchangeï¼ŒBinding</p><pre><code>    @Autowired    AmqpAdmin amqpAdmin;    /**     * declareæ˜¯åˆ›å»ºï¼Œdeleteæ˜¯åˆ é™¤     * destinationï¼šç›®çš„åœ°ï¼ˆå“ªä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼‰     * Binding.DestinationType.QUEUE  ç»‘å®šçš„ç±»å‹æ˜¯queue     * durable:æ˜¯å¦æŒä¹…åŒ–     * routingkeyï¼šè·¯ç”±é”®     */    @Test    public void create(){        //åˆ›å»ºexchange        amqpAdmin.declareExchange(new DirectExchange(&quot;amqpadmin.exchange&quot;));        System.out.println(&quot;åˆ›å»ºexchangeæˆåŠŸ&quot;);        //åˆ›å»ºqueue        amqpAdmin.declareQueue(new Queue(&quot;amqpadmin.queue&quot;,true));    //durable:æ˜¯å¦æŒä¹…åŒ–        //åˆ›å»ºBinding        amqpAdmin.declareBinding(new Binding(&quot;amqpadmin.queue&quot;,Binding.DestinationType.QUEUE,&quot;amqpadmin.exchange&quot;,&quot;amqpadmin.haha&quot;,null));    }</code></pre>]]></content>
      
      
      <categories>
          
          <category> springboot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springbootæ¶ˆæ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbooté«˜çº§ç¼“å­˜</title>
      <link href="/2020/02/10/springboot-gao-ji-huan-cun-cache/"/>
      <url>/2020/02/10/springboot-gao-ji-huan-cun-cache/</url>
      
        <content type="html"><![CDATA[<h1 id="springbooté«˜çº§-ç¼“å­˜cacheå¹¶ä¸”æ•´åˆredis"><a href="#springbooté«˜çº§-ç¼“å­˜cacheå¹¶ä¸”æ•´åˆredis" class="headerlink" title="springbooté«˜çº§,ç¼“å­˜cacheå¹¶ä¸”æ•´åˆredis"></a>springbooté«˜çº§,ç¼“å­˜cacheå¹¶ä¸”æ•´åˆredis</h1><h1 id="springbootç¼“å­˜"><a href="#springbootç¼“å­˜" class="headerlink" title="springbootç¼“å­˜"></a>springbootç¼“å­˜</h1><p>ç¼“å­˜çš„åœºæ™¯</p><ul><li>ä¸´æ—¶æ€§æ•°æ®å­˜å‚¨ã€æ ¡éªŒç ã€‘</li><li>é¿å…é¢‘ç¹å› ä¸ºç›¸åŒçš„å†…å®¹æŸ¥è¯¢æ•°æ®åº“ã€æŸ¥è¯¢çš„ä¿¡æ¯ã€‘</li></ul><h2 id="jsr107ç¼“å­˜è§„èŒƒ"><a href="#jsr107ç¼“å­˜è§„èŒƒ" class="headerlink" title="jsr107ç¼“å­˜è§„èŒƒ"></a>jsr107ç¼“å­˜è§„èŒƒ</h2><blockquote><p>ç”¨çš„æ¯”è¾ƒå°‘</p></blockquote><p>Java Cachingå®šä¹‰äº†5ä¸ªæ ¸å¿ƒæ¥å£</p><ul><li><p>CachingProvider</p><p>å®šä¹‰äº†åˆ›å»ºã€é…ç½®ã€è·å–ã€ç®¡ç†å’Œæ§åˆ¶å¤šä¸ªCacheManagerã€‚ä¸€ä¸ªåº”ç”¨å¯ä»¥åœ¨è¿è¡ŒæœŸé—´è®¿é—®å¤šä¸ªCachingProvider</p></li><li><p>CacheManager</p><p>å®šä¹‰äº†åˆ›å»ºã€é…ç½®ã€è·å–ã€ç®¡ç†å’Œæ§åˆ¶å¤šä¸ªå”¯ä¸€å‘½åçš„Cache,è¿™äº›Cacheå­˜åœ¨äºCacheManageçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸€ä¸ªCacheManageåªè¢«ä¸€ä¸ªCachingProvideræ‹¥æœ‰</p></li><li><p>Cache</p><p>ç±»ä¼¼äºMapçš„æ•°æ®ç»“æ„å¹¶ä¸´æ—¶å‚¨å­˜ä»¥keyä¸ºç´¢å¼•çš„å€¼ï¼Œä¸€ä¸ªCacheä»…ä»…è¢«ä¸€ä¸ªCacheManageæ‰€æ‹¥æœ‰</p></li><li><p>Entry</p><p>å­˜å‚¨åœ¨Cacheä¸­çš„key-valueå¯¹</p></li><li><p>Expiry</p><p>å­˜å‚¨åœ¨Cacheçš„æ¡ç›®æœ‰ä¸€ä¸ªå®šä¹‰çš„æœ‰æ•ˆæœŸï¼Œä¸€æ—¦è¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œå°±ä¼šè®¾ç½®è¿‡æœŸçš„çŠ¶æ€ï¼Œè¿‡æœŸæ— æ³•è¢«è®¿é—®ï¼Œæ›´æ–°ï¼Œåˆ é™¤ã€‚ç¼“å­˜çš„æœ‰æ•ˆæœŸå¯ä»¥é€šè¿‡ExpiryPolicyè®¾ç½®ã€‚</p></li></ul><h2 id="springçš„ç¼“å­˜æŠ½è±¡"><a href="#springçš„ç¼“å­˜æŠ½è±¡" class="headerlink" title="springçš„ç¼“å­˜æŠ½è±¡"></a>springçš„ç¼“å­˜æŠ½è±¡</h2><p>åŒ…æ‹¬ä¸€äº›JSR107çš„æ³¨è§£</p><p>CahceManager</p><p>Cache</p><h3 id="1ã€åŸºæœ¬æ¦‚å¿µ"><a href="#1ã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€åŸºæœ¬æ¦‚å¿µ"></a>1ã€åŸºæœ¬æ¦‚å¿µ</h3><p><strong>é‡è¦çš„æ¦‚å¿µ&amp;ç¼“å­˜æ³¨è§£</strong></p><table><thead><tr><th></th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td>Cache</td><td align="left">ç¼“å­˜æ¥å£ï¼Œå®šä¹‰ç¼“å­˜æ“ä½œï¼Œå®ç°æœ‰ï¼šRedisCacheã€EhCacheCacheã€ConcurrentMapCacheç­‰</td></tr><tr><td>CacheManager</td><td align="left">ç¼“å­˜ç®¡ç†å™¨ï¼Œç®¡ç†å„ç§ç¼“å­˜ï¼ˆCacheï¼‰ç»„ä»¶</td></tr><tr><td>@Cacheable</td><td align="left">é’ˆå¯¹æ–¹æ³•é…ç½®ï¼Œæ ¹æ®æ–¹æ³•çš„è¯·æ±‚å‚æ•°å¯¹å…¶ç»“æœè¿›è¡Œç¼“å­˜</td></tr><tr><td>@CacheEvict</td><td align="left">æ¸…ç©ºç¼“å­˜</td></tr><tr><td>@CachePut</td><td align="left">ä¿è¯æ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆå¸Œæœ›ç»“æœè¢«ç¼“å­˜ updateï¼Œè°ƒç”¨ï¼Œå°†ä¿¡æ¯æ›´æ–°ç¼“å­˜</td></tr><tr><td>@EnableCaching</td><td align="left">å¼€å¯åŸºäºæ³¨è§£çš„ç¼“å­˜</td></tr><tr><td>KeyGenerator</td><td align="left">ç¼“å­˜æ•°æ®æ—¶keyç”Ÿæˆçš„ç­–ç•¥</td></tr><tr><td>serialize</td><td align="left">ç¼“å­˜æ•°æ®æ—¶valueåºåˆ—åŒ–ç­–ç•¥</td></tr></tbody></table><h2 id="æ•´åˆé¡¹ç›®"><a href="#æ•´åˆé¡¹ç›®" class="headerlink" title="æ•´åˆé¡¹ç›®"></a>æ•´åˆé¡¹ç›®</h2><p>springboot 2.2.3+web+mysql+mybatis+cache</p><h3 id="å¯¼å…¥ç›¸å…³é…ç½®"><a href="#å¯¼å…¥ç›¸å…³é…ç½®" class="headerlink" title="å¯¼å…¥ç›¸å…³é…ç½®"></a>å¯¼å…¥ç›¸å…³é…ç½®</h3><pre><code>    &lt;dependencies&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;                &lt;scope&gt;test&lt;/scope&gt;                &lt;exclusions&gt;                    &lt;exclusion&gt;                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;                    &lt;/exclusion&gt;                &lt;/exclusions&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;                &lt;version&gt;2.1.1&lt;/version&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;mysql&lt;/groupId&gt;                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;                &lt;scope&gt;runtime&lt;/scope&gt;            &lt;/dependency&gt;            &lt;dependency&gt;                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;                &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;                &lt;version&gt;1.1.20&lt;/version&gt;            &lt;/dependency&gt;    &lt;/dependencies&gt;</code></pre><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>application.yml</p><pre><code>spring:        datasource:          username: root          password: 980508          url: jdbc:mysql://localhost:3306/spring-cache?serverTimezone=UTC          driver-class-name: com.mysql.cj.jdbc.Driver          initialization-mode: always#å¼€å¯é©¼å³°å‘½åæ³•mybatis:  configuration:    map-underscore-to-camel-case: true</code></pre><p>application.properties</p><pre><code># å¼€å¯æ—¥å¿—ï¼Œæ‰“å°sqlè¯­å¥logging.level.com.atguigu.mapper = debug# æ‰“å°é…ç½®æŠ¥å‘Šdebug=true</code></pre><h3 id="åˆ›å»ºbeanå®ä¾‹"><a href="#åˆ›å»ºbeanå®ä¾‹" class="headerlink" title="åˆ›å»ºbeanå®ä¾‹"></a>åˆ›å»ºbeanå®ä¾‹</h3><p>Department</p><pre><code>package com.atguigu.bean;public class Department {    private Integer id;    private String departmentName;    public Department() {        super();        // TODO Auto-generated constructor stub    }    public Department(Integer id, String departmentName) {        super();        this.id = id;        this.departmentName = departmentName;    }    public Integer getId() {        return id;    }    public void setId(Integer id) {        this.id = id;    }    public String getDepartmentName() {        return departmentName;    }    public void setDepartmentName(String departmentName) {        this.departmentName = departmentName;    }    @Override    public String toString() {        return &quot;Department [id=&quot; + id + &quot;, departmentName=&quot; + departmentName + &quot;]&quot;;    }}</code></pre><p>Employee</p><pre><code>package com.atguigu.bean;public class Employee {    private Integer id;    private String lastName;    private String email;    private Integer gender; //æ€§åˆ« 1ç”·  0å¥³    private Integer dId;    public Employee() {        super();    }    public Employee(Integer id, String lastName, String email, Integer gender, Integer dId) {        super();        this.id = id;        this.lastName = lastName;        this.email = email;        this.gender = gender;        this.dId = dId;    }    public Integer getId() {        return id;    }    public void setId(Integer id) {        this.id = id;    }    public String getLastName() {        return lastName;    }    public void setLastName(String lastName) {        this.lastName = lastName;    }    public String getEmail() {        return email;    }    public void setEmail(String email) {        this.email = email;    }    public Integer getGender() {        return gender;    }    public void setGender(Integer gender) {        this.gender = gender;    }    public Integer getdId() {        return dId;    }    public void setdId(Integer dId) {        this.dId = dId;    }    @Override    public String toString() {        return &quot;Employee [id=&quot; + id + &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email + &quot;, gender=&quot; + gender + &quot;, dId=&quot;                + dId + &quot;]&quot;;    }}</code></pre><h3 id="åˆ›å»ºmapperæ¥å£æ˜ å°„æ•°æ®åº“"><a href="#åˆ›å»ºmapperæ¥å£æ˜ å°„æ•°æ®åº“" class="headerlink" title="åˆ›å»ºmapperæ¥å£æ˜ å°„æ•°æ®åº“"></a>åˆ›å»ºmapperæ¥å£æ˜ å°„æ•°æ®åº“</h3><p>DepartmentMapper</p><pre><code>package com.atguigu.mapper;import com.atguigu.bean.Department;import org.apache.ibatis.annotations.Delete;import org.apache.ibatis.annotations.Insert;import org.apache.ibatis.annotations.Select;import org.apache.ibatis.annotations.Update;public interface DepartmentMapper {    @Select(&quot;select * from department where id = #{id}&quot;)    public Department getDepById(Integer id);    @Update(&quot;update department set departmentName=#{departmentName} where id=#{id}&quot;)    public void updateDep(Department department);    @Delete(&quot;delete from department where id=#{id}&quot;)    public void deleteDepById(Integer id);    @Insert(&quot;insert into department (departmentName)values(#{departmentName})&quot;)    public void insertDep(Department department);}</code></pre><p>EmployeeMapper</p><pre><code>package com.atguigu.mapper;import com.atguigu.bean.Employee;import org.apache.ibatis.annotations.Delete;import org.apache.ibatis.annotations.Insert;import org.apache.ibatis.annotations.Select;import org.apache.ibatis.annotations.Update;public interface EmployeeMapper {    @Select(&quot;select * from Employee where id = #{id}&quot;)    public Employee getEmpById(Integer id);    @Update(&quot; update Employee set lastName=#{lastName},email=#{email},gender=#{gender},d_id=#{dId} where id=#{id}&quot;)    public void updateEmp(Employee employee);    @Delete(&quot;delete form Employee where id=#{id}&quot;)    public void deleteEmpById(Integer id);    @Insert(&quot;insert into Employee(lastName,email,gender,d_id)values(#{lastName},#{email},#{gender},#{dId})&quot;)    public void insertEmp(Employee employee);    @Select(&quot;select * from Employee where lastName = #{lastName}&quot;)    public Employee getEmpByLastName(String lastName);}</code></pre><h3 id="æ·»åŠ æ³¨è§£"><a href="#æ·»åŠ æ³¨è§£" class="headerlink" title="æ·»åŠ æ³¨è§£"></a>æ·»åŠ æ³¨è§£</h3><p>ä¸»ç¨‹åºæ·»åŠ æ³¨è§£MapperScanï¼Œå¹¶ä¸”ä½¿ç”¨@EnableCachingå¼€å¯ç¼“å­˜</p><pre><code>@EnableCaching@MapperScan(&quot;com.atguigu.mapper&quot;)@SpringBootApplicationpublic class SpringBoot01CacheApplication {    public static void main(String[] args) {        SpringApplication.run(SpringBoot01CacheApplication.class, args);    }}</code></pre><h3 id="ç¼–å†™serviceæ¥å…·ä½“å®ç°mapperä¸­çš„æ–¹æ³•"><a href="#ç¼–å†™serviceæ¥å…·ä½“å®ç°mapperä¸­çš„æ–¹æ³•" class="headerlink" title="ç¼–å†™serviceæ¥å…·ä½“å®ç°mapperä¸­çš„æ–¹æ³•"></a>ç¼–å†™serviceæ¥å…·ä½“å®ç°mapperä¸­çš„æ–¹æ³•</h3><p>å°†æ–¹æ³•çš„è¿è¡Œç»“æœè¿›è¡Œç¼“å­˜ï¼Œä»¥åè¦æ˜¯å†æœ‰ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œä¸ç”¨è°ƒç”¨æ–¹æ³•</p><p> CacheManagerä¸­ç®¡ç†å¤šä¸ªCacheç»„ä»¶ï¼Œå¯¹ç¼“å­˜çš„çœŸæ­£CRUDæ“ä½œåœ¨Cacheç»„ä»¶ä¸­ï¼Œæ¯ä¸ªç¼“å­˜ç»„ä»¶éƒ½æœ‰è‡ªå·±çš„å”¯ä¸€åå­—ï¼›</p><p> å±æ€§ï¼š</p><ul><li>CacheName/value:æŒ‡å®šå­˜å‚¨ç¼“å­˜ç»„ä»¶çš„åå­—</li><li>key:ç¼“å­˜æ•°æ®ä½¿ç”¨çš„key,å¯ä»¥ä½¿ç”¨å®ƒæ¥æŒ‡å®šã€‚é»˜è®¤æ˜¯ä½¿ç”¨æ–¹æ³•å‚æ•°çš„å€¼ï¼Œ1-æ–¹æ³•çš„è¿”å›å€¼</li><li>ç¼–å†™Spelè¡¨è¾¾å¼ï¼š#id å‚æ•°idçš„å€¼ï¼Œ #a0/#p0 #root.args[0]</li><li>keyGenerator:keyçš„ç”Ÿæˆå™¨ï¼Œè‡ªå·±å¯ä»¥æŒ‡å®škeyçš„ç”Ÿæˆå™¨çš„ç»„ä»¶id</li><li>key/keyGendertoräºŒé€‰ä¸€ä½¿ç”¨</li><li>cacheManageræŒ‡å®šCacheç®¡ç†å™¨ï¼Œæˆ–è€…cacheResloveræŒ‡å®šè·å–è§£æå™¨</li><li>condition:æŒ‡å®šç¬¦åˆæ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œæ‰ç¼“å­˜ï¼› ex:condition = â€œ#id&gt;0â€</li><li>unlessï¼šå¦å®šç¼“å­˜ï¼ŒunlessæŒ‡å®šçš„æ¡ä»¶ä¸ºtrueï¼Œæ–¹æ³•çš„è¿”å›å€¼å°±ä¸ä¼šè¢«ç¼“å­˜ï¼Œå¯ä»¥è·å–åˆ°ç»“æœè¿›è¡Œåˆ¤æ–­  ;  ex:unless = â€œ#result == nullâ€</li><li>sync:æ˜¯å¦ä½¿ç”¨å¼‚æ­¥æ¨¡å¼ï¼Œunlessä¸æ”¯æŒ</li></ul><h4 id="å„ç§æ³¨è§£çš„ä½¿ç”¨"><a href="#å„ç§æ³¨è§£çš„ä½¿ç”¨" class="headerlink" title="å„ç§æ³¨è§£çš„ä½¿ç”¨"></a>å„ç§æ³¨è§£çš„ä½¿ç”¨</h4><pre><code>@Servicepublic class EmployeeService {    @Autowired    EmployeeMapper employeeMapper;    /**     * cacheNameï¼š  æŒ‡å®šç¼“å­˜ç»„ä»¶çš„åå­—ï¼Œä¹Ÿå¯ä»¥ç”¨valueæ¥è¡¨ç¤º     * key: #idè¡¨ç¤ºidçš„å€¼ä½œä¸ºkey   è¿˜æœ‰å¦ä¸€ç§keyGenerator:keyçš„ç”Ÿæˆå™¨ï¼Œè‡ªå·±å¯ä»¥æŒ‡å®škeyçš„ç”Ÿæˆå™¨çš„ç»„ä»¶id,è‡ªå·±äº†è§£ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†     * conditionï¼š ç¬¦åˆæ¡ä»¶ä¸‹ï¼Œæ‰ç¼“å­˜ï¼Œè¿™é‡Œè¡¨ç¤ºid&gt;1æ‰ç¼“å­˜     * unless:  ç¬¦åˆæ¡ä»¶ä¸‹ï¼Œä¸ç¼“å­˜ï¼Œè¿™é‡Œè¡¨ç¤ºid==0åˆ™ä¸ç¼“å­˜     * @param id     * @return     */    @Cacheable(cacheNames = &quot;emp&quot;,key = &quot;#id&quot;,condition = &quot;#id&gt;1&quot;,unless = &quot;#id==0&quot;)    public Employee getEmp(Integer id){        System.out.println(&quot;æŸ¥è¯¢&quot;+id+&quot;å·å‘˜å·¥&quot;);        Employee employee=employeeMapper.getEmpById(id);        return employee;    }     /**     *@CachePutï¼šæ—¢è°ƒç”¨æ–¹æ³•ï¼Œåˆæ›´æ–°ç¼“å­˜     * ä¿®æ”¹äº†æ•°æ®åº“çš„æŸä¸ªæ•°æ®ï¼ŒåŒæ—¶åˆæ›´æ–°äº†ç¼“å­˜     * è¿è¡Œæ—¶æœºï¼šï¼ˆä¸Cacheableç›¸åï¼‰     *      1.å…ˆè°ƒç”¨ç›®æ ‡æ–¹æ³•     *      2.å°†ç›®æ ‡æ–¹æ³•ç¼“å­˜èµ·æ¥     *     * æµ‹è¯•æ­¥éª¤     * 1.æŸ¥è¯¢1å·å‘˜å·¥ï¼ŒæŸ¥è¯¢åˆ°çš„ç»“æœä¼šæ”¾åˆ°ç¼“å­˜ä¸­     *          keyï¼š1   valueï¼šlastNameï¼šzhangsan     * 2.ä»¥åæŸ¥è¯¢çš„ç»“æœè¿˜æ˜¯ä¹‹å‰çš„ç»“æœ     * 3.æ›´æ–°1å·å‘˜å·¥     * 4.æŸ¥è¯¢1å·å‘˜å·¥ï¼Œåº”è¯¥æ˜¯æ›´æ–°åçš„å‘˜å·¥ï¼Œkeyåº”è¯¥è¿™æ ·å†™     *      key=&quot;#employee.id&quot;   ä½¿ç”¨ä¼ å…¥å‚æ•°çš„å‘˜å·¥id     *      key=&quot;#result.id&quot;     ä½¿ç”¨è¿”å›åçš„å‘˜å·¥id     *      æ³¨ï¼š@Cacheableä¸­ä¸èƒ½å†™#result.id     * @param employee     * @return     */    @CachePut(cacheNames = &quot;emp&quot;,key = &quot;#result.id&quot;)    public Employee updateEmp(Employee employee){        System.out.println(&quot;æ›´æ–°&quot;+employee.getId()+&quot;å·å‘˜å·¥&quot;);        employeeMapper.updateEmp(employee);        return employee;    }     /**     * @CacheEvictï¼šæ¸…é™¤ç¼“å­˜ï¼ˆå¸¸ç”¨äºåˆ é™¤ä¹‹ç±»çš„ï¼‰     * keyï¼šæŒ‡å®šæ¸…é™¤çš„æ•°æ®     * allEntries=trueï¼šæŒ‡å®šæ¸…é™¤è¿™ä¸ªç¼“å­˜ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œé»˜è®¤æ˜¯false     * beforeInvocation = false : ç¼“å­˜çš„æ¸…é™¤æ˜¯å¦åœ¨æ–¹æ³•ä¹‹å‰æ¸…é™¤ï¼Œé»˜è®¤æ˜¯false     *      é»˜è®¤æ˜¯åœ¨æ–¹æ³•ä¹‹åæ¸…é™¤ï¼ˆå¦‚æœå‡ºç°å¼‚å¸¸é”™è¯¯åˆ™ä¸æ¸…é™¤ï¼‰     * beforeInvocation = true ï¼šç¼“å­˜çš„æ¸…é™¤åœ¨æ–¹æ³•ä¹‹å‰æ¸…é™¤ï¼Œä¸ç®¡æ˜¯å¦å‡ºç°å¼‚å¸¸éƒ½ä¼šæ¸…é™¤     * @param id     */    @CacheEvict(cacheNames = &quot;emp&quot;,key = &quot;#id&quot;,beforeInvocation = true)    public void deleteEmp(Integer id){        System.out.println(&quot;æ¸…é™¤&quot;+id+&quot;å·å‘˜å·¥ç¼“å­˜&quot;);        //employeeMapper.deleteEmpById(id);     //åŒæ—¶åˆ é™¤æ•°æ®åº“ä¸­çš„æ•°æ®        int i=10/0;    }    //@Caching å®šä¹‰å¤æ‚çš„ç¼“å­˜è§„åˆ™    /**     * è¿™é‡Œé€šè¿‡æŸ¥è¯¢lastNameæ¥æµ‹è¯•     * å½“æŸ¥è¯¢lastNameå®Œä¹‹åï¼Œå†é€šè¿‡idå’Œemailæ¥æŸ¥å°±ä¸éœ€è¦é€šè¿‡æ•°æ®åº“äº†     * ä½†æ˜¯é€šè¿‡lastNameæ¥æŸ¥è¯¢è¿˜æ˜¯éœ€è¦é€šè¿‡æ•°æ®åº“ï¼Œå› ä¸ºCachePutæ³¨è§£çš„ä½œç”¨æ˜¯å…ˆè°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œæ–¹æ³•å¿…è¢«æ‰§è¡Œ     *     * å…¬å…±çš„é…ç½®å¯ä»¥é€šè¿‡@CacheConfigå†™åœ¨ä¸€èµ·ï¼Œæ ‡æ³¨åœ¨ç±»å‰ï¼Œæ¯”å¦‚é…ç½®cacheName     * @param lastName     * @return     */    @Caching(            cacheable = {                    @Cacheable(key = &quot;#lastName&quot;)            },            put = {                    @CachePut(key = &quot;#result.id&quot;),                    @CachePut(key = &quot;#result.email&quot;)            }    )    public Employee getEmpByLastName(String lastName){        System.out.println(&quot;æŸ¥è¯¢&quot;+lastName);        Employee emp = employeeMapper.getEmpByLastName(lastName);        return emp;    }}</code></pre><h3 id="ç¼–å†™controlleræµ‹è¯•"><a href="#ç¼–å†™controlleræµ‹è¯•" class="headerlink" title="ç¼–å†™controlleræµ‹è¯•"></a>ç¼–å†™controlleræµ‹è¯•</h3><pre><code>@RestControllerpublic class EmployeeController {    @Autowired    EmployeeService employeeService;    @GetMapping(&quot;/emp/{id}&quot;)    public Employee getEmployee(@PathVariable(&quot;id&quot;) Integer id){        Employee emp = employeeService.getEmp(id);        return emp;    }    @GetMapping(&quot;/emp&quot;)    public Employee updateEmployee(Employee employee){        Employee emp = employeeService.updateEmp(employee);        return emp;    }    @GetMapping(&quot;/delemp/{id}&quot;)    public String deleteEmployee(@PathVariable(&quot;id&quot;) Integer id){        employeeService.deleteEmp(id);        return &quot;æ¸…é™¤&quot;+id+&quot;å·å‘˜å·¥ç¼“å­˜æˆåŠŸ&quot;;    }    @GetMapping(&quot;/emp/lastname/{lastName}&quot;)    public Employee getEmpByLastName(@PathVariable(&quot;lastName&quot;) String lastName){        Employee emp= employeeService.getEmpByLastName(lastName);        return emp;    }}</code></pre><h3 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h3><p>ç¬¬ä¸€æ¬¡è®¿é—®ä¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œç»§ç»­è®¿é—®ç¼“å­˜ä¸­å–å€¼</p><h2 id="æ•´åˆredis"><a href="#æ•´åˆredis" class="headerlink" title="æ•´åˆredis"></a>æ•´åˆredis</h2><ul><li>åœ¨ä¸Šé¢çš„åŸºç¡€ä¸ŠåŠ ä¸€éƒ¨åˆ†ä¸œè¥¿</li></ul><h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><ul><li>ä¸‹è½½windowsç‰ˆæœ¬çš„å‹ç¼©åŒ… <a href="https://github.com/microsoftarchive/redis/releases" target="_blank" rel="noopener">é“¾æ¥</a></li><li>ä¸‹è½½RedisDesktopManagerï¼ˆä¸€ä¸ªæ¡Œé¢åŒ–çš„rediså·¥å…·ï¼‰</li></ul><h3 id="å¯¼å…¥ç›¸å…³ä¾èµ–"><a href="#å¯¼å…¥ç›¸å…³ä¾èµ–" class="headerlink" title="å¯¼å…¥ç›¸å…³ä¾èµ–"></a>å¯¼å…¥ç›¸å…³ä¾èµ–</h3><pre><code>    &lt;dependency&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;    &lt;/dependency&gt;</code></pre><h3 id="é…ç½®ä¿¡æ¯"><a href="#é…ç½®ä¿¡æ¯" class="headerlink" title="é…ç½®ä¿¡æ¯"></a>é…ç½®ä¿¡æ¯</h3><p>application.yml</p><pre><code>    # REDIS (RedisProperties)    # Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰    spring.redis.database=0    # RedisæœåŠ¡å™¨åœ°å€    spring.redis.host=localhost    # RedisæœåŠ¡å™¨è¿æ¥ç«¯å£    spring.redis.port=6379    # RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰    #spring.redis.password=980508    # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰    spring.redis.jedis.pool.max-active=8    # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰    spring.redis.jedis.pool.max-wait=-1    # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥    spring.redis.jedis.pool.max-idle=8    # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥    spring.redis.jedis.pool.min-idle=0</code></pre><h3 id="æµ‹è¯•redis"><a href="#æµ‹è¯•redis" class="headerlink" title="æµ‹è¯•redis"></a>æµ‹è¯•redis</h3><ul><li><p>redisä¸­å¸¸è§çš„äº”å¤§æ•°æ®ç±»å‹</p><ul><li>Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼ŒListï¼ˆåˆ—è¡¨ï¼‰ï¼ŒSetï¼ˆé›†åˆï¼‰ï¼ŒHashï¼ˆæ•£åˆ—ï¼‰ï¼ŒZSet   æœ‰åºé›†åˆï¼‰</li></ul></li><li><p>redisä¸¤ä¸ªtemplate</p><ul><li><p>StringRedisTemplate stringRedisTemplate;    //æ“ä½œk-véƒ½æ˜¯å­—ç¬¦ä¸²çš„</p></li><li><p>RedisTemplate redisTemplate;    //æ“ä½œk-véƒ½æ˜¯å¯¹è±¡çš„</p></li></ul></li><li><p>å…·ä½“ç”¨æ³•ï¼ˆredisTemplateæ˜¯ä¸€æ ·çš„ï¼‰</p><ul><li>stringRedisTemplate.opsForValue()    [Stringï¼ˆå­—ç¬¦ä¸²ï¼‰]</li><li>stringRedisTemplate.opsForList()    [Listï¼ˆåˆ—è¡¨ï¼‰]</li><li>stringRedisTemplate.opsForSet()    [Setï¼ˆé›†åˆï¼‰]</li><li>stringRedisTemplate.opsForHash()    [Hashï¼ˆæ•£åˆ—ï¼‰]</li><li>stringRedisTemplate.opsForZSet()    [ZSetï¼ˆæœ‰åºé›†åˆï¼‰]</li></ul></li></ul><h4 id="test01"><a href="#test01" class="headerlink" title="test01"></a>test01</h4><pre><code>    //æµ‹è¯•ç»™redisä¸­ä¿å­˜æ•°æ®ï¼Œæ“ä½œk-véƒ½æ˜¯å­—ç¬¦ä¸²çš„    @Autowired    StringRedisTemplate stringRedisTemplate;    //æ“ä½œk-véƒ½æ˜¯å­—ç¬¦ä¸²çš„    @Test    public void test01(){        //stringRedisTemplate.opsForValue().append(&quot;msg&quot;,&quot;lihua&quot;);        //å­—ç¬¦ä¸²        //String msg=stringRedisTemplate.opsForValue().get(&quot;msg&quot;);        //System.out.println(msg);        stringRedisTemplate.opsForList().leftPush(&quot;mylist&quot;,&quot;1&quot;);        //åˆ—è¡¨        stringRedisTemplate.opsForList().leftPush(&quot;mylist&quot;,&quot;2&quot;);    }</code></pre><h4 id="test02"><a href="#test02" class="headerlink" title="test02"></a>test02</h4><pre><code>    //æµ‹è¯•ä¿å­˜å¯¹è±¡    @Autowired    RedisTemplate redisTemplate;    //æ“ä½œk-véƒ½æ˜¯å¯¹è±¡çš„    @Autowired    EmployeeMapper employeeMapper;    @Test    public void test02(){        Employee EmpById=employeeMapper.getEmpById(1);        //é»˜è®¤å¦‚æœä¿å­˜å¯¹è±¡ï¼Œä½¿ç”¨jdkåºåˆ—åŒ–æœºåˆ¶ï¼Œåºåˆ—åŒ–çš„æ•°æ®ä¿å­˜åˆ°redisä¸­        redisTemplate.opsForValue().set(&quot;emp-01&quot;,EmpById);        redisTemplate.opsForValue().set(&quot;dept-01&quot;,departmentMapper.getDepById(1));    }</code></pre><h3 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–"></a>åºåˆ—åŒ–</h3><ul><li><p>ä¿å­˜å¯¹è±¡å­˜è¿›redisä¸­çš„æ•°æ®ä¸æ˜¯jsonæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒè½¬æ¢æˆjsonæ•°æ®ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åºåˆ—è¯æœºåˆ¶ï¼Œæ”¹å˜redisTemplateé»˜è®¤çš„åºåˆ—åŒ–è§„åˆ™</p></li><li><p>é»˜è®¤ä¿å­˜å¯¹è±¡ï¼Œæ˜¯ä½¿ç”¨jdkåºåˆ—åŒ–è§„åˆ™ï¼Œæˆ‘ä»¬éœ€è¦æ”¹æˆjsonåºåˆ—åŒ–è§„åˆ™</p></li></ul><p>Employee</p><pre><code>    //å®ç°ä¸€ä¸ªæ¥å£    public class Employee implements Serializable{</code></pre><ul><li>åˆ›å»ºä¸€ä¸ªé…ç½®ç±»</li></ul><p>config.MyRedisConfig</p><pre><code>    @Bean    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) {        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();        // é…ç½®è¿æ¥å·¥å‚        template.setConnectionFactory(factory);        //ä½¿ç”¨Jackson2JsonRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–redisçš„valueå€¼ï¼ˆé»˜è®¤ä½¿ç”¨JDKçš„åºåˆ—åŒ–æ–¹å¼ï¼‰        Jackson2JsonRedisSerializer jacksonSeial = new Jackson2JsonRedisSerializer(Object.class);        ObjectMapper om = new ObjectMapper();        // æŒ‡å®šè¦åºåˆ—åŒ–çš„åŸŸï¼Œfield,getå’Œset,ä»¥åŠä¿®é¥°ç¬¦èŒƒå›´ï¼ŒANYæ˜¯éƒ½æœ‰åŒ…æ‹¬privateå’Œpublic        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);        // æŒ‡å®šåºåˆ—åŒ–è¾“å…¥çš„ç±»å‹ï¼Œç±»å¿…é¡»æ˜¯éfinalä¿®é¥°çš„ï¼Œfinalä¿®é¥°çš„ç±»ï¼Œæ¯”å¦‚String,Integerç­‰ä¼šè·‘å‡ºå¼‚å¸¸        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);        jacksonSeial.setObjectMapper(om);        // å€¼é‡‡ç”¨jsonåºåˆ—åŒ–        template.setValueSerializer(jacksonSeial);        //ä½¿ç”¨StringRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–redisçš„keyå€¼        template.setKeySerializer(new StringRedisSerializer());        // è®¾ç½®hash key å’Œvalueåºåˆ—åŒ–æ¨¡å¼        template.setHashKeySerializer(new StringRedisSerializer());        template.setHashValueSerializer(jacksonSeial);        template.afterPropertiesSet();        return template;    }</code></pre><h3 id="è‡ªå®šä¹‰Cachemanager"><a href="#è‡ªå®šä¹‰Cachemanager" class="headerlink" title="è‡ªå®šä¹‰Cachemanager"></a>è‡ªå®šä¹‰Cachemanager</h3><ul><li>ç¼“å­˜ç®¡ç†å™¨,è½¬æ¢ä¸ºjsonæ•°æ®</li><li>å½“æˆ‘ä»¬è¿è¡Œå­˜å…¥ç¼“å­˜ä¸­çš„æ•°æ®ä¸æ˜¯jsonæ•°æ®ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰CacheManagerï¼ŒæŠŠå®ƒè½¬æ¢ä¸ºjsonæ•°æ®</li></ul><p>config.MyRedisConfig</p><pre><code>    /**     * ç¼“å­˜ç®¡ç†å™¨,è½¬æ¢ä¸ºjsonæ•°æ®     */    @Bean    public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {        //åˆå§‹åŒ–ä¸€ä¸ªRedisCacheWriter        RedisCacheWriter redisCacheWriter = RedisCacheWriter.nonLockingRedisCacheWriter(redisConnectionFactory);        //è®¾ç½®CacheManagerçš„å€¼åºåˆ—åŒ–æ–¹å¼ä¸ºjsonåºåˆ—åŒ–        RedisSerializer&lt;Object&gt; jsonSerializer = new GenericJackson2JsonRedisSerializer();        RedisSerializationContext.SerializationPair&lt;Object&gt; pair = RedisSerializationContext.SerializationPair                .fromSerializer(jsonSerializer);        RedisCacheConfiguration defaultCacheConfig=RedisCacheConfiguration.defaultCacheConfig()                .serializeValuesWith(pair);        //è®¾ç½®é»˜è®¤è¶…è¿‡æœŸæ—¶é—´æ˜¯30ç§’        defaultCacheConfig.entryTtl(Duration.ofSeconds(30));        //åˆå§‹åŒ–RedisCacheManager        return new RedisCacheManager(redisCacheWriter, defaultCacheConfig);    }</code></pre>]]></content>
      
      
      <categories>
          
          <category> springboot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springbooté«˜çº§ç¼“å­˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot jdbc</title>
      <link href="/2020/01/13/springboot-lian-jie-jdbc/"/>
      <url>/2020/01/13/springboot-lian-jie-jdbc/</url>
      
        <content type="html"><![CDATA[<h1 id="springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº"><a href="#springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº" class="headerlink" title="springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº"></a>springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº</h1><h1 id="è¿æ¥jdbcæ•°æ®åº“"><a href="#è¿æ¥jdbcæ•°æ®åº“" class="headerlink" title="è¿æ¥jdbcæ•°æ®åº“"></a>è¿æ¥jdbcæ•°æ®åº“</h1><h2 id="å¯¼å…¥ç›¸å…³ä¾èµ–"><a href="#å¯¼å…¥ç›¸å…³ä¾èµ–" class="headerlink" title="å¯¼å…¥ç›¸å…³ä¾èµ–"></a>å¯¼å…¥ç›¸å…³ä¾èµ–</h2><pre><code>&lt;!--å¯¼å…¥jdbcç›¸å…³ä¾èµ–--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;      &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;      &lt;version&gt;2.1.1&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;mysql&lt;/groupId&gt;      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;      &lt;scope&gt;runtime&lt;/scope&gt;    &lt;/dependency&gt;</code></pre><h2 id="é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯"><a href="#é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯" class="headerlink" title="é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯"></a>é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</h2><ul><li>application.yml</li></ul><pre><code>    spring:      datasource:        username: root        password: æ•°æ®åº“å¯†ç         url: jdbc:mysql://localhost:3306/springboot?serverTimezone=UTC        driver-class-name: com.mysql.cj.jdbc.Driver</code></pre><h2 id="æµ‹è¯•è¿æ¥"><a href="#æµ‹è¯•è¿æ¥" class="headerlink" title="æµ‹è¯•è¿æ¥"></a>æµ‹è¯•è¿æ¥</h2><ul><li>åœ¨æµ‹è¯•ç±»ä¸­æµ‹è¯•</li></ul><pre><code>    @SpringBootTest    class SpringBootData06JdbcApplicationTests {      @Autowired      DataSource dataSource;      //æµ‹è¯•è¿æ¥æ•°æ®åº“      @Test      void contextLoads() throws SQLException {        System.out.println(dataSource.getClass());        Connection connection = dataSource.getConnection();        System.out.println(connection);      }    }</code></pre><ul><li>springbooté»˜è®¤æ˜¯ä½¿ç”¨com.zaxxer.hikari.HikariDataSourceä½œä¸ºæ•°æ®æºï¼Œ</li></ul><p>2.0ä»¥ä¸‹æ˜¯ç”¨org.apache.tomcat.jdbc.pool.DataSourceä½œä¸ºæ•°æ®æºï¼›</p><pre><code>    å¦‚æœå‡ºç°com.zaxxer.hikari.HikariDataSourceåˆ™è¡¨ç¤ºè¿æ¥æˆåŠŸ</code></pre><h2 id="æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ"><a href="#æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ" class="headerlink" title="æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ"></a>æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ</h2><pre><code>    @RestController    public class JdbcController {        //æŸ¥è¯¢æ•°æ®åº“çš„æ•°æ®è¿”å›ç½‘é¡µ        @Autowired        JdbcTemplate jdbcTemplate;        @GetMapping(&quot;/query&quot;)        public Map&lt;String,Object&gt; map(){            List&lt;Map&lt;String, Object&gt;&gt; list = jdbcTemplate.queryForList(&quot;SELECT * from department&quot;);            return list.get(0);        }    }</code></pre><p><a href="http://localhost:8080/query" target="_blank" rel="noopener">æŸ¥è¯¢</a>  </p><h1 id="æ•´åˆDruidæ•°æ®æº"><a href="#æ•´åˆDruidæ•°æ®æº" class="headerlink" title="æ•´åˆDruidæ•°æ®æº"></a>æ•´åˆDruidæ•°æ®æº</h1><h2 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h2><ul><li>åœ¨springbooté¡¹ç›®ä¸­å¯¼å…¥druidæ•°æ®æºä¾èµ–<a href="https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥è¯¢æœ€æ–°ä¾èµ–</a></li></ul><pre><code>    &lt;dependency&gt;        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;        &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;        &lt;version&gt;1.1.20&lt;/version&gt;    &lt;/dependency&gt;</code></pre><h2 id="é…ç½®ä¿¡æ¯"><a href="#é…ç½®ä¿¡æ¯" class="headerlink" title="é…ç½®ä¿¡æ¯"></a>é…ç½®ä¿¡æ¯</h2><ul><li>application.yml</li></ul><pre><code>    #jdbcçš„é…ç½®    spring:      datasource:        password: 980508        username: root        url: jdbc:mysql://localhost:3306/springboot?serverTimezone=UTC&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8        driver-class-name: com.mysql.cj.jdbc.Driver        initialization-mode: always        #æ•´åˆDruidæ•°æ®æº        type: com.alibaba.druid.pool.DruidDataSource        druid:          # è¿æ¥æ± é…ç½®          # é…ç½®åˆå§‹åŒ–å¤§å°ã€æœ€å°ã€æœ€å¤§          initial-size: 1          min-idle: 1          max-active: 20          # é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´          max-wait: 3000          validation-query: SELECT 1 FROM DUAL          test-on-borrow: false          test-on-return: false          test-while-idle: true          pool-prepared-statements: true          time-between-eviction-runs-millis: 60000          min-evictable-idle-time-millis: 300000          filters: stat,wall,slf4j          # é…ç½®webç›‘æ§,é»˜è®¤é…ç½®ä¹Ÿå’Œä¸‹é¢ç›¸åŒ(é™¤ç”¨æˆ·åå¯†ç ï¼Œenabledé»˜è®¤falseå¤–)ï¼Œå…¶ä»–å¯ä»¥ä¸é…          web-stat-filter:            enabled: true            url-pattern: /*            exclusions: &quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot;          stat-view-servlet:            enabled: true            url-pattern: /druid/*            login-username: lihuazhou            login-password: 980508            allow: 192.168.182.1</code></pre><h2 id="æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº"><a href="#æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº" class="headerlink" title="æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº"></a>æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº</h2><pre><code>    @SpringBootTest    class SpringbootJdbcApplicationTests {        @Autowired        private DataSource dataSource;        @Test        void contextLoads() throws SQLException {            System.out.println(dataSource.getClass());            System.out.println(dataSource.getConnection());        }    }</code></pre><h2 id="ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»"><a href="#ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»" class="headerlink" title="ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»"></a>ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»</h2><ul><li><p>DruidConfig</p></li><li><p>éœ€è¦æŠŠé…ç½®ä¿¡æ¯ä»application.ymlä¸­åŠ å…¥åˆ°å®¹å™¨ä¸­</p></li></ul><pre><code>    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)            @Bean            public DataSource druid(){                return  new DruidDataSource();            }</code></pre><ul><li>é…ç½®ä¸€ä¸ªServeletå®¹å™¨æ¥ç®¡ç†åå°ï¼ˆDruidçš„ç›‘æ§ï¼‰</li></ul><pre><code>    @Bean    public ServletRegistrationBean statViewServlet(){        ServletRegistrationBean bean=new ServletRegistrationBean(new StatViewServlet(),&quot;/druid/*&quot;); //druidåå°çš„è·¯å¾„        Map&lt;String,String&gt; initParams =new HashMap&lt;&gt;();        initParams.put(&quot;loginUsername&quot;,&quot;lihuazhou&quot;);        initParams.put(&quot;loginPassword&quot;,&quot;980508&quot;);        initParams.put(&quot;allow&quot;,&quot;&quot;);//å¯ä»¥è®¾ç½®ä¸ºlocalhostä¸‹æ‰èƒ½è®¿é—®ï¼Œé»˜è®¤æ˜¯æ‰€æœ‰éƒ½å¯ä»¥è®¿é—®        initParams.put(&quot;deny&quot;,&quot;&quot;);//é»˜è®¤æ˜¯ä¸ç¦ç”¨è·¯å¾„        bean.setInitParameters(initParams);        return bean;    }</code></pre><ul><li>é…ç½®ä¸€ä¸ªwebç›‘æ§çš„Filterï¼ˆæ‹¦æˆªä¸€äº›æ“ä½œï¼Œæœ‰ç‚¹ç±»ä¼¼æ‹¦æˆªå™¨ï¼‰</li></ul><pre><code>    @Bean    public FilterRegistrationBean webStatFilter(){        FilterRegistrationBean bean = new FilterRegistrationBean();        bean.setFilter(new WebStatFilter());        Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;();        initParams.put(&quot;exclusions&quot;,&quot;*.js,*.css,/druid/*&quot;);     //é™¤äº†è¿™äº›æ“ä½œçš„æ•°æ®ï¼Œå…¶ä»–éƒ½ä¼šè¢«æ‹¦æˆª        bean.setInitParameters(initParams);        bean.setUrlPatterns(Arrays.asList(&quot;/*&quot;));      return  bean;      }</code></pre><ul><li>Druidé¡µé¢<h1 id="springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº-1"><a href="#springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº-1" class="headerlink" title="springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº"></a>springbootè¿æ¥jdbcæ•°æ®åº“å¹¶ä¸”æ•´åˆDruidæ•°æ®æº</h1></li></ul><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul><li>1.<a href="#è¿æ¥jdbcæ•°æ®åº“">è¿æ¥jdbcæ•°æ®åº“</a><ul><li>1.<a href="#å¯¼å…¥ç›¸å…³ä¾èµ–">å¯¼å…¥ç›¸å…³ä¾èµ–</a></li><li>2.<a href="#é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯">é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</a></li><li>3.<a href="#æµ‹è¯•è¿æ¥">æµ‹è¯•è¿æ¥</a></li><li>4.<a href="#æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ">æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ</a></li></ul></li><li>1.<a href="#æ•´åˆDruidæ•°æ®æº">æ•´åˆDruidæ•°æ®æº</a><ul><li>1.<a href="#å¯¼å…¥ä¾èµ–">å¯¼å…¥ä¾èµ–</a></li><li>2.<a href="#é…ç½®ä¿¡æ¯">é…ç½®ä¿¡æ¯</a></li><li>3.<a href="#æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº">æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº</a></li><li>4.<a href="#ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»">ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»</a></li></ul></li></ul><h1 id="è¿æ¥jdbcæ•°æ®åº“-1"><a href="#è¿æ¥jdbcæ•°æ®åº“-1" class="headerlink" title="è¿æ¥jdbcæ•°æ®åº“"></a>è¿æ¥jdbcæ•°æ®åº“</h1><h2 id="å¯¼å…¥ç›¸å…³ä¾èµ–-1"><a href="#å¯¼å…¥ç›¸å…³ä¾èµ–-1" class="headerlink" title="å¯¼å…¥ç›¸å…³ä¾èµ–"></a>å¯¼å…¥ç›¸å…³ä¾èµ–</h2><pre><code>&lt;!--å¯¼å…¥jdbcç›¸å…³ä¾èµ–--&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;      &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;      &lt;version&gt;2.1.1&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;      &lt;groupId&gt;mysql&lt;/groupId&gt;      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;      &lt;scope&gt;runtime&lt;/scope&gt;    &lt;/dependency&gt;</code></pre><h2 id="é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯-1"><a href="#é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯-1" class="headerlink" title="é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯"></a>é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</h2><ul><li>application.yml</li></ul><pre><code>    spring:      datasource:        username: root        password: æ•°æ®åº“å¯†ç         url: jdbc:mysql://localhost:3306/springboot?serverTimezone=UTC        driver-class-name: com.mysql.cj.jdbc.Driver</code></pre><h2 id="æµ‹è¯•è¿æ¥-1"><a href="#æµ‹è¯•è¿æ¥-1" class="headerlink" title="æµ‹è¯•è¿æ¥"></a>æµ‹è¯•è¿æ¥</h2><ul><li>åœ¨æµ‹è¯•ç±»ä¸­æµ‹è¯•</li></ul><pre><code>    @SpringBootTest    class SpringBootData06JdbcApplicationTests {      @Autowired      DataSource dataSource;      //æµ‹è¯•è¿æ¥æ•°æ®åº“      @Test      void contextLoads() throws SQLException {        System.out.println(dataSource.getClass());        Connection connection = dataSource.getConnection();        System.out.println(connection);      }    }</code></pre><ul><li>springbooté»˜è®¤æ˜¯ä½¿ç”¨com.zaxxer.hikari.HikariDataSourceä½œä¸ºæ•°æ®æºï¼Œ</li></ul><p>2.0ä»¥ä¸‹æ˜¯ç”¨org.apache.tomcat.jdbc.pool.DataSourceä½œä¸ºæ•°æ®æºï¼›</p><pre><code>    å¦‚æœå‡ºç°com.zaxxer.hikari.HikariDataSourceåˆ™è¡¨ç¤ºè¿æ¥æˆåŠŸ</code></pre><h2 id="æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ-1"><a href="#æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ-1" class="headerlink" title="æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ"></a>æ•°æ®åº“æŸ¥è¯¢æ•°æ®è¿”å›ç½‘é¡µ</h2><pre><code>    @RestController    public class JdbcController {        //æŸ¥è¯¢æ•°æ®åº“çš„æ•°æ®è¿”å›ç½‘é¡µ        @Autowired        JdbcTemplate jdbcTemplate;        @GetMapping(&quot;/query&quot;)        public Map&lt;String,Object&gt; map(){            List&lt;Map&lt;String, Object&gt;&gt; list = jdbcTemplate.queryForList(&quot;SELECT * from department&quot;);            return list.get(0);        }    }</code></pre><p><a href="http://localhost:8080/query" target="_blank" rel="noopener">æŸ¥è¯¢</a>  </p><h1 id="æ•´åˆDruidæ•°æ®æº-1"><a href="#æ•´åˆDruidæ•°æ®æº-1" class="headerlink" title="æ•´åˆDruidæ•°æ®æº"></a>æ•´åˆDruidæ•°æ®æº</h1><h2 id="å¯¼å…¥ä¾èµ–-1"><a href="#å¯¼å…¥ä¾èµ–-1" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h2><ul><li>åœ¨springbooté¡¹ç›®ä¸­å¯¼å…¥druidæ•°æ®æºä¾èµ–<a href="https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥è¯¢æœ€æ–°ä¾èµ–</a></li></ul><pre><code>    &lt;dependency&gt;        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;        &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;        &lt;version&gt;1.1.20&lt;/version&gt;    &lt;/dependency&gt;</code></pre><h2 id="é…ç½®ä¿¡æ¯-1"><a href="#é…ç½®ä¿¡æ¯-1" class="headerlink" title="é…ç½®ä¿¡æ¯"></a>é…ç½®ä¿¡æ¯</h2><ul><li>application.yml</li></ul><pre><code>    #jdbcçš„é…ç½®    spring:      datasource:        password: 980508        username: root        url: jdbc:mysql://localhost:3306/springboot?serverTimezone=UTC&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8        driver-class-name: com.mysql.cj.jdbc.Driver        initialization-mode: always        #æ•´åˆDruidæ•°æ®æº        type: com.alibaba.druid.pool.DruidDataSource        druid:          # è¿æ¥æ± é…ç½®          # é…ç½®åˆå§‹åŒ–å¤§å°ã€æœ€å°ã€æœ€å¤§          initial-size: 1          min-idle: 1          max-active: 20          # é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´          max-wait: 3000          validation-query: SELECT 1 FROM DUAL          test-on-borrow: false          test-on-return: false          test-while-idle: true          pool-prepared-statements: true          time-between-eviction-runs-millis: 60000          min-evictable-idle-time-millis: 300000          filters: stat,wall,slf4j          # é…ç½®webç›‘æ§,é»˜è®¤é…ç½®ä¹Ÿå’Œä¸‹é¢ç›¸åŒ(é™¤ç”¨æˆ·åå¯†ç ï¼Œenabledé»˜è®¤falseå¤–)ï¼Œå…¶ä»–å¯ä»¥ä¸é…          web-stat-filter:            enabled: true            url-pattern: /*            exclusions: &quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot;          stat-view-servlet:            enabled: true            url-pattern: /druid/*            login-username: lihuazhou            login-password: 980508            allow: 192.168.182.1</code></pre><h2 id="æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº-1"><a href="#æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº-1" class="headerlink" title="æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº"></a>æµ‹è¯•ç±»æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®æº</h2><pre><code>    @SpringBootTest    class SpringbootJdbcApplicationTests {        @Autowired        private DataSource dataSource;        @Test        void contextLoads() throws SQLException {            System.out.println(dataSource.getClass());            System.out.println(dataSource.getConnection());        }    }</code></pre><h2 id="ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»-1"><a href="#ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»-1" class="headerlink" title="ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»"></a>ç¼–å†™ä¸€ä¸ªDruidé…ç½®ç±»</h2><ul><li><p>DruidConfig</p></li><li><p>éœ€è¦æŠŠé…ç½®ä¿¡æ¯ä»application.ymlä¸­åŠ å…¥åˆ°å®¹å™¨ä¸­</p></li></ul><pre><code>    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)            @Bean            public DataSource druid(){                return  new DruidDataSource();            }</code></pre><ul><li>é…ç½®ä¸€ä¸ªServeletå®¹å™¨æ¥ç®¡ç†åå°ï¼ˆDruidçš„ç›‘æ§ï¼‰</li></ul><pre><code>    @Bean    public ServletRegistrationBean statViewServlet(){        ServletRegistrationBean bean=new ServletRegistrationBean(new StatViewServlet(),&quot;/druid/*&quot;); //druidåå°çš„è·¯å¾„        Map&lt;String,String&gt; initParams =new HashMap&lt;&gt;();        initParams.put(&quot;loginUsername&quot;,&quot;lihuazhou&quot;);        initParams.put(&quot;loginPassword&quot;,&quot;980508&quot;);        initParams.put(&quot;allow&quot;,&quot;&quot;);//å¯ä»¥è®¾ç½®ä¸ºlocalhostä¸‹æ‰èƒ½è®¿é—®ï¼Œé»˜è®¤æ˜¯æ‰€æœ‰éƒ½å¯ä»¥è®¿é—®        initParams.put(&quot;deny&quot;,&quot;&quot;);//é»˜è®¤æ˜¯ä¸ç¦ç”¨è·¯å¾„        bean.setInitParameters(initParams);        return bean;    }</code></pre><ul><li>é…ç½®ä¸€ä¸ªwebç›‘æ§çš„Filterï¼ˆæ‹¦æˆªä¸€äº›æ“ä½œï¼Œæœ‰ç‚¹ç±»ä¼¼æ‹¦æˆªå™¨ï¼‰</li></ul><pre><code>    @Bean    public FilterRegistrationBean webStatFilter(){        FilterRegistrationBean bean = new FilterRegistrationBean();        bean.setFilter(new WebStatFilter());        Map&lt;String,String&gt; initParams = new HashMap&lt;&gt;();        initParams.put(&quot;exclusions&quot;,&quot;*.js,*.css,/druid/*&quot;);     //é™¤äº†è¿™äº›æ“ä½œçš„æ•°æ®ï¼Œå…¶ä»–éƒ½ä¼šè¢«æ‹¦æˆª        bean.setInitParameters(initParams);        bean.setUrlPatterns(Arrays.asList(&quot;/*&quot;));      return  bean;      }</code></pre><ul><li>Druidé¡µé¢</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/images/25.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> springboot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springboot jdbc </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
